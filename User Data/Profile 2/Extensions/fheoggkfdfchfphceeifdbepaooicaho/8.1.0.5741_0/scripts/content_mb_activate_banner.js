/*!
 * 
 *     MCAFEE RESTRICTED CONFIDENTIAL
 *     Copyright (c) 2024 McAfee, LLC
 *
 *     The source code contained or described herein and all documents related
 *     to the source code ("Material") are owned by McAfee or its
 *     suppliers or licensors. Title to the Material remains with McAfee
 *     or its suppliers and licensors. The Material contains trade
 *     secrets and proprietary and confidential information of McAfee or its
 *     suppliers and licensors. The Material is protected by worldwide copyright
 *     and trade secret laws and treaty provisions. No part of the Material may
 *     be used, copied, reproduced, modified, published, uploaded, posted,
 *     transmitted, distributed, or disclosed in any way without McAfee's prior
 *     express written permission.
 *
 *     No license under any patent, copyright, trade secret or other intellectual
 *     property right is granted to or conferred upon you by disclosure or
 *     delivery of the Materials, either expressly, by implication, inducement,
 *     estoppel or otherwise. Any license under such intellectual property rights
 *     must be expressed and approved by McAfee in writing.
 *
 */(()=>{var e={2838:function(e){
/*! @license DOMPurify 2.4.3 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.4.3/LICENSE */
e.exports=function(){"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,n){return t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},t(e,n)}function n(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function i(e,s,o){return i=n()?Reflect.construct:function(e,n,i){var s=[null];s.push.apply(s,n);var o=new(Function.bind.apply(e,s));return i&&t(o,i.prototype),o},i.apply(null,arguments)}function s(e){return o(e)||a(e)||r(e)||E()}function o(e){if(Array.isArray(e))return _(e)}function a(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function r(e,t){if(e){if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_(e,t):void 0}}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function E(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c=Object.hasOwnProperty,l=Object.setPrototypeOf,T=Object.isFrozen,N=Object.getPrototypeOf,A=Object.getOwnPropertyDescriptor,d=Object.freeze,p=Object.seal,S=Object.create,m="undefined"!=typeof Reflect&&Reflect,I=m.apply,u=m.construct;I||(I=function(e,t,n){return e.apply(t,n)}),d||(d=function(e){return e}),p||(p=function(e){return e}),u||(u=function(e,t){return i(e,s(t))});var O=M(Array.prototype.forEach),C=M(Array.prototype.pop),h=M(Array.prototype.push),R=M(String.prototype.toLowerCase),g=M(String.prototype.toString),D=M(String.prototype.match),y=M(String.prototype.replace),L=M(String.prototype.indexOf),f=M(String.prototype.trim),b=M(RegExp.prototype.test),P=G(TypeError);function M(e){return function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),s=1;s<n;s++)i[s-1]=arguments[s];return I(e,t,i)}}function G(e){return function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return u(e,n)}}function w(e,t,n){n=n||R,l&&l(e,null);for(var i=t.length;i--;){var s=t[i];if("string"==typeof s){var o=n(s);o!==s&&(T(t)||(t[i]=o),s=o)}e[s]=!0}return e}function v(e){var t,n=S(null);for(t in e)!0===I(c,e,[t])&&(n[t]=e[t]);return n}function B(e,t){for(;null!==e;){var n=A(e,t);if(n){if(n.get)return M(n.get);if("function"==typeof n.value)return M(n.value)}e=N(e)}function i(e){return console.warn("fallback value for",e),null}return i}var F=d(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),U=d(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),H=d(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),k=d(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),K=d(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),W=d(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),V=d(["#text"]),q=d(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),x=d(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Y=d(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),z=d(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),j=p(/\{\{[\w\W]*|[\w\W]*\}\}/gm),$=p(/<%[\w\W]*|[\w\W]*%>/gm),Q=p(/\${[\w\W]*}/gm),X=p(/^data-[\-\w.\u00B7-\uFFFF]/),J=p(/^aria-[\-\w]+$/),Z=p(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),ee=p(/^(?:\w+script|data):/i),te=p(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),ne=p(/^html$/i),ie=function(){return"undefined"==typeof window?null:window},se=function(t,n){if("object"!==e(t)||"function"!=typeof t.createPolicy)return null;var i=null,s="data-tt-policy-suffix";n.currentScript&&n.currentScript.hasAttribute(s)&&(i=n.currentScript.getAttribute(s));var o="dompurify"+(i?"#"+i:"");try{return t.createPolicy(o,{createHTML:function(e){return e},createScriptURL:function(e){return e}})}catch(e){return console.warn("TrustedTypes policy "+o+" could not be created."),null}};function oe(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie(),n=function(e){return oe(e)};if(n.version="2.4.3",n.removed=[],!t||!t.document||9!==t.document.nodeType)return n.isSupported=!1,n;var i=t.document,o=t.document,a=t.DocumentFragment,r=t.HTMLTemplateElement,_=t.Node,E=t.Element,c=t.NodeFilter,l=t.NamedNodeMap,T=void 0===l?t.NamedNodeMap||t.MozNamedAttrMap:l,N=t.HTMLFormElement,A=t.DOMParser,p=t.trustedTypes,S=E.prototype,m=B(S,"cloneNode"),I=B(S,"nextSibling"),u=B(S,"childNodes"),M=B(S,"parentNode");if("function"==typeof r){var G=o.createElement("template");G.content&&G.content.ownerDocument&&(o=G.content.ownerDocument)}var ae=se(p,i),re=ae?ae.createHTML(""):"",_e=o,Ee=_e.implementation,ce=_e.createNodeIterator,le=_e.createDocumentFragment,Te=_e.getElementsByTagName,Ne=i.importNode,Ae={};try{Ae=v(o).documentMode?o.documentMode:{}}catch(e){}var de={};n.isSupported="function"==typeof M&&Ee&&void 0!==Ee.createHTMLDocument&&9!==Ae;var pe,Se,me=j,Ie=$,ue=Q,Oe=X,Ce=J,he=ee,Re=te,ge=Z,De=null,ye=w({},[].concat(s(F),s(U),s(H),s(K),s(V))),Le=null,fe=w({},[].concat(s(q),s(x),s(Y),s(z))),be=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Pe=null,Me=null,Ge=!0,we=!0,ve=!1,Be=!1,Fe=!1,Ue=!1,He=!1,ke=!1,Ke=!1,We=!1,Ve=!0,qe=!1,xe="user-content-",Ye=!0,ze=!1,je={},$e=null,Qe=w({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),Xe=null,Je=w({},["audio","video","img","source","image","track"]),Ze=null,et=w({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),tt="http://www.w3.org/1998/Math/MathML",nt="http://www.w3.org/2000/svg",it="http://www.w3.org/1999/xhtml",st=it,ot=!1,at=null,rt=w({},[tt,nt,it],g),_t=["application/xhtml+xml","text/html"],Et="text/html",ct=null,lt=o.createElement("form"),Tt=function(e){return e instanceof RegExp||e instanceof Function},Nt=function(t){ct&&ct===t||(t&&"object"===e(t)||(t={}),t=v(t),pe=pe=-1===_t.indexOf(t.PARSER_MEDIA_TYPE)?Et:t.PARSER_MEDIA_TYPE,Se="application/xhtml+xml"===pe?g:R,De="ALLOWED_TAGS"in t?w({},t.ALLOWED_TAGS,Se):ye,Le="ALLOWED_ATTR"in t?w({},t.ALLOWED_ATTR,Se):fe,at="ALLOWED_NAMESPACES"in t?w({},t.ALLOWED_NAMESPACES,g):rt,Ze="ADD_URI_SAFE_ATTR"in t?w(v(et),t.ADD_URI_SAFE_ATTR,Se):et,Xe="ADD_DATA_URI_TAGS"in t?w(v(Je),t.ADD_DATA_URI_TAGS,Se):Je,$e="FORBID_CONTENTS"in t?w({},t.FORBID_CONTENTS,Se):Qe,Pe="FORBID_TAGS"in t?w({},t.FORBID_TAGS,Se):{},Me="FORBID_ATTR"in t?w({},t.FORBID_ATTR,Se):{},je="USE_PROFILES"in t&&t.USE_PROFILES,Ge=!1!==t.ALLOW_ARIA_ATTR,we=!1!==t.ALLOW_DATA_ATTR,ve=t.ALLOW_UNKNOWN_PROTOCOLS||!1,Be=t.SAFE_FOR_TEMPLATES||!1,Fe=t.WHOLE_DOCUMENT||!1,ke=t.RETURN_DOM||!1,Ke=t.RETURN_DOM_FRAGMENT||!1,We=t.RETURN_TRUSTED_TYPE||!1,He=t.FORCE_BODY||!1,Ve=!1!==t.SANITIZE_DOM,qe=t.SANITIZE_NAMED_PROPS||!1,Ye=!1!==t.KEEP_CONTENT,ze=t.IN_PLACE||!1,ge=t.ALLOWED_URI_REGEXP||ge,st=t.NAMESPACE||it,t.CUSTOM_ELEMENT_HANDLING&&Tt(t.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(be.tagNameCheck=t.CUSTOM_ELEMENT_HANDLING.tagNameCheck),t.CUSTOM_ELEMENT_HANDLING&&Tt(t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(be.attributeNameCheck=t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),t.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(be.allowCustomizedBuiltInElements=t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Be&&(we=!1),Ke&&(ke=!0),je&&(De=w({},s(V)),Le=[],!0===je.html&&(w(De,F),w(Le,q)),!0===je.svg&&(w(De,U),w(Le,x),w(Le,z)),!0===je.svgFilters&&(w(De,H),w(Le,x),w(Le,z)),!0===je.mathMl&&(w(De,K),w(Le,Y),w(Le,z))),t.ADD_TAGS&&(De===ye&&(De=v(De)),w(De,t.ADD_TAGS,Se)),t.ADD_ATTR&&(Le===fe&&(Le=v(Le)),w(Le,t.ADD_ATTR,Se)),t.ADD_URI_SAFE_ATTR&&w(Ze,t.ADD_URI_SAFE_ATTR,Se),t.FORBID_CONTENTS&&($e===Qe&&($e=v($e)),w($e,t.FORBID_CONTENTS,Se)),Ye&&(De["#text"]=!0),Fe&&w(De,["html","head","body"]),De.table&&(w(De,["tbody"]),delete Pe.tbody),d&&d(t),ct=t)},At=w({},["mi","mo","mn","ms","mtext"]),dt=w({},["foreignobject","desc","title","annotation-xml"]),pt=w({},["title","style","font","a","script"]),St=w({},U);w(St,H),w(St,k);var mt=w({},K);w(mt,W);var It=function(e){var t=M(e);t&&t.tagName||(t={namespaceURI:st,tagName:"template"});var n=R(e.tagName),i=R(t.tagName);return!!at[e.namespaceURI]&&(e.namespaceURI===nt?t.namespaceURI===it?"svg"===n:t.namespaceURI===tt?"svg"===n&&("annotation-xml"===i||At[i]):Boolean(St[n]):e.namespaceURI===tt?t.namespaceURI===it?"math"===n:t.namespaceURI===nt?"math"===n&&dt[i]:Boolean(mt[n]):e.namespaceURI===it?!(t.namespaceURI===nt&&!dt[i])&&!(t.namespaceURI===tt&&!At[i])&&!mt[n]&&(pt[n]||!St[n]):!("application/xhtml+xml"!==pe||!at[e.namespaceURI]))},ut=function(e){h(n.removed,{element:e});try{e.parentNode.removeChild(e)}catch(t){try{e.outerHTML=re}catch(t){e.remove()}}},Ot=function(e,t){try{h(n.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){h(n.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e&&!Le[e])if(ke||Ke)try{ut(t)}catch(e){}else try{t.setAttribute(e,"")}catch(e){}},Ct=function(e){var t,n;if(He)e="<remove></remove>"+e;else{var i=D(e,/^[\r\n\t ]+/);n=i&&i[0]}"application/xhtml+xml"===pe&&st===it&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");var s=ae?ae.createHTML(e):e;if(st===it)try{t=(new A).parseFromString(s,pe)}catch(e){}if(!t||!t.documentElement){t=Ee.createDocument(st,"template",null);try{t.documentElement.innerHTML=ot?re:s}catch(e){}}var a=t.body||t.documentElement;return e&&n&&a.insertBefore(o.createTextNode(n),a.childNodes[0]||null),st===it?Te.call(t,Fe?"html":"body")[0]:Fe?t.documentElement:a},ht=function(e){return ce.call(e.ownerDocument||e,e,c.SHOW_ELEMENT|c.SHOW_COMMENT|c.SHOW_TEXT,null,!1)},Rt=function(e){return e instanceof N&&("string"!=typeof e.nodeName||"string"!=typeof e.textContent||"function"!=typeof e.removeChild||!(e.attributes instanceof T)||"function"!=typeof e.removeAttribute||"function"!=typeof e.setAttribute||"string"!=typeof e.namespaceURI||"function"!=typeof e.insertBefore||"function"!=typeof e.hasChildNodes)},gt=function(t){return"object"===e(_)?t instanceof _:t&&"object"===e(t)&&"number"==typeof t.nodeType&&"string"==typeof t.nodeName},Dt=function(e,t,i){de[e]&&O(de[e],(function(e){e.call(n,t,i,ct)}))},yt=function(e){var t;if(Dt("beforeSanitizeElements",e,null),Rt(e))return ut(e),!0;if(b(/[\u0080-\uFFFF]/,e.nodeName))return ut(e),!0;var i=Se(e.nodeName);if(Dt("uponSanitizeElement",e,{tagName:i,allowedTags:De}),e.hasChildNodes()&&!gt(e.firstElementChild)&&(!gt(e.content)||!gt(e.content.firstElementChild))&&b(/<[/\w]/g,e.innerHTML)&&b(/<[/\w]/g,e.textContent))return ut(e),!0;if("select"===i&&b(/<template/i,e.innerHTML))return ut(e),!0;if(!De[i]||Pe[i]){if(!Pe[i]&&ft(i)){if(be.tagNameCheck instanceof RegExp&&b(be.tagNameCheck,i))return!1;if(be.tagNameCheck instanceof Function&&be.tagNameCheck(i))return!1}if(Ye&&!$e[i]){var s=M(e)||e.parentNode,o=u(e)||e.childNodes;if(o&&s)for(var a=o.length-1;a>=0;--a)s.insertBefore(m(o[a],!0),I(e))}return ut(e),!0}return e instanceof E&&!It(e)?(ut(e),!0):"noscript"!==i&&"noembed"!==i||!b(/<\/no(script|embed)/i,e.innerHTML)?(Be&&3===e.nodeType&&(t=e.textContent,t=y(t,me," "),t=y(t,Ie," "),t=y(t,ue," "),e.textContent!==t&&(h(n.removed,{element:e.cloneNode()}),e.textContent=t)),Dt("afterSanitizeElements",e,null),!1):(ut(e),!0)},Lt=function(e,t,n){if(Ve&&("id"===t||"name"===t)&&(n in o||n in lt))return!1;if(we&&!Me[t]&&b(Oe,t));else if(Ge&&b(Ce,t));else if(!Le[t]||Me[t]){if(!(ft(e)&&(be.tagNameCheck instanceof RegExp&&b(be.tagNameCheck,e)||be.tagNameCheck instanceof Function&&be.tagNameCheck(e))&&(be.attributeNameCheck instanceof RegExp&&b(be.attributeNameCheck,t)||be.attributeNameCheck instanceof Function&&be.attributeNameCheck(t))||"is"===t&&be.allowCustomizedBuiltInElements&&(be.tagNameCheck instanceof RegExp&&b(be.tagNameCheck,n)||be.tagNameCheck instanceof Function&&be.tagNameCheck(n))))return!1}else if(Ze[t]);else if(b(ge,y(n,Re,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==L(n,"data:")||!Xe[e])if(ve&&!b(he,y(n,Re,"")));else if(n)return!1;return!0},ft=function(e){return e.indexOf("-")>0},bt=function(t){var i,s,o,a;Dt("beforeSanitizeAttributes",t,null);var r=t.attributes;if(r){var _={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Le};for(a=r.length;a--;){var E=i=r[a],c=E.name,l=E.namespaceURI;if(s="value"===c?i.value:f(i.value),o=Se(c),_.attrName=o,_.attrValue=s,_.keepAttr=!0,_.forceKeepAttr=void 0,Dt("uponSanitizeAttribute",t,_),s=_.attrValue,!_.forceKeepAttr&&(Ot(c,t),_.keepAttr))if(b(/\/>/i,s))Ot(c,t);else{Be&&(s=y(s,me," "),s=y(s,Ie," "),s=y(s,ue," "));var T=Se(t.nodeName);if(Lt(T,o,s)){if(!qe||"id"!==o&&"name"!==o||(Ot(c,t),s=xe+s),ae&&"object"===e(p)&&"function"==typeof p.getAttributeType)if(l);else switch(p.getAttributeType(T,o)){case"TrustedHTML":s=ae.createHTML(s);break;case"TrustedScriptURL":s=ae.createScriptURL(s)}try{l?t.setAttributeNS(l,c,s):t.setAttribute(c,s),C(n.removed)}catch(e){}}}}Dt("afterSanitizeAttributes",t,null)}},Pt=function e(t){var n,i=ht(t);for(Dt("beforeSanitizeShadowDOM",t,null);n=i.nextNode();)Dt("uponSanitizeShadowNode",n,null),yt(n)||(n.content instanceof a&&e(n.content),bt(n));Dt("afterSanitizeShadowDOM",t,null)};return n.sanitize=function(s){var o,r,E,c,l,T=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if((ot=!s)&&(s="\x3c!--\x3e"),"string"!=typeof s&&!gt(s)){if("function"!=typeof s.toString)throw P("toString is not a function");if("string"!=typeof(s=s.toString()))throw P("dirty is not a string, aborting")}if(!n.isSupported){if("object"===e(t.toStaticHTML)||"function"==typeof t.toStaticHTML){if("string"==typeof s)return t.toStaticHTML(s);if(gt(s))return t.toStaticHTML(s.outerHTML)}return s}if(Ue||Nt(T),n.removed=[],"string"==typeof s&&(ze=!1),ze){if(s.nodeName){var N=Se(s.nodeName);if(!De[N]||Pe[N])throw P("root node is forbidden and cannot be sanitized in-place")}}else if(s instanceof _)1===(r=(o=Ct("\x3c!----\x3e")).ownerDocument.importNode(s,!0)).nodeType&&"BODY"===r.nodeName||"HTML"===r.nodeName?o=r:o.appendChild(r);else{if(!ke&&!Be&&!Fe&&-1===s.indexOf("<"))return ae&&We?ae.createHTML(s):s;if(!(o=Ct(s)))return ke?null:We?re:""}o&&He&&ut(o.firstChild);for(var A=ht(ze?s:o);E=A.nextNode();)3===E.nodeType&&E===c||yt(E)||(E.content instanceof a&&Pt(E.content),bt(E),c=E);if(c=null,ze)return s;if(ke){if(Ke)for(l=le.call(o.ownerDocument);o.firstChild;)l.appendChild(o.firstChild);else l=o;return Le.shadowroot&&(l=Ne.call(i,l,!0)),l}var d=Fe?o.outerHTML:o.innerHTML;return Fe&&De["!doctype"]&&o.ownerDocument&&o.ownerDocument.doctype&&o.ownerDocument.doctype.name&&b(ne,o.ownerDocument.doctype.name)&&(d="<!DOCTYPE "+o.ownerDocument.doctype.name+">\n"+d),Be&&(d=y(d,me," "),d=y(d,Ie," "),d=y(d,ue," ")),ae&&We?ae.createHTML(d):d},n.setConfig=function(e){Nt(e),Ue=!0},n.clearConfig=function(){ct=null,Ue=!1},n.isValidAttribute=function(e,t,n){ct||Nt({});var i=Se(e),s=Se(t);return Lt(i,s,n)},n.addHook=function(e,t){"function"==typeof t&&(de[e]=de[e]||[],h(de[e],t))},n.removeHook=function(e){if(de[e])return C(de[e])},n.removeHooks=function(e){de[e]&&(de[e]=[])},n.removeAllHooks=function(){de={}},n}return oe()}()},4924:(e,t,n)=>{"use strict";n.d(t,{AK:()=>i});const i={NONE:"NONE",ONLY_SECURE_SEARCH:"ONLY_SECURE_SEARCH",ALL:"ALL",*[Symbol.iterator](){for(const e of Object.keys(this))yield e}}},1999:(e,t,n)=>{"use strict";n.d(t,{R:()=>i});const i={ANNOTATION:{},BackgroundIPC:null,BackgroundCommons:null,ContextTelemetry:null,TelemetryEventNames:null,UrlParser:null,Utils:null,Commands:{},CommonConstants:{},extension:null,SearchEngineHelper:null,prevLink:null,Logger:null}},3467:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var i=n(1999);class s{static getResString(e,t){i.R.ANNOTATION.resourceRequestor.getResStr(e,(n=>{n?t(n):i.R.Logger.error(`Resource string ${e} failed to fetch through resource requestor`)}))}}},3749:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var i=n(827);const s=async(e,t,n={},s={})=>{try{if(s?.tabId){const{tabId:i,frameId:o}=s;return await a(e,t,n,i,o)}if(s?.broadcast){const i=await chrome.tabs.query({}),{broadcastIgnoreId:a=[]}=s;return i.filter((({id:e})=>!a.includes(e))).forEach((({id:i})=>{o(e,t,n,i)})),!0}return await chrome.runtime.sendMessage({ipcId:e,command:t,...n})}catch(e){return i.Ay.warn(`Unexpected error when calling command: "${t}", err: ${e.message}`),null}},o=async(e,t,n,s)=>{try{chrome.tabs.sendMessage(s,{ipcId:e,command:t,...n},{},(()=>{chrome.runtime.lastError}))}catch(e){i.Ay.warn(`[broadcast] Unexpected error when calling command: "${t}", err: ${e.message}`)}},a=(e,t,n,i,s=null)=>{if(!chrome.tabs)throw new Error('"tabs" permission not set in manifest.');const o={};return"number"==typeof s&&(o.frameId=s),chrome.tabs.sendMessage(i,{ipcId:e,command:t,...n},o)}},8254:(e,t,n)=>{"use strict";n.d(t,{F:()=>i});const i={PRINT_IN_BACKGROUND:"PRINT_IN_BACKGROUND"}},827:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>T});var i=n(5835),s=n(8254);const o={NONE:0,INFO:1,ERROR:2,WARN:3,DEBUG:4,ALL_IN_BACKGROUND:99},a=1,r=2,_=3,E=4,c={BACKGROUND:"BACKGROUND",CONTENT:"CONTENT",TELEMETRY:"TELEMETRY"},l={DEFAULT:"color: #000000; font-weight: normal; font-style:normal; background: #FFFFFF;",BACKGROUND:"color: #8D0DBA; font-weight: bold; background: #FFFFFF;",CONTENT:"color: #F54A26; font-weight: bold; background: #FFFFFF;",TELEMETRY:"color: #147831; font-weight: bold; background: #FFFFFF;"};const T=new class{constructor(){this.storageChecked=!1,this.logLevel=null,this.queue=[];const e="MCLOGLEVEL";chrome?.storage?.local.get([e]).then((t=>{const n=Object.values(o).includes(t[e]);this.logLevel=n?t[e]:i.M.LOG_LEVEL,this.logLevel!==o.NONE&&this.queue.forEach((({callback:e,message:t,processType:n})=>{e(t,n)})),this.queue=[],this.storageChecked=!0}))}log(e,t=null){this.storageChecked?this.processLog(e,a,t,this.logLevel):this.queue.push({callback:this.log.bind(this),message:e,processType:t})}error(e,t=null){this.storageChecked?this.processLog(e,r,t,this.logLevel):this.queue.push({callback:this.error.bind(this),message:e,processType:t})}warn(e,t=null){this.storageChecked?this.processLog(e,_,t,this.logLevel):this.queue.push({callback:this.warn.bind(this),message:e,processType:t})}debug(e,t=null){this.storageChecked?this.processLog(e,E,t,this.logLevel):this.queue.push({callback:this.debug.bind(this),message:e,processType:t})}processLog(e,t,n,i){if(i===o.NONE)return;let a="chrome-extension:"===location.protocol?c.BACKGROUND:c.CONTENT;n&&c[n]&&(a=n);const _=new Date,E=t===r?e:`%c[${a} ${_.toLocaleString([],{hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0})}]: %c${e}`;a===c.CONTENT&&this.logLevel===o.ALL_IN_BACKGROUND&&chrome.runtime.sendMessage({command:s.F.PRINT_IN_BACKGROUND,logMessage:E,processType:a,logType:t,logLevel:i}),this.printLog(E,a,t,i)}printLog(e,t,n,i){const s=l.DEFAULT,c=l[t]||s;if(i>=o.ERROR&&n===r&&console.error(e),i>=o.INFO&&n===a&&console.log(e,c,s),i>=o.WARN&&n===_){const t="color: #FFA500; font-family: sans-serif; font-weight: bolder; text-shadow: #000 1px 1px;";console.log(`%cWARN - ${e}`,t,c,s)}if(i>=o.DEBUG&&n===E){const t="color: #FF33D7; font-family: sans-serif; font-weight: bolder; text-shadow: #000 1px 1px;";console.log(`%cDEBUG - ${e}`,t,c,s)}}}},5835:(e,t,n)=>{"use strict";n.d(t,{M:()=>i});const i={LOG_LEVEL:0}},22:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var i=n(6796);class s{static geti18nRes(e,t=[]){let n=i.c.i18n.getMessage(e,t);const s=i.c.i18n.getMessage("res_PRODUCT_NAME_TRADEMARKED");return n=n.replace(/%PRODUCTNAME%/g,s),n}static getResStr(e,t){const n=s.geti18nRes(e);t("??"===n?"":n)}static async getFileSource(e){try{return(await fetch(i.c.runtime.getURL(e))).text()}catch(e){return""}}}},7339:(e,t,n)=>{"use strict";n.d(t,{v:()=>E});var i=n(4394),s=n(8791),o=n(2966),a=n(7089),r=n(4671),_=n(6511);const E={isTrustCheckRequired:!0,ExtensionTelemetryUrl:null,scheduleManager:null,isNativeConnected:!0,telemetryEngine:null,postInstallationPage:"https://www.mcafee.com/consumer/v/wa-how.html",listenerManager:null,firefoxInternalUUID:"",shadowMode:"closed",browserType:o.Kr.BROWSER_TYPE,sessionStore:null,localStore:null,idb:null,ffViewports:null,garbageCollector:null,typoCache:null,logger:null,loglevel:null,messageDispatcher:null,port:null,tabData:new s.A,useNativeLogger:!1,wasm:null,userAgentInBase64:null,typoSquattingServer:a.wS.TYPOSQUATTING_SERVER,tldParser:null,urlParser:null,trustedDomains:a.BS,nativeSettings:i.nW,searchSuggest:null,ratBlacklist:a.hZ,preconditions:null,platform:_.Ay.getPlatform(),wssMessageDispatcher:null,wssNativeClient:null,WSS_INSTALLED:!1,isWPSInstalled:!1,searchEngines:null,enginesVersionUrl:a.wS.ENGINE_VERSION_URL,engineCheckInterval:864e5,ENGINES_VERSION:o.Kr.ENGINES_VERSION,AUTO_PLAY_NOTIFICATION_ENABLED:!1,DLS_POPUP_FOR_WA_NATIVE_ENABLED:!1,WA_EXTN_CONDITION_URL:a.wS.WA_EXTN_CONDITION_URL,ALLOW_LOCALHOST:!1,IDPS_AUTH_URL:"https://csptoken.ccs.mcafee.com/auth/token",IDPS_BREACH_COUNT_URL:"https://identity.unifiedapis.mcafee.com/breach/v1/BreachCount",IDPS_CSP_CLIENT_ID:null,IDPS_IS_ENTITLED:!1,IDPS_PROVISION_ID:null,IDPS_LOGIN_DOMAIN:"https://protection.mcafee.com",UA_CLIENT:null,TYPOSQUATTING_MAX_CACHE:100,TYPOSQUATTING_EXPIRY:2592e6,typosquattingHandler:null,URL_DOWNLOAD_MAX_CACHE:100,URL_DOWNLOAD_EXPIRY:2592e6,WA_IMAGE_SECRET:null,apsUrlList:a.A_,apsAnimationTimeout:5e3,wpsRequestedSettings:new Set(["SMA_USER_TOGGLE","SEARCH_ANNOTATION_OPTION","SMA_ANNOTATION_OPTIONS"]),permittedContentTypes:["application/vnd.microsoft.portable-executable","application/octet-stream","application/x-msdos-program","application/x-msdownload","binary/octet-stream","application/x-msdownload"],SUPPORTED_WEBSITE_LIST:["protection.mcafee.com","protection-dev-roadhouse-int.dvqa.mcafee.com","protection-dev2-roadhouse-int.dvqa.mcafee.com","protection-qa-roadhouse-int.dvqa.mcafee.com"],mtiRequestor:null,htiServer:a.wS.HTI_SERVER,cspClientId:"e87c73de-b45e-4427-b590-5124401795b6",sailer:null,sailorConditionUrl:a.wS.SAILOR_CONDITION_URL,allTrackerUrl:a.wS.ALL_TRACKER_URL,antitrackData:new r.A,isAntitrackerExtInstalled:!1,sendDataToWpsFlag:!1,analyticsContentVersion:"1.0.1",htiReportHandler:null,mockingBirdHandler:null}},4394:(e,t,n)=>{"use strict";n.d(t,{nW:()=>_});var i=n(2966);class s{static PreprocessSecureSearchRegEx(e){return e.trim().split("\n")}static getBrowserSuffix(){const{CH:e,FF:t,EDGE:n}={CH:"_ch",FF:"_ff",IE:"_ie",EDGE:"_ed"},s={};return s[i.dZ.EDGE]=n,s[i.dZ.FIREFOX]=t,s[i.dZ.CHROME]=e,s[i.Kr.BROWSER_TYPE]}}const{SYSTEM:o,USER:a}={SYSTEM:0,USER:1},r=s.getBrowserSuffix(),_={DEV_MODE:{scope:o,name:"dev_mode",value:!1},AFF_ID:{scope:o,name:"*Affid",value:0},BINARY_VERSION:{scope:o,name:"version",value:null},EXTENSION_VERSION_CH:{scope:o,name:"ChromeExtVersion",value:"",writeOnly:!0},EXTENSION_VERSION_FF:{scope:o,name:"*FirefoxXPIVersion",value:"",writeOnly:!0},EXTENSION_VERSION_ED:{scope:o,name:"EdgeExtVersion",value:"",writeOnly:!0},BROWSER_TYPE:{scope:o,name:"browsertype",value:"",writeOnly:!0},USER_AGENT:{scope:o,name:"useragent",value:"",writeOnly:!0},SUGGESTION_URL:{scope:o,name:"suggestion_url",value:""},SCRIPT_GENERATED_DEFAULT_SS_URL:{scope:a,name:`SCRIPT_GENERATED_DEFAULT_SS_URL${r}`,value:""},SECURE_SEARCH_REGEXES:{scope:a,name:"SECURE_SEARCH_REGEXES",value:"",preprocess:s.PreprocessSecureSearchRegEx},SHOW_SEARCH_SETTINGS:{scope:o,name:"*ShowSearchSettings",value:!0},SECURE_SEARCH_TOAST_STAMP:{scope:a,name:`*SSDateStampShowedToast${r}`,value:0},SECURE_SEARCH_ANNOTATION_ONLY:{scope:o,name:"*OnlyShowAnnotationsOnSecureSearch",value:!0},SECURE_SEARCH_SHOW_ICONS:{scope:a,name:"*Icons",value:!0},SECURE_SEARCH_CHOICE:{scope:a,name:`*SSToastChoice${r}`,value:!1},SS_DEF:{scope:o,name:`*SS_DEF${r}`,value:0},ANNOTATIONS_CHOICE_EXPLICIT:{scope:o,name:`*AnnotationsChoiceExplicit${r}`,value:!1},CURRENT_SAO_IN_EXTENSION:{scope:a,name:`*CurrentSAOInExtension${r}`,value:""},FF_EXTENSION_LAST_TOAST_TIME:{scope:a,name:"ff_extension_last_toast_time",value:0,writeOnly:!0},FF_EXTENSION_TOAST_COUNT:{scope:a,name:"ff_extension_toast_count",value:0,writeOnly:!0},CHECKLIST_START_INGORE_DATE_AV:{scope:o,name:"startIgnoreDateAV",value:"",writeOnly:!0},CHECKLIST_START_IGNORE_DATE_FW:{scope:o,name:"startIgnoreDateFW",value:"",writeOnly:!0},CHECKLIST_IGNORE_DURACTION:{scope:o,name:"ignoreDuration",value:"14",writeOnly:!0},CHECKLIST_GRACE_PERIOD_AV:{scope:o,name:"fixGracePeriodStartDateAV",value:"",writeOnly:!0},CHECKLIST_GRACE_PERIOD_FW:{scope:o,name:"fixGracePeriodStartDateFW",value:"",writeOnly:!0},CHECKLIST_GRACE_PERIOD_DURATION:{scope:o,name:"fixGracePeriodDuration",value:"24",writeOnly:!0},CRYPTOJACKING_DISABLED:{scope:o,name:"CryptojackingDisabled",value:!0},SMA_USER_TOGGLE:{scope:o,name:`sma_user_toggle${r}`,value:!1,writeOnly:!0},SMA_ANNOTATION_OPTIONS:{scope:o,name:`sma_annotation_options${r}`,value:0,writeOnly:!0},PAGES_SCANNED:{scope:o,name:"*CounterPagesScanned",value:0},PAGES_BLOCKED:{scope:o,name:"*CounterPagesBlocked",value:0},DOWNLOADS_SCANNED:{scope:o,name:"*CounterDownloadsScanned",value:0},DOWNLOADS_BLOCKED:{scope:o,name:"*CounterDownloadsBlocked",value:0},BLOCKPAGE_WHITELIST:{scope:a,name:"*WhiteList",value:""},TS_WHITELIST:{scope:a,name:"*TListWhiteList",value:""},CSP_ID_SETTING:{scope:o,name:"CSPIdValue",value:"__not_available__"},MTI_CLIENT_ID:{scope:o,name:"gti_client_id",value:""},JWT_TOKEN_ENABLED:{scope:o,name:"jwt_token_enabled",value:!1},UNINSTALL_SURVEY_ENABLED:{scope:o,name:"uninstall_survey_enabled",value:!1},UNINSTALL_SURVEY_URL:{scope:o,name:"uninstall_survey_url",value:""},RAT_DETECTION_ENABLED:{scope:o,name:"rat_detection_enabled",value:!0},IDPS_FEATURE_ENABLED:{scope:o,name:"idps_feature_enabled",value:0},APS_COHORT:{scope:o,name:"aps_cohort",value:0},APS_TOGGLE_SETTING:{scope:o,name:"aps_toggle_setting",value:!0},ALT_TRIGGER:{scope:o,name:"alt_triggers_cohort",value:0},ANNOTATION_JOURNEY_COHORT:{scope:o,name:`annotation_journey_cohort${r}`,value:0},ANNOTATION_JOURNEY_TOAST:{scope:a,name:`aj_toast${r}`,value:null},DAILY_GREEN_URLS_TO_COLLECT:{scope:o,name:"daily_green_urls_to_collect",value:0},FEATURE_COLLECTION_ENABLED:{scope:o,name:"feature_collection_enabled",value:!1},DAILY_GREEN_URLS_RESET_RATE:{scope:o,name:"daily_green_urls_reset_rate",value:0},HERON_REPORT_ENABLED:{scope:o,name:"heron_report_enabled",value:!1},SAMPLING_RATE_BLOCK_DEFAULT:{scope:o,name:"sampling_rate_block_default",value:100},SAMPLING_RATE_USER_FEEDBACK:{scope:o,name:"sampling_rate_user_feedback",value:1},WA_EXTN_UUID:{scope:a,name:`wa_extn_uuid${r}`,value:"",writeOnly:!0},MOCKINGBIRD_ENABLED:{scope:o,name:"mockingbird_enabled",value:!0},TYPOSQUAT_ENABLED:{scope:o,name:"typosquat_enabled",value:!0},DFD_FEEDBACK_ENABLED:{scope:o,name:"dfd_feedback_enabled",value:!1}}},9808:(e,t,n)=>{"use strict";n.d(t,{A:()=>E});var i=n(7339),s=n(1781);const o="PAGES_SCANNED",a="PAGES_BLOCKED",r="DOWNLOADS_SCANNED",_="DOWNLOADS_BLOCKED";class E{static init(){const e=this.read(),{PAGES_SCANNED:t,PAGES_BLOCKED:n,DOWNLOADS_SCANNED:o,DOWNLOADS_BLOCKED:a}=i.v.nativeSettings,r={pagesScanned:t.value||e.pagesScanned,pagesBlocked:n.value||e.pagesBlocked,downloadsScanned:o.value||e.downloadsScanned,downloadsBlocked:a.value||e.downloadsBlocked};i.v.localStore.set(s.q7.POPUP_STATS.name,r)}static add(e){const t=this.read();switch(e){case o:t.pagesScanned++;break;case a:t.pagesBlocked++;break;case r:t.downloadsScanned++;break;case _:t.downloadsBlocked++;break;default:return}i.v.localStore.set(s.q7.POPUP_STATS.name,t)}static read(){const e={pagesScanned:0,pagesBlocked:0,downloadsScanned:0,downloadsBlocked:0},t=i.v.localStore.get(s.q7.POPUP_STATS.name);return t&&Object.assign(e,t),e}}},4671:(e,t,n)=>{"use strict";n.d(t,{A:()=>_});var i=n(9808),s=n(2966),o=n(7339),a=n(1781),r=n(827);class _{init(){o.v.wssMessageDispatcher?.nativeDispatcher?.getATUpsellFlag((e=>{e?.antitrack_upsell_config?.enabled&&o.v.scheduleManager.setEnabled(a.q7.ANTITRACKER_UPSELL_TASK.name,!0)}))}isActive(){return!o.v.isAntitrackerExtInstalled}isWhiteListed(e,t){return o.v.localStore.get(a.q7.ANTITRACKER_WHITELIST.name,["mcafee.com"]).some((t=>e.includes(t)))||t.includes("fi")}addCountTo(e,t=1){const n=o.v.localStore.get(e,0);o.v.localStore.set(e,n+t)}getAndResetCount(e){const t=o.v.localStore.get(e,0);return o.v.localStore.set(e,0),t}addLatestDomain(e,t){try{this.addCountTo(t);const n=new Date,i=`${n.getFullYear()}${n.getMonth()}${n.getDate()}`,s=new URL(e).hostname.replace("www.",""),r=this.getDomainList();r.dataDate!==i&&(r.dataDate=i,r.domainHistoryMap={}),r.lastVisited=s,r.domainHistoryMap=r.domainHistoryMap||{},(r.domainHistoryMap[s]||Object.keys(r.domainHistoryMap).length<50)&&(r.domainHistoryMap[s]=(r.domainHistoryMap[s]||0)+1),o.v.localStore.set(a.q7.TRACKER_DOMAIN_LIST.name,r)}catch(e){r.Ay.log(`[AntitrackerData] Error adding last domain: ${e.message||e}`)}}getDomainList(){const e=o.v.localStore.get(a.q7.TRACKER_DOMAIN_LIST.name,{});return JSON.parse(JSON.stringify(e))}updateWPS(e){try{e=e?JSON.parse(e):{};const{pagesBlocked:t=0,pagesScanned:n=0}=i.A.read();let r=0;Object.values(s.f).forEach((t=>{const n=t.toLowerCase(),i=(e[n]||0)+this.getAndResetCount(t);e[n]=i,r+=i})),e.total_trackers=r,e.blocked_pages=t,e.scanned_pages=n,e.last_visited="",e.domain_history="",0===e.total_trackers&&0===e.blocked_pages&&0===e.scanned_pages&&""===e.last_visited&&""===e.domain_history||!this.isSameAsLastScan(e)&&o.v.wssMessageDispatcher&&(o.v.wssMessageDispatcher.nativeDispatcher.updateAntitrackerToWPS(e),o.v.localStore.set(a.q7.LAST_ANTITRACKER_SCAN_RESULT.name,e))}catch(e){r.Ay.log(`[AntitrackerData] Error sending AT updates to WPS: ${e.message}`)}}getDomainHistory(e={}){let t="";const n=Object.keys(e);if(0===n.length)return t;n.sort(((t,n)=>e[n]-e[t]));for(let i=0;i<n.length&&i<5&&n[i];i++){const s=n[i];t+=`${s},${e[s]},`}return t.slice(0,-1)}isSameAsLastScan(e){const t=o.v.localStore.get(a.q7.LAST_ANTITRACKER_SCAN_RESULT.name,{}),n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const i of n)if(e[i]!==t[i])return!1;return!0}}},8903:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var i=n(7339),s=n(2966),o=n(7089),a=n(6796),r=n(827),_=n(3820),E=n(3467);class c{static async toHTICategoriesString(e,t=!1){const n=e=>new Promise((t=>{E.A.getResString(e,(e=>t(e)))})),i=async(e,t)=>{const i={},s=await n(`category_id_${e}_name`);if(i.name=s,t){const t=await n(`category_id_${e}_description`);i.description=t}return i},s=[];for(const n of e)s.push(i(n,t));return await Promise.all(s)}static browserTypeToString(e=!1){let t="";switch(s.Kr.BROWSER_TYPE){case 1:t="FF";break;case 2:t="CH";break;case 3:t="ED";break;case 4:t="SF";break;default:t="UN"}return e?t.toLowerCase():t}static toAnnotationImageClass(e){let t="";switch(c.toColor(e)){case s.Q1.GREEN:t="green";break;case s.Q1.RED:t="red";break;case s.Q1.YELLOW:t="yellow";break;case s.Q1.GREY:t="grey"}return t}static isPhishingURI(e){return e&&e.includes(o.wS.PHISHING_CATEGORY)}static toBlockState(e){const t=c.toColor(e);return t===s.Q1.YELLOW&&c.isPhishingURI(e.category)?s.Tm.PHISHING:isNaN(t)?s.Tm.GREY:t}static toColor(e){let t=s.Q1.UNKNOWN;return e&&void 0!==e.trust?(t=e.trust>=s.$p.GREEN?s.Q1.GREEN:e.trust>=s.$p.GREY?s.Q1.GREY:e.trust>=s.$p.YELLOW?s.Q1.YELLOW:e.trust>=s.$p.RED?s.Q1.RED:s.Q1.UNKNOWN,t):t}static toSiteReportUrl(e){return`${a.c.runtime.getURL("html/site_status_site_report.html")}?url=${escape(e)}`}static isExtensionUrl(e){return e.startsWith(s.hT)}static isAnyExtensionUrl(e){return e.startsWith(`${s.hT.split("://")[0]}://`)}static isSafeUrl(e){return c.isSiteAdvisorUrl(e)||c.isExtensionUrl(e)}static isSiteAdvisorUrl(e){return e.startsWith(`http://${o.wS.SITE_ADVISOR_URL}`)||e.startsWith(`https://${o.wS.SITE_ADVISOR_URL}`)}static isPropertRedirectUrl(e){return c.isPropertyWebURL(e)||e.startsWith("edge://")||e.startsWith("chrome://")}static isProperWebURL(e=""){return!!(e.startsWith("http://")||e.startsWith("https://")||e.startsWith("ftp://"))}static getUINumber(e){if(e>=1e4)return"10k+";if(e>=1e3){let t=(e/1e3).toFixed(1);return t="0"===t.substring(2,3)?t.substring(0,1):t,`${t}k+`}return`${e}`}static hasEpochTimeElapsed(e,t){return(new Date).getTime()/1e3>e+t}static isPersonalPolicyEnabled(){return!0}static isActivityPolicyEnabled(){return!0}static async blockRequest(e,t,n){const i=await a.c.declarativeNetRequest.getDynamicRules();0===i.filter((e=>e.condition.urlFilter===t)).length&&c.addDynamicRule(e,t,n,i.length+1,0)}static async addDynamicRule(e,t,n,i,s){if(s>=10)r.Ay.error(`Unable to add dynamic rule for tabId:${e}, on url: ${t}. message: ${n}`);else try{await a.c.declarativeNetRequest.updateDynamicRules({addRules:[{id:i,condition:{urlFilter:t,resourceTypes:["main_frame"]},action:{type:"block"}}]}),r.Ay.log(`${n} ${t} ${e}`)}catch(o){c.addDynamicRule(e,t,n,i+1,s+1)}}static async updateExcludedTabInSession(e,t){try{const n=999999,i=(await a.c.declarativeNetRequest.getSessionRules()).find((e=>e.id===n));let s=i?.condition?.tabIds||[],o=!1;const r=s.indexOf(e);t===_.hU.ADD&&-1===r?(s.push(e),o=!0):t===_.hU.REMOVE&&-1!==r&&(s=s.filter((t=>t!==e)),o=!0),o&&a.c.declarativeNetRequest.updateSessionRules({removeRuleIds:[n],addRules:[{id:n,condition:{tabIds:s},action:{type:"allow"}}]})}catch(e){r.Ay.error(e.message)}}static updateHTIGlobalsAfterNativeConnection(){const e=i.v.nativeSettings.MTI_CLIENT_ID.value,t=i.v.nativeSettings.CSP_ID_SETTING.value,n=i.v.nativeSettings.JWT_TOKEN_ENABLED.value;""!==e&&i.v.mtiRequestor.setGlobals({clientIdGuid:e}),"__not_available__"!==t&&i.v.mtiRequestor.setGlobals({cspid:t}),"boolean"==typeof n&&i.v.mtiRequestor.setGlobals({jwtEnabled:n})}static newGuid(){const e=new Uint8Array(24);let t=Date.now().toString()+Math.random().toString().substring(2);for(let n=0;n<24;++n)t+=e[n].toString();let n="{";for(let e=0;e<36;++e)if(8===e||13===e||18===e||23===e)n+="-";else{n+=t[Math.floor(Math.random()*t.length)]}return n+="}",n}}},7089:(e,t,n)=>{"use strict";n.d(t,{A_:()=>a,BS:()=>s,hZ:()=>o,wS:()=>i});const i={MAX_CACHE_RECORDS:1e3,MAX_RESERVED_CALLBACK_ID:5,PHISHING_CATEGORY:"ph",SITE_ADVISOR_URL:"www.siteadvisor.com/",TYPOSQUATTING_SERVER:"https://mip.api.mcafeewebadvisor.com/v1/typosquatting?",ENGINE_VERSION_URL:"https://sadownload.mcafee.com/products/SA/Win/extensions/engines/update.json",SAILOR_CONDITION_URL:"https://sadownload.mcafee.com/products/SA/Win/extensions/sailor/condition.json",ALL_TRACKER_URL:"https://sadownload.mcafee.com/products/SA/Win/extensions/antitracker/all_trackers.json",HTI_SERVER:"https://threat.api.mcafee.com/",WA_EXTN_CONDITION_URL:"https://sadownload.mcafee.com/products/SA/Win/extensions/waextension/condition.json",TYPOSQUAT_LIST:"https://sadownload.mcafee.com/products/SA/Win/extensions/waextension/typosquat.txt",TYPOSQUAT_VERSION:"https://sadownload.mcafee.com/products/SA/Win/extensions/waextension/typosquat_version.txt"},s=new Set(["www.mcafee.com"]),o=[{domain:"www.beamyourscreen.com",urls:[]},{domain:"www.connectwise.com",urls:["www.connectwise.com/platform/unified-management/control"]},{domain:"get.gotoassist.com",urls:[]},{domain:"fastsupport.gotoassist.com",urls:[]},{domain:"www.join.me",urls:[]},{domain:"www.mikogo.com",urls:[]},{domain:"www.mikogo.de",urls:[]},{domain:"www.securelink.com",urls:[]},{domain:"join.zoho.com",urls:[]}],a={shopping:{"www.amazon.com":{paths:["buy/payselect/handlers","buy/addressselect/handlers"]}},email:{"mail.google.com/mail":{selector:"table[role=presentation] > tr div[data-message-id] a"},"outlook.live.com/mail":{selector:"div[role=complementary][aria-label] a"},"outlook.office.com/mail":{selector:"div[role=complementary][aria-label] a"},"outlook.office365.com/mail":{selector:"div[role=complementary][aria-label] a"},"mail.yahoo.com":{selector:"div[role=main] ul li a"}}}},1781:(e,t,n)=>{"use strict";n.d(t,{fN:()=>_,q7:()=>r});var i=n(330),s=n(4924);const{NONE:o,...a}=i.Ds,r={BLOCK_PAGE_PHISHING_FIRST_VARIANT_COUNT:{name:"BLOCK_PAGE_PHISHING_FIRST_VARIANT_COUNT",type:"number"},BLOCK_PAGE_RED_FIRST_VARIANT_COUNT:{name:"BLOCK_PAGE_RED_FIRST_VARIANT_COUNT",type:"number"},BLOCK_PAGE_WHITELIST:{name:"BLOCK_PAGE_WHITELIST",type:"array"},BLOCK_PAGE_YELLOW_FIRST_VARIANT_COUNT:{name:"BLOCK_PAGE_YELLOW_FIRST_VARIANT_COUNT",type:"number"},ENGINE_DOWNLOAD_TASK:{name:"ENGINE_DOWNLOAD_TASK",type:"object"},ENGINES:{name:"ENGINES",type:"object"},ENGINES_FUTURE_TIME:{name:"ENGINES_FUTURE_TIME",type:"object"},ENGINES_VERSION:{name:"ENGINES_VERSION",type:"string"},EXTENSION_LOGGING:{name:"EXTENSION_LOGGING",options:[0,1,2,3,4],type:"number"},USE_NATIVE_LOGGER:{name:"USE_NATIVE_LOGGER",type:"boolean"},EXTN_UUID2:{name:"EXTN_UUID2",type:"string"},IFRAME_BLOCK_FIRST_TIME:{name:"IFRAME_BLOCK_FIRST_TIME",type:"boolean"},LAST_HEARTBEAT_SENT:{name:"LAST_HEARTBEAT_SENT",type:"object"},POPUP_STATS:{name:"POPUP_STATS",type:"object"},POST_INSTALLATION_PAGE_SHOWED:{name:"POST_INSTALLATION_PAGE_SHOWED",type:"object"},RAT_DETECTION_WHITELIST:{name:"RAT_DETECTION_WHITELIST",type:"array"},SEARCH_ANNOTATION_OPTION:{name:"SEARCH_ANNOTATION_OPTION",options:[...s.AK],type:"string"},SMA_ANNOTATION_OPTIONS:{name:"SMA_ANNOTATION_OPTIONS",options:{...a},type:"number"},SMA_USER_TOGGLE:{name:"SMA_USER_TOGGLE",type:"boolean"},TELEMETRY_HEARTBEAT_TASK:{name:"TELEMETRY_HEARTBEAT_TASK",type:"object"},CACHE_TYPOSQUATTING:{name:"CACHE_TYPOSQUATTING",type:"object"},USER_NATIVE_STATS:{name:"USER_NATIVE_STATS",type:"boolean"},WHITELIST_FLAG:{name:"WHITELIST_FLAG",type:"boolean"},DWS_INFO:{name:"DWS_INFO",type:"object"},DWS_WHITELIST:{name:"DWS_WHITELIST",type:"array"},DWS_UNIQUE_EMAILS:{name:"DWS_UNIQUE_EMAILS",type:"array"},APS_TOAST_FIRST_TIME:{name:"APS_TOAST_FIRST_TIME",type:"boolean"},APS_FULL_MSG_SHOWN_ARRAY:{name:"APS_FULL_MSG_SHOWN_ARRAY",type:"array"},FF_POLICY_PERSONAL_COLLECTION:{name:"FF_POLICY_PERSONAL_COLLECTION",type:"boolean"},FF_POLICY_ACTIVITY_COLLECTION:{name:"FF_POLICY_ACTIVITY_COLLECTION",type:"boolean"},FF_POLICY_PERMISSIONS_COLLECTION:{name:"FF_POLICY_PERMISSIONS_COLLECTION",type:"boolean"},FF_POLICY_LAST_SHOWN:{name:"FF_POLICY_LAST_SHOWN",type:"number"},FF_POLICY_LAST_SHOWN_VERSION:{name:"FF_POLICY_LAST_SHOWN_VERSION",type:"string"},WA_AFFID:{name:"WA_AFFID",type:"number"},APS_TOGGLE_SETTING:{name:"APS_TOGGLE_SETTING",type:"boolean"},AJ_TOAST:{name:"AJ_TOAST",type:"boolean"},AJ_APS_ENABLE:{name:"AJ_APS_ENABLE",type:"number"},URL_CONTENT_TYPE:{name:"URL_CONTENT_TYPE",type:"object"},CSP_TOKEN_HTI_REFRESH:{name:"CSP_TOKEN_HTI_REFRESH",type:"object"},FEATURE_COLLECTION_PAGE_COUNT:{name:"FEATURE_COLLECTION_PAGE_COUNT",type:"number"},RESET_FEATURE_COLLECTION_TASK:{name:"RESET_FEATURE_COLLECTION_TASK",type:"object"},BLOCK_FEATURE_COLLECTION_DOMAIN:{name:"BLOCK_FEATURE_COLLECTION_DOMAIN",type:"array"},UPDATE_ANTITRACKER_TASK:{name:"UPDATE_ANTITRACKER_TASK",type:"object"},ANTITRACKER_LIST_VERSION:{name:"ANTITRACKER_LIST_VERSION",type:"string"},ANTITRACKER_LIST:{name:"ANTITRACKER_LIST",type:"object"},LAST_ANTITRACKER_SCAN_RESULT:{name:"LAST_ANTITRACKER_SCAN_RESULT",type:"object"},ANTITRACKER_UPSELL_TASK:{name:"ANTITRACKER_UPSELL_TASK",type:"object"},FINGER_PRINT:{name:"FINGER_PRINT",type:"number"},FIRST_PARTY:{name:"FIRST_PARTY",type:"number"},THIRD_PARTY:{name:"THIRD_PARTY",type:"number"},TRACKER_DOMAIN_LIST:{name:"TRACKER_DOMAIN_LIST",type:"array"},ANTITRACKER_WHITELIST:{name:"ANTITRACKER_WHITELIST",type:"array"},IS_EDGE_EXT_PAGE_OPENED_BY_NATIVE:{name:"IS_EDGE_EXT_PAGE_OPENED_BY_NATIVE",type:"bool"},HTI_REPORT_SAMPLING_RATE_BLOCK_DEFAULT_COUNT:{name:"HTI_REPORT_SAMPLING_RATE_BLOCK_DEFAULT_COUNT",type:"number"},HTI_REPORT_SAMPLING_RATE_USER_FEEDBACK_COUNT:{name:"HTI_REPORT_SAMPLING_RATE_USER_FEEDBACK_COUNT",type:"number"},HTI_REPORT_BACKLOG:{name:"HTI_REPORT_BACKLOG",type:"object"},MOCK_QA_TEST_PRECONDITIONS:{name:"MOCK_QA_TEST_PRECONDITIONS",type:"object"},NO_NATIVE_TOAST_LAST_SHOWN_INFO:{name:"NO_NATIVE_TOAST_LAST_SHOWN_INFO",type:"object"},NO_NATIVE_TOAST_ONE_CHANCE_RUN:{name:"NO_NATIVE_TOAST_ONE_CHANCE_RUN",type:"bool"},NO_NATIVE_TOAST_NEW_ONE_CHANCE_ATTEMPTS:{name:"NO_NATIVE_TOAST_NEW_ONE_CHANCE_ATTEMPTS",type:"number"},NO_NATIVE_TOAST_SELECTED_GROUPID:{name:"NO_NATIVE_TOAST_SELECTED_GROUPID",type:"number"},NO_NATIVE_TOAST_STAGE1_VARIANT:{name:"NO_NATIVE_TOAST_STAGE1_VARIANT",type:"string"},NO_NATIVE_TOAST_STAGE2_VARIANT:{name:"NO_NATIVE_TOAST_STAGE2_VARIANT",type:"string"},MB_OPT_IN:{name:"MB_OPT_IN",type:"string"},MB_OPT_IN_DATETIME:{name:"MB_OPT_IN_DATETIME",type:"number"},MB_ACTIVATE_BANNER_LAST_SHOWN:{name:"MB_ACTIVATE_BANNER_LAST_SHOWN",type:"number"},MB_ACTIVATE_BANNER_SHOWN_COUNT:{name:"MB_ACTIVATE_BANNER_SHOWN_COUNT",type:"number"},MB_SNOOZE_BY_MIN:{name:"MB_SNOOZE_BY_MIN",type:"number"},MB_SNOOZE_UNTIL:{name:"MB_SNOOZE_UNTIL",type:"number"},MB_SNOOZE_UNTIL_TASK:{name:"MB_SNOOZE_UNTIL_TASK",type:"object"},MB_SECONDS_SCANNED_TASK:{name:"MB_SECONDS_SCANNED_TASK",type:"object"},MB_AI_MODEL_INFO:{name:"MB_AI_MODEL_INFO",type:"object"},MB_WPS_MODEL_INFO:{name:"MB_WPS_MODEL_INFO",type:"object"},MB_DOES_WPS_ALLOW_PERFORMANCE:{name:"MB_DOES_WPS_ALLOW_PERFORMANCE",type:"string"},WPS_VERSION:{name:"WPS_VERSION",type:"string"},TYPOSQUATTING_VERSION:{name:"TYPOSQUATTING_VERSION",type:"number"},TYPOSQUATTING_WHITELIST:{name:"TYPOSQUATTING_WHITELIST",type:"array"},TYPOSQUATTING_UPDATE_TASK:{name:"TYPOSQUATTING_UPDATE_TASK",type:"object"}},_={CACHE_TAB_DATA:{name:"CACHE_TAB_DATA",type:"object"},RAT_DETECTION_SHOWING:{name:"RAT_DETECTION_SHOWING",type:"object"},FORM_INFO:{name:"FORM_INFO",type:"object"},SAVE_MULTI_STEP_LOGIN:{name:"SAVE_MULTI_STEP_LOGIN",type:"object"},APS_EMAIL_LINKS:{name:"APS_EMAIL_LINKS",type:"array"},WSS_EMAIL:{name:"WSS_EMAIL",type:"string"},HTI_REDIRECTION_LOG:{name:"HTI_REDIRECTION_LOG",type:"object"},MB_STATUS:{name:"MB_STATUS",type:"object"},MB_VIDEOS_FLAGGED:{name:"MB_VIDEOS_FLAGGED",type:"number"},MB_SECONDS_SCANNED:{name:"MB_SECONDS_SCANNED",type:"number"},MB_SECONDS_FLAGGED:{name:"MB_SECONDS_FLAGGED",type:"number"},WPS_PLAN_TYPE:{name:"WPS_PLAN_TYPE",type:"string"},WPS_DAYS_TO_EXPIRE:{name:"WPS_DAYS_TO_EXPIRE",type:"number"}}},1457:(e,t,n)=>{"use strict";n.d(t,{HG:()=>i,U7:()=>s,fI:()=>o});const i={LOCAL_STORE:"LOCAL_STORE",SESSION_STORE:"SESSION_STORE",CONTENT_HANDLER:"CONTENT_HANDLER",EXECUTE_COMMAND:"EXECUTE_COMMAND",FOCUS_OR_CREATE_TAB:"FOCUS_OR_CREATE_TAB",GET_BK_GLOBALS:"GET_BK_GLOBALS",GET_EXTENSION_STATUS:"GET_EXTENSION_STATUS",GET_TAB_DATA:"GET_TAB_DATA",TI_REQUEST:"TI_REQUEST",INSTALL_EXTENSION:"INSTALL_EXTENSION",REMOVE_TAB:"REMOVE_TAB",SEND_TELEMETRY:"SEND_TELEMETRY",SET_VIEWPORT:"SET_VIEWPORT",WHITELIST:"WHITELIST",RESET_NATIVE_SETTING:"RESET_NATIVE_SETTING",UPDATE_BK_NATIVE_SETTINGS:"UPDATE_BK_NATIVE_SETTINGS",GET_TAB_AND_FRAME_ID:"GET_TAB_AND_FRAME_ID",SHOW_SIDEBAR_MAIN:"SHOW_SIDEBAR_MAIN",GET_SIDEBAR_DATA:"GET_SIDEBAR_DATA",GET_SETTINGS_DATA:"GET_SETTINGS_DATA",RESET_SETTINGS:"RESET_SETTINGS",GET_UPDATED_SUBSCRIPTION_INFO:"GET_UPDATED_SUBSCRIPTION_INFO",AUTO_RUN_VIDEO_SITE:"AUTO_RUN_VIDEO_SITE",IS_FRAME_BLOCKED:"IS_FRAME_BLOCKED",IS_WHITELISTED:"IS_WHITELISTED",ANY_BLOCKED_IFRAMES:"ANY_BLOCKED_IFRAMES",UNBLOCK_ALL_IFRAMES:"UNBLOCK_ALL_IFRAMES",VIEW_SITE_REPORT:"VIEW_SITE_REPORT",SEARCH_ANNOTATION:"SEARCH_ANNOTATION",UPDATE_ENGINE_STATS:"UPDATE_ENGINE_STATS",SOCIAL_MEDIA_ANNOTATION:"SOCIAL_MEDIA_ANNOTATION",UPDATE_RAT_DETECTION_SHOWING_FLAG:"UPDATE_RAT_DETECTION_SHOWING_FLAG",SEARCH_SUGGEST:"SEARCH_SUGGEST",SAVE_FORM_INFO:"SAVE_FORM_INFO",GET_FORM_INFO_CACHE:"GET_FORM_INFO_CACHE",CLEAR_FORM_INFO_CACHE:"CLEAR_FORM_INFO_CACHE",SAVE_MULTISTEP_LOGIN:"SAVE_MULTISTEP_LOGIN",GET_FD_WEIGHTS:"GET_FD_WEIGHTS",GET_FD_EXCEPTIONS:"GET_FD_EXCEPTIONS",GET_FD_CRF_PARAMS:"GET_FD_CRF_PARAMS",CLEAR_CACHED_DWS_INFO:"CLEAR_DWS_INFO",GET_CACHED_DWS_INFO:"GET_CACHED_DWS_INFO",UPDATE_DWS_WHITELIST:"UPDATE_DWS_WHITELIST",LAUNCH_IDPS_LOGIN:"LAUNCH_IDPS_LOGIN",UPDATE_DWS_SHOWN:"UPDATE_DWS_SHOWN",GET_APS_DETAILS:"GET_APS_DETAILS",FORM_PRE_CHECK_PASSED:"FORM_PRE_CHECK_PASSED",SIGN_UP_FORM_DETECTED:"SIGN_UP_FORM_DETECTED",SET_FF_POLICY_COLLECTION:"SET_FF_POLICY_COLLECTION",SET_FF_POLICY_LAST_SHOWN:"SET_FF_POLICY_LAST_SHOWN",GET_FF_POLICY_LAST_SHOWN:"GET_FF_POLICY_LAST_SHOWN",FF_IFRAME_HELPER_INFO:"FF_IFRAME_HELPER_INFO",SET_REMEDIATION:"SET_REMEDIATION",FINGERPRINT_ATTEMPTED:"FINGERPRINT_ATTEMPTED",SET_NO_NATIVE_TOAST_COUNTERS:"SET_NO_NATIVE_TOAST_COUNTERS",SET_NO_NATIVE_TOAST_EVENTS:"SET_NO_NATIVE_TOAST_EVENTS",NO_NATIVE_TOAST_DOWNLOAD_NATIVE:"NO_NATIVE_TOAST_DOWNLOAD_NATIVE",GET_NO_NATIVE_TOAST_VARIANTS:"GET_NO_NATIVE_TOAST_VARIANTS",TELEMETRY:"TELEMETRY",MB_PROMPT_AND_STREAM:"MB_PROMPT_AND_STREAM",MB_START_BUY_FLOW:"MB_START_BUY_FLOW",MB_START_RENEW_FLOW:"MB_START_RENEW_FLOW",MB_TURN_ON:"MB_TURN_ON",MB_TURN_OFF:"MB_TURN_OFF",MB_SET_SNOOZE:"MB_SET_SNOOZE",MB_OPT_IN:"MB_OPT_IN",SHOW_MB_SIDEBAR:"SHOW_MB_SIDEBAR",SHOW_MB_FAQ:"SHOW_MB_FAQ",MB_VIDEO_FLAGGED:"MB_VIDEO_FLAGGED",SHOW_MB_ACTIVATE_BANNER:"SHOW_MB_ACTIVATE_BANNER",MB_GET_ACTIVATE_BANNER_SHOWN_COUNT:"MB_GET_ACTIVATE_BANNER_SHOWN_COUNT",MB_GET_SUBSCRIPTION_INFO:"MB_GET_SUBSCRIPTION_INFO",MB_PRE_CHECK_INJECTION:"MB_PRE_CHECK_INJECTION",MB_ON_CLOSE_SIDEBAR:"MB_ON_CLOSE_SIDEBAR",MB_SEND_FEEDBACK:"MB_SEND_FEEDBACK",MB_CHECK_REPORT:"MB_CHECK_REPORT"},s={UNBLOCK_IFRAME:"UNBLOCK_IFRAME",BALLOON_MESSAGE:"BALLOON_MESSAGE",SIDEBAR:"SIDEBAR",TOPBAR:"TOPBAR",DLS_POPUP:"DLS_POPUP",IS_SIDEBAR_OPENED:"IS_SIDEBAR_OPENED",PING_CONTENT_ANNOTATION:"PING_CONTENT_ANNOTATION",PING_CONTENT_RAT_DETECTION:"PING_CONTENT_RAT_DETECTION",PING_CONTENT_IFRAME_BANNER:"PING_CONTENT_IFRAME_BANNER",PING_CONTENT_AUTOPLAY_DETECTION:"PING_CONTENT_AUTOPLAY_DETECTION",PING_CONTENT_SIDEBAR_MAIN:"PING_CONTENT_SIDEBAR_MAIN",PING_CONTENT_IDPS:"PING_CONTENT_IDPS",PING_CONTENT_APS_TOAST:"PING_CONTENT_APS_TOAST",PING_CONTENT_APS_BALLOON:"PING_CONTENT_APS_BALLOON",PING_CONTENT_APS_OBSERVER:"PING_CONTENT_APS_OBSERVER",PING_CONTENT_SITE_LISTENER:"PING_CONTENT_SITE_LISTENER",PING_CONTENT_DLS_POPUP:"PING_CONTENT_DLS_POPUP",PING_CONTENT_NO_NATIVE_TOAST:"PING_CONTENT_NO_NATIVE_TOAST",PING_CONTENT_CHANGE_NATIVE_INSTALLER_URL:"PING_CONTENT_CHANGE_NATIVE_INSTALLER_URL",PING_CONTENT_MB_VIDEO_CHECK:"PING_CONTENT_MB_VIDEO_CHECK",PING_CONTENT_MB_ACTIVATE_BANNER:"PING_CONTENT_MB_ACTIVATE_BANNER",PING_CONTENT_MB_PAGE_BANNER:"PING_CONTENT_MB_PAGE_BANNER",PING_IFRAME_FORM_CHECK:"PING_IFRAME_FORM_CHECK",PING_IFRAME_FORM_DETECTION:"PING_IFRAME_FORM_DETECTION",PING_IFRAME_BLOCK:"PING_IFRAME_BLOCK",PING_IFRAME_HELPER:"PING_IFRAME_HELPER",PING_CONTENT_MB_BANNER:"PING_CONTENT_MB_BANNER",PING_CONTENT_MB_SIDEBAR:"PING_CONTENT_MB_SIDEBAR",MB_BANNER_SHOW:"MB_BANNER_SHOW",MB_BANNER_REMOVE:"MB_BANNER_REMOVE",MB_INITIAL_GRAPH_DATA:"MB_INITIAL_GRAPH_DATA",MB_INCOMING_AUDIO_DATA:"MB_INCOMING_AUDIO_DATA",BROADCAST_MB_UPDATE_UI:"BROADCAST_MB_UPDATE_UI",MB_RESET_GRAPH:"MB_RESET_GRAPH",APS_REGISTRATION_PAGE:"APS_REGISTRATION_PAGE",BROADCAST_TO_FOREGROUND:"BROADCAST_TO_FOREGROUND",TRIGGER_AJ_TOAST:"TRIGGER_AJ_TOAST"},o={ACTIVATE_BANNER:"ACTIVATE_BANNER",PAGE_BANNER:"PAGE_BANNER"}},2966:(e,t,n)=>{"use strict";n.d(t,{$p:()=>c,Kr:()=>_,Q1:()=>E,Tm:()=>o,dZ:()=>a,f:()=>N,hT:()=>T,hz:()=>l,i9:()=>r,mD:()=>A});var i=n(1781),s=n(6796);const o={GREEN:0,YELLOW:1,RED:2,GREY:3,HACKERSAFE:4,TYPOSQUATTING:5,PHISHING:6,*[Symbol.iterator](){for(const e of Object.keys(this))"GREEN"!==e&&"GREY"!==e&&(yield this[e])}},a={UNKNOWN:-1,FIREFOX:1,CHROME:2,EDGE:3,SAFARI:4},r={WINDOWS:0,MAC_OS:1,ANDROID:2,IOS:3,CHROME_OS:4},_={BROWSER_TYPE:2,BROWSER_NAME:"chrome",DEBUG_MODE:!1,EXTENSION_VERSION:"8.1.0.5741",LOG_LEVEL:0,ENGINES_VERSION:"1.0.0.36",YEAR:2024,AUTO:!1},E={UNKNOWN:-1,GREEN:0,YELLOW:1,RED:2,GREY:3,HACKERSAFE:4,DISABLED:5},c=(E.GREEN,E.YELLOW,E.RED,E.GREY,E.DISABLED,E.GREEN,E.RED,E.YELLOW,E.GREY,{GREEN:70,GREY:31,YELLOW:16,RED:1,UNKNOWN:0}),l=(e,t)=>Array.from(Array(t+1).keys()).slice(e),T=s.c.runtime.getURL(""),N={fingerPrintDomains:i.q7.FINGER_PRINT.name,firstParty:i.q7.FIRST_PARTY.name,thirdPartyTrackers:i.q7.THIRD_PARTY.name},A={MB_VIDEO_KEY:"wa-mb",MB_VIDEO_VALUE:"wa_mb_video"}},2252:(e,t,n)=>{"use strict";n.d(t,{L:()=>s});var i=n(3749);const s=(e,t={},n)=>(0,i.A)("WA",e,t,n)},330:(e,t,n)=>{"use strict";n.d(t,{Ds:()=>i});const i={NONE:0,LINKEDIN:1,INSTAGRAM:2,YOUTUBE:4,FACEBOOK:8,TWITTER:16,REDDIT:32};Object.values(i).reduce(((e,t)=>e+t))},8791:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var i=n(7339),s=n(1781);class o{static getResetValues(){return{blockedIframes:[],tabDomainTrusted:!1,mockingbird:{},mbVideoId:null}}static getDefaultValues(){return o.getResetValues()}reset(e){const t=i.v.localStore.get(s.fN.CACHE_TAB_DATA.name,{}),n=t[e]&&t[e].blockedIframes&&Object.keys(t[e].blockedIframes).length>0;i.v.htiReportHandler.checkBacklog(e,t[e],n),this.update(e,o.getResetValues())}get(e){return i.v.localStore.get(s.fN.CACHE_TAB_DATA.name,{})[e]||o.getDefaultValues()}set(e,t){const n=i.v.localStore.get(s.fN.CACHE_TAB_DATA.name,{});n[e]=t,i.v.localStore.set(s.fN.CACHE_TAB_DATA.name,n)}delete(e){const t=i.v.localStore.get(s.fN.CACHE_TAB_DATA.name,{}),n=t[e]&&t[e].blockedIframes&&Object.keys(t[e].blockedIframes).length>0;i.v.htiReportHandler.checkBacklog(e,t[e],n),delete t[e],i.v.localStore.set(s.fN.CACHE_TAB_DATA.name,t)}update(e,t){const n=this.get(e);this.set(e,{...n,...t})}setTabBlockPageData(e,t,n=!0){const s={...this.get(e),blockPageData:t};this.set(e,s),n&&!t.url.includes("chrome://extensions/")&&i.v.htiReportHandler.addReportToBacklog(e,s)}addBlockedFrame(e,t){const n=this.get(e);n.blockedIframes.push(t),this.update(e,n),i.v.htiReportHandler.addIFrameReportToBacklog(e,n)}getBlockedFrames(e){return this.get(e).blockedIframes}resetBlockedFrames(e){const t=this.get(e);t.blockedIframes=[],this.update(e,t)}}},6796:(e,t,n)=>{"use strict";n.d(t,{c:()=>i});const i=chrome},3820:(e,t,n)=>{"use strict";n.d(t,{hU:()=>s});var i=n(1781);i.q7.BLOCK_PAGE_WHITELIST.name,i.q7.TYPOSQUATTING_WHITELIST.name,i.q7.BLOCK_PAGE_WHITELIST.name,i.q7.RAT_DETECTION_WHITELIST.name;const s={ADD:"ADD",GET:"GET",REMOVE:"REMOVE",CLEAR:"CLEAR"}},2396:(e,t,n)=>{"use strict";n.d(t,{G4:()=>_,IJ:()=>r,PO:()=>h,TA:()=>s,f7:()=>o,lm:()=>a,nX:()=>O,sF:()=>E,tz:()=>C});var i=n(2966);const s={WHITELIST:"whitelist",PREFERENCE:"preference",STATISTICS:"statistics",ABOUT:"about"},o={BLOCK_PAGE:"Block_Page",BROWSER_ACTION_CLICKED:"BrowserAction_Clicked",BROWSER_NAVIGATE:"Browser_Navigate",CONTENT_SECURITY_POLICY_WASM:"Content_Security_Policy_Wasm",DARK_WEB_SCAN:"DarkWebMonitoring",DOWNLOAD_BLOCK:"Download_Block",GET_SEARCH_EXTENSION:"EmbedSearchExtension",PROFILE_INFO:"ProfileInfo",REMOTE_ACCESS_TROJAN:"RemoteAccessTrojan",SEARCH_SUGGEST_BLOCK_PAGE:"SearchSuggest_BlockPage",SEARCH_SUGGEST:"SearchSuggest",SECURE_SEARCH_HIT:"Secure_Search_Hit",SIDEBAR_PANEL:"SideBar_Panel",SITE_REPORT:"SiteReport",SMA_REPUTATION:"SMA_Reputation",TOAST:"Toast",TYPOSQUATTING:"Typosquatting",WSS_ANALYTICS:"WSS_Analytics",FORM_LOGIN_DETECTION:"FormLoginDetection",APS:{EVENT_NAME:"AdvancedProtectionSignals",IMPRESSION_BALLOON:"IMPRESSION_BALLOON",IMPRESSION_HOVER:"IMPRESSION_HOVER",CLOSE_BALLOON:"CLOSE_BALLOON",TOAST_CLOSE:"TOAST_CLOSE",TOAST:"toast",BALLOON:"balloon"}},a={REGULAR_TOAST:"RegularToast",EFFICACY_TOAST:"Efficacy_SS"},r={BROWSER_ACTION_CLICKED:"BrowserActionClicked",TYPOSQUATTING:"Typosquatting",BLOCK_PAGE:"BlockPage",SECURE_SEARCH_HIT:"SecureSearchHit",SIDEBAR_PANEL:"SideBarPanel",SMA_REPUTATION:"SMAReputation",DOWNLOAD_BLOCK:"DownloadBlock"},_={IMPRESSION:"Impression",WEBADVISOR:"WebAdvisor",SIDEBAR_PANEL:{MAIN:"Main"},SELECTION:"Selection",DISMISSED:"Dismissed",HOVERED:"Hovered",CLOSE_CLICKED:"CloseClicked",CLICKED:"Clicked",ENABLE:"Enable",ADD:"Add",RAT_DETECTION:{ACKNOWLEDGED:"Acknowledged",WHITELISTED:"Whitelisted"},ACCEPTED:"Accepted",ACCEPTRISK:"AcceptRisk",DECLINED:"Declined",ACKNOWLEDGED:"Acknowledged",CLOSE:"Close",NEXT:"Next",GOT_IT:"GotIt",HOVER:"Hover"},E={TOP:"Top",FRAME:"Frame",INLINE:"Inline"},c="About",l="Preferences",T="Whitelist",N="UserStatistics",A="Green",d="Yellow",p="Red",S="Grey",m="UNKNOWN",I="Typosquatting",u="Phishing",O={DEFAULT:"DefaultSearch"},C={ACTION:{CLICK:"click",KEYDOWN:"keydown",RETURN_KEY_CODE:13,SHOW:"show",SEARCH_SUGGEST_KEY_CODES:[8,32,46,...(0,i.hz)(48,57),...(0,i.hz)(65,90),...(0,i.hz)(96,107),...(0,i.hz)(109,111),...(0,i.hz)(186,192),...(0,i.hz)(219,222)]},MISC:{LOADED:"Loaded",CHECKED:"checked",UNKNOWN:"UNKNOWN",ACTION_PANEL:"ActionPanel",ACCEPTED:"Accepted",DECLINED:"Declined",SETTINGS_TAB_PREFIX:"settings_tab_",GREEN:"GREEN",YELLOW:"YELLOW",RED:"RED",PREFERENCE:"Preference",DEFAULT:"default"},SEARCH_ENGINE:{GOOGLE:"google",YAHOO:"yahoo"},SOCIAL_MEDIA:{LINKEDIN:"linkedin",FACEBOOK:"facebook",YOUTUBE:"youtube",INSTAGRAM:"instagram",REDDIT:"reddit",TWITTER:"twitter"}};class h{static toTelemetryBlockState(e){let t=m;switch(e){case i.Tm.GREEN:t=A;break;case i.Tm.YELLOW:t=d;break;case i.Tm.RED:t=p;break;case i.Tm.GREY:t=S;break;case i.Tm.TYPOSQUATTING:t=I;break;case i.Tm.PHISHING:t=u}return t}static toTelemetrySettingTab(e){let t=l;switch(e){case s.WHITELIST:t=T;break;case s.STATISTICS:t=N;break;case s.ABOUT:t=c}return t}}},1728:(e,t,n)=>{"use strict";n.d(t,{D8:()=>a,HZ:()=>r,MN:()=>o,N8:()=>c,oo:()=>T,qq:()=>l});var i=n(3103);const s="unknown",o={DFD:{EVENT_NAME:"wa_deepfake_detection",EVENT_ID:"wa_deepfake_detection"}},a={SCREEN:"screen",EVENT:"event"},r={AUDIO_DETECTED:"ai_audio_detected",AUDIO_NOT_DETECTED:"ai_audio_not_detected"},_="no_suite",E="unable_read_csp_id",c={IMPRESSION:"impression",ACCEPTED:"accepted",FAQ_CLICKED:"faq_request",CLOSED:"closed",FADE_AWAY:"fades_away",EXPAND:"expand",SNOOZED:"snoozed",TOGGLE_ON:"toggle_on",TOGGLE_OFF:"toggle_off",BACK_TO_ENTRY:"back_to_entry",FAQ_SUPPORT_CLICKED:"support_request",BACK_TO_DFD_PANEL:"back_to_deepfake_side_panel"},l={SCREEN_NAME:{ACTIVATION_ENROLLMENT_BANNER:"wa_deepfake_activation_enrollment_banner",ACTIVATION_ENROLLMENT_BANNER_SUCCESS:"wa_deepfake_activation_success",AI_ANNOTATION_BANNER:"wa_deepfake_banner_annotation",SIDEBAR_PANEL:"wa_deepfake_side_panel",SIDEBAR_FAQ_PANEL:"wa_deepfake_faq"},DISPLAY_TYPE:{EMBEDED_BANNER:"embedded",PAGE_BANNER:"page",AI_ANNO_FULL_BANNER:"banner_only",AI_ANNO_HOVER_BANNER:"icon_and_banner_on_hover",AI_ANNO_ICON_BANNER:"icon_only"},TRIGGER:{AUDIO_PLAYING:"audio_playing",X_CLICKED:"x_clicked",ACTIVATE_BTN_CLICKED:"activate_button_clicked",ACTIVATION_LEARM_MORE_CLICKED:"learn_more_clicked",ACTIVATION_ACCEPT:"deepfake_activation_accepted",ANNO_BANNER_CLICKED:"banner_clicked",ANNO_BANNER_FADE_AWAY:"time_elapsed",ANNO_BANNER_HOVER:"banner_hover",ANNO_BANNER_CLICKED_FOR_SIDEBAR:"deepfake_banner_annotation_clicked",MAIN_SIDEBAR_DFD_CLICKED:"sidebar_panel_deepfake_icon_clicked",FAQ_PANEL_BACK_CLICKED:"back_from_faq_clicked",SNOOZE_OPTION_SELECTED:"snooze_option_selected",AUDIO_DETECTION_TOGGLE_BTN_CLICKED:"audio_detection_toggle_switched",DFD_PANEL_BACK_CLICKED:"back_button_clicked",DFD_PANEL_BASICS_BTN_CLICKED:"deepfake_basics_button_clicked",DFD_PANEL_BUY_BTN_CLICK:"buy_now_button_clicked",DFD_PANEL_ON_TRIAL_BUY_BTN_CLICK:"buy_now_on_trial_clicked",DFD_FAQ_PANEL_SUPPORT_BTN_CLICKED:"contact_support_link_clicked",DFD_FAQ_PANEL_BACK_CLICKED:"back_button_clicked"},ACTION:{NO_ACTION:"no_action",WA_INTERACTION:"wa_interaction"},AUDIO_GRAPH_STATUS:{GENERIC_ERR:"generic_error",NO_AUDIO_PLAYING:"no_audio_playing",NO_VIDEO_PLAYING:"no_video_playing",DETECTION_OFF:"detection_off",NOTIFICATION_PAUSE:"notification_paused",GRAPH_DISPLAYED:"graph_displayed"}};class T{static toTlmWpsCspClientId(e){let t=e;return null===t?t=_:void 0===t&&(t=E),t}static toTlmAudioGraphStatus(e,t){let n=l.AUDIO_GRAPH_STATUS.NOTIFICATION_PAUSE;if(t)return n;if(n=l.AUDIO_GRAPH_STATUS.GENERIC_ERR,!e)return n;switch(e){case i.B.NO_VIDEO_PLAYING:n=l.AUDIO_GRAPH_STATUS.NO_VIDEO_PLAYING;break;case i.B.NO_AUDIO_PLAYING:n=l.AUDIO_GRAPH_STATUS.NO_AUDIO_PLAYING;break;case i.B.FEATURE_OFF:n=l.AUDIO_GRAPH_STATUS.DETECTION_OFF;break;case i.B.DISPLAYED:n=l.AUDIO_GRAPH_STATUS.GRAPH_DISPLAYED}return n}static toTlmActivatedDays(e){let t=s;if(e<=0)return t;const n=Date.now()-e;return t=Math.ceil(n/864e5),t}}},9866:(e,t,n)=>{"use strict";n.d(t,{A:()=>E});var i=n(2396),s=n(3751),o=n(7339),a=n(2252),r=n(1457),_=n(6511);class E{static sendTelemetryMessages(e,t){const{sendTelemetry:n}=t.trigger,s=t.trigger.action,E=[i.tz.ACTION.CLICK];if(t.trigger.selector&&t.trigger.action)if(e.containerMeta){const n=e.containerMeta.query(t.trigger.selector);n&&n.addEventListener(t.trigger.action,c)}else(0,_.If)((()=>{const e=document.querySelector(t.trigger.selector);e&&e.addEventListener(t.trigger.action,c)}));else(n||t.trigger.state&&t.trigger.state===e.state)&&c();function c(_){t.messages.forEach((t=>{const c={...t.template},l=n&&(void 0===c.count||0!==c.count);let T=E.includes(s);if(s===i.tz.ACTION.KEYDOWN&&e.whitelistedKeys){const t=_.keyCode;T=e.whitelistedKeys.includes(t)}(l||T)&&(e.isFromBackground?o.v.messageDispatcher.sendTelemetry(JSON.stringify(c)):(0,a.L)(r.HG.SEND_TELEMETRY,{telemetry:JSON.stringify(c)}))}))}}static handle(e){new s.x(e).fetchTelemetryHandlers(e.identifier).forEach((t=>{this.sendTelemetryMessages(e,t)}))}}},3751:(e,t,n)=>{"use strict";n.d(t,{x:()=>a});var i=n(2396),s=n(1728),o=n(8903);class a{constructor(e){this._options=e,this.TELEMETRY_HANDLERS=this.initializeTelemetryHandler()}fetchTelemetryHandlers(e){const t=[];return this.TELEMETRY_HANDLERS.forEach((n=>{n.trigger.identifier&&e!==n.trigger.identifier||t.push(n)})),t}initializeTelemetryHandler(){return[{trigger:{identifier:i.f7.FORM_LOGIN_DETECTION,sendTelemetry:!0},messages:[{template:{analyticsSDK:!0,name:i.f7.FORM_LOGIN_DETECTION,url:this._options.url,browser:o.A.browserTypeToString(),type:this._options.type,_event_name:i.f7.FORM_LOGIN_DETECTION}}]},{trigger:{identifier:i.f7.BLOCK_PAGE,sendTelemetry:this._options.isFromBackground||!1},messages:[{template:{analyticsSDK:!0,name:i.IJ.BLOCK_PAGE,interaction_type:i.G4.IMPRESSION,colour:i.PO.toTelemetryBlockState(this._options.colour),level:this._options.level,style:this._options.level===i.sF.FRAME?"UNKNOWN":this._options.blockPageStyle||"UNKNOWN",_event_name:i.f7.BLOCK_PAGE,browser:o.A.browserTypeToString()}}]},{trigger:{identifier:i.f7.BLOCK_PAGE,sendTelemetry:this._options.isFromForeground||!1},messages:[{template:{analyticsSDK:!0,name:i.IJ.BLOCK_PAGE,interaction_type:i.G4.ACCEPTRISK,colour:i.PO.toTelemetryBlockState(this._options.colour),level:this._options.level,style:this._options.blockPageStyle||"UNKNOWN",_event_name:i.f7.BLOCK_PAGE,browser:o.A.browserTypeToString(),metadata:`url=${this._options.url}`}}]},{trigger:{identifier:i.f7.BLOCK_PAGE,selector:"#sidebar-close",action:i.tz.ACTION.CLICK},messages:[{template:{analyticsSDK:!0,name:i.IJ.BLOCK_PAGE,interaction_type:i.G4.CLOSE_CLICKED,colour:i.PO.toTelemetryBlockState(this._options.colour),level:this._options.level,style:this._options.blockPageStyle||"UNKNOWN",_event_name:i.f7.BLOCK_PAGE,browser:o.A.browserTypeToString()}}]},{trigger:{identifier:i.f7.BROWSER_ACTION_CLICKED,sendTelemetry:!0},messages:[{template:{analyticsSDK:!0,name:i.IJ.BROWSER_ACTION_CLICKED,interaction_type:i.G4.WEBADVISOR,badge_count:this._options.count,_event_name:i.f7.BROWSER_ACTION_CLICKED,browser:o.A.browserTypeToString()}}]},{trigger:{identifier:i.f7.BROWSER_NAVIGATE,sendTelemetry:this._options.isFromBackground},messages:[{template:{analyticsSDK:!0,url:this._options.url,browser:o.A.browserTypeToString(),_event_name:i.f7.BROWSER_NAVIGATE}}]},{trigger:{identifier:i.f7.CONTENT_SECURITY_POLICY_WASM,sendTelemetry:this._options.isFromBackground},messages:[{template:{analyticsSDK:!0,colour:this._options.colour,browser:o.A.browserTypeToString(),_event_name:i.f7.CONTENT_SECURITY_POLICY_WASM,policy:this._options.wasmPolicy,url:this._options.url}}]},{trigger:{identifier:i.f7.DOWNLOAD_BLOCK,state:i.tz.MISC.LOADED,sendTelemetry:!0},messages:[{template:{analyticsSDK:!0,name:i.IJ.DOWNLOAD_BLOCK,interaction_type:i.G4.IMPRESSION,process_name:i.tz.MISC.UNKNOWN,file_name:i.tz.MISC.UNKNOWN,colour:i.tz.MISC.UNKNOWN,ui_type:i.tz.MISC.ACTION_PANEL,_event_name:i.f7.DOWNLOAD_BLOCK,browser:o.A.browserTypeToString()}}]},{trigger:{identifier:i.f7.PROFILE_INFO,sendTelemetry:!0},messages:[{template:{analyticsSDK:!0,name:i.f7.PROFILE_INFO,interaction_type:i.G4.IMPRESSION,tab:i.PO.toTelemetrySettingTab(i.TA.PREFERENCE),_event_name:i.f7.PROFILE_INFO,browser:o.A.browserTypeToString()}}]},{trigger:{identifier:i.f7.PROFILE_INFO,selector:`#${i.tz.MISC.SETTINGS_TAB_PREFIX}${i.TA.PREFERENCE}`,action:i.tz.ACTION.CLICK},messages:[{template:{analyticsSDK:!0,name:i.f7.PROFILE_INFO,interaction_type:i.G4.IMPRESSION,tab:i.PO.toTelemetrySettingTab(i.TA.PREFERENCE),_event_name:i.f7.PROFILE_INFO,browser:o.A.browserTypeToString()}}]},{trigger:{identifier:i.f7.PROFILE_INFO,selector:`#${i.tz.MISC.SETTINGS_TAB_PREFIX}${i.TA.WHITELIST}`,action:i.tz.ACTION.CLICK},messages:[{template:{analyticsSDK:!0,name:i.f7.PROFILE_INFO,interaction_type:i.G4.IMPRESSION,tab:i.PO.toTelemetrySettingTab(i.TA.WHITELIST),_event_name:i.f7.PROFILE_INFO,browser:o.A.browserTypeToString()}}]},{trigger:{identifier:i.f7.PROFILE_INFO,selector:`#${i.tz.MISC.SETTINGS_TAB_PREFIX}${i.TA.ABOUT}`,action:i.tz.ACTION.CLICK},messages:[{template:{analyticsSDK:!0,name:i.f7.PROFILE_INFO,interaction_type:i.G4.IMPRESSION,tab:i.PO.toTelemetrySettingTab(i.TA.ABOUT),_event_name:i.f7.PROFILE_INFO,browser:o.A.browserTypeToString()}}]},{trigger:{identifier:i.f7.PROFILE_INFO,selector:`#${i.tz.MISC.SETTINGS_TAB_PREFIX}${i.TA.STATISTICS}`,action:i.tz.ACTION.CLICK},messages:[{template:{analyticsSDK:!0,name:i.f7.PROFILE_INFO,interaction_type:i.G4.IMPRESSION,tab:i.PO.toTelemetrySettingTab(i.TA.STATISTICS),_event_name:i.f7.PROFILE_INFO,browser:o.A.browserTypeToString()}}]},{trigger:{identifier:i.f7.SEARCH_SUGGEST_BLOCK_PAGE,selector:"#block_page_search_input",action:i.tz.ACTION.KEYDOWN},messages:[{template:{analyticsSDK:!0,name:i.f7.SEARCH_SUGGEST,interaction_type:i.G4.IMPRESSION,search_type:i.f7.BLOCK_PAGE,browser:o.A.browserTypeToString(),_event_name:i.f7.SEARCH_SUGGEST}}]},{trigger:{identifier:i.f7.SEARCH_SUGGEST_BLOCK_PAGE,sendTelemetry:this._options.selected},messages:[{template:{analyticsSDK:!0,name:i.f7.SEARCH_SUGGEST,interaction_type:i.G4.SELECTION,search_type:i.f7.BLOCK_PAGE,browser:o.A.browserTypeToString(),_event_name:i.f7.SEARCH_SUGGEST}}]},{trigger:{identifier:i.f7.SEARCH_SUGGEST_TYPOSQUATTING,selector:"#typosquatting_message_search_input",action:i.tz.ACTION.KEYDOWN},messages:[{template:{analyticsSDK:!0,name:i.f7.SEARCH_SUGGEST,interaction_type:i.G4.IMPRESSION,search_type:i.f7.TYPOSQUATTING,browser:o.A.browserTypeToString(),_event_name:i.f7.SEARCH_SUGGEST}}]},{trigger:{identifier:i.f7.SEARCH_SUGGEST_TYPOSQUATTING,sendTelemetry:this._options.selected},messages:[{template:{analyticsSDK:!0,name:i.f7.SEARCH_SUGGEST,interaction_type:i.G4.SELECTION,search_type:i.f7.TYPOSQUATTING,browser:o.A.browserTypeToString(),_event_name:i.f7.SEARCH_SUGGEST}}]},{trigger:{identifier:i.f7.SECURE_SEARCH_HIT,sendTelemetry:!0},messages:[{template:{name:i.IJ.SECURE_SEARCH_HIT,search_type:i.nX.DEFAULT,_event_name:i.f7.SECURE_SEARCH_HIT,browser:o.A.browserTypeToString(),type_tag:this._options.typeTag,provider_type:this._options.engineName}}]},{trigger:{identifier:i.f7.SIDEBAR_PANEL,sendTelemetry:!0},messages:[{template:{analyticsSDK:!0,name:i.IJ.SIDEBAR_PANEL,interaction_type:this._options.interaction_type,_event_name:i.f7.SIDEBAR_PANEL,browser:o.A.browserTypeToString()}}]},{trigger:{identifier:i.f7.SITE_REPORT,state:i.tz.MISC.LOADED,sendTelemetry:!0},messages:[{template:{name:i.f7.SITE_REPORT,interaction_type:i.G4.IMPRESSION,block_state:i.PO.toTelemetryBlockState(this._options.blockState),site_categories:this._options.siteCategories,url:this._options.displayUrl,style:i.tz.MISC.ACTION_PANEL,_event_name:i.f7.SITE_REPORT,browser:o.A.browserTypeToString()}}]},{trigger:{identifier:i.f7.SITE_REPORT,selector:"#sidebar-close",action:i.tz.ACTION.CLICK},messages:[{template:{name:i.f7.SITE_REPORT,interaction_type:i.G4.CLOSE_CLICKED,block_state:i.PO.toTelemetryBlockState(this._options.blockState),site_categories:this._options.siteCategories,url:this._options.displayUrl,style:i.tz.MISC.ACTION_PANEL,_event_name:i.f7.SITE_REPORT,browser:o.A.browserTypeToString()}}]},{trigger:{identifier:i.f7.SMA_REPUTATION,sendTelemetry:!0},messages:[{template:{analyticsSDK:!0,name:i.IJ.SMA_REPUTATION,interaction_type:i.G4.IMPRESSION,_event_name:i.f7.SMA_REPUTATION,browser:o.A.browserTypeToString(),site:this._options.site,color:i.tz.MISC.GREEN,count:this._options[i.tz.MISC.GREEN]}},{template:{analyticsSDK:!0,name:i.IJ.SMA_REPUTATION,interaction_type:i.G4.IMPRESSION,_event_name:i.f7.SMA_REPUTATION,browser:o.A.browserTypeToString(),site:this._options.site,color:i.tz.MISC.RED,count:this._options[i.tz.MISC.RED]}},{template:{analyticsSDK:!0,name:i.IJ.SMA_REPUTATION,interaction_type:i.G4.IMPRESSION,_event_name:i.f7.SMA_REPUTATION,browser:o.A.browserTypeToString(),site:this._options.site,color:i.tz.MISC.YELLOW,count:this._options[i.tz.MISC.YELLOW]}},{template:{analyticsSDK:!0,name:i.IJ.SMA_REPUTATION,interaction_type:i.G4.IMPRESSION,_event_name:i.f7.SMA_REPUTATION,browser:o.A.browserTypeToString(),site:this._options.site,color:i.tz.MISC.UNKNOWN,count:this._options[i.tz.MISC.UNKNOWN]}}]},{trigger:{identifier:i.f7.TOAST,sendTelemetry:!0},messages:[{template:{_event_name:"ToastCheckCompleted",category:"ToastCheck",triggerType:"Impression",browser:o.A.browserTypeToString()}},{template:{_event_name:"Secure_Search_Toast",category:"SecureSearchToast",action_type:"Impression",browser:o.A.browserTypeToString(),provider:this._options.toastData?this._options.toastData.providerId:i.tz.MISC.UNKNOWN,toastType:this._options.toastData?this._options.toastData.toastType:i.lm.REGULAR_TOAST,metadata:this._options.toastData?this._options.toastData.metadata:i.tz.MISC.DEFAULT}}]},{trigger:{identifier:i.f7.TYPOSQUATTING,sendTelemetry:this._options.isFromBackground},messages:[{template:{analyticsSDK:!0,name:i.IJ.TYPOSQUATTING,interaction_type:i.G4.IMPRESSION,browser:o.A.browserTypeToString(),_event_name:i.f7.TYPOSQUATTING}}]},{trigger:{identifier:i.f7.REMOTE_ACCESS_TROJAN,state:i.tz.MISC.LOADED,sendTelemetry:!0},messages:[{template:{analyticsSDK:!0,name:i.f7.REMOTE_ACCESS_TROJAN,interaction_type:i.G4.IMPRESSION,browser:o.A.browserTypeToString(!0),url:this._options.url,_event_name:i.f7.REMOTE_ACCESS_TROJAN}}]},{trigger:{identifier:i.f7.REMOTE_ACCESS_TROJAN,selector:"#rat_detection_got_it_btn",action:i.tz.ACTION.CLICK},messages:[{template:{analyticsSDK:!0,name:i.f7.REMOTE_ACCESS_TROJAN,interaction_type:i.G4.RAT_DETECTION.ACKNOWLEDGED,browser:o.A.browserTypeToString(!0),url:this._options.url,_event_name:i.f7.REMOTE_ACCESS_TROJAN}}]},{trigger:{identifier:i.f7.REMOTE_ACCESS_TROJAN,selector:"#sidebar_rat_detection_whitelist_btn",action:i.tz.ACTION.CLICK},messages:[{template:{analyticsSDK:!0,name:i.f7.REMOTE_ACCESS_TROJAN,interaction_type:i.G4.RAT_DETECTION.WHITELISTED,browser:o.A.browserTypeToString(!0),url:this._options.url,_event_name:i.f7.REMOTE_ACCESS_TROJAN}}]},{trigger:{identifier:i.f7.REMOTE_ACCESS_TROJAN,selector:"#sidebar-close",action:i.tz.ACTION.CLICK},messages:[{template:{analyticsSDK:!0,name:i.f7.REMOTE_ACCESS_TROJAN,interaction_type:i.G4.CLOSE_CLICKED,browser:o.A.browserTypeToString(!0),url:this._options.url,_event_name:i.f7.REMOTE_ACCESS_TROJAN}}]},{trigger:{identifier:i.f7.WSS_ANALYTICS,sendTelemetry:!0},messages:[{template:{analyticsSDK:!0,_event_name:i.f7.WSS_ANALYTICS,message:this._options.message}}]},{trigger:{identifier:i.f7.DARK_WEB_SCAN,sendTelemetry:!0},messages:[{template:{analyticsSDK:!0,_event_name:i.f7.DARK_WEB_SCAN,category:i.f7.DARK_WEB_SCAN,action_type:this._options.eventAction||i.tz.MISC.UNKNOWN,browser:"un"===o.A.browserTypeToString(!0)?i.tz.MISC.UNKNOWN:o.A.browserTypeToString(!0),count:this._options.count||i.tz.MISC.UNKNOWN,type:this._options.type,flow_id:this._options.flowId}}]},{trigger:{identifier:i.f7.APS.EVENT_NAME,sendTelemetry:!0},messages:[{template:{analyticsSDK:!0,_event_name:i.f7.APS.EVENT_NAME,name:i.f7.APS.EVENT_NAME,action_type:i.G4.IMPRESSION,browser:o.A.browserTypeToString(!0),type:i.f7.APS.TOAST,sequence:i.tz.MISC.DEFAULT,trigger:i.tz.MISC.DEFAULT,color:i.tz.MISC.DEFAULT}}]},{trigger:{identifier:i.f7.APS.IMPRESSION_BALLOON,sendTelemetry:!0},messages:[{template:{analyticsSDK:!0,_event_name:i.f7.APS.EVENT_NAME,name:i.f7.APS.EVENT_NAME,action_type:i.G4.IMPRESSION,browser:"un"===o.A.browserTypeToString(!0)?i.tz.MISC.UNKNOWN:o.A.browserTypeToString(!0),type:i.f7.APS.BALLOON,sequence:this._options.sequence,trigger:this._options.trigger,color:this._options.color}}]},{trigger:{identifier:i.f7.APS.IMPRESSION_HOVER,sendTelemetry:!0},messages:[{template:{analyticsSDK:!0,_event_name:i.f7.APS.EVENT_NAME,name:i.f7.APS.EVENT_NAME,action_type:i.G4.HOVER,browser:"un"===o.A.browserTypeToString(!0)?i.tz.MISC.UNKNOWN:o.A.browserTypeToString(!0),type:i.f7.APS.BALLOON,sequence:this._options.sequence,trigger:this._options.trigger,color:this._options.color}}]},{trigger:{identifier:i.f7.APS.CLOSE_BALLOON,sendTelemetry:!0},messages:[{template:{analyticsSDK:!0,_event_name:i.f7.APS.EVENT_NAME,name:i.f7.APS.EVENT_NAME,action_type:i.G4.CLOSE,browser:"un"===o.A.browserTypeToString(!0)?i.tz.MISC.UNKNOWN:o.A.browserTypeToString(!0),type:i.f7.APS.BALLOON,sequence:this._options.sequence,trigger:this._options.trigger,color:this._options.color}}]},{trigger:{identifier:i.f7.APS.TOAST_CLOSE,sendTelemetry:!0},messages:[{template:{analyticsSDK:!0,_event_name:i.f7.APS.EVENT_NAME,name:i.f7.APS.EVENT_NAME,action_type:this._options.gotItButton?i.G4.GOT_IT:i.G4.CLOSE,browser:"un"===o.A.browserTypeToString(!0)?i.tz.MISC.UNKNOWN:o.A.browserTypeToString(!0),type:i.f7.APS.TOAST,sequence:i.tz.MISC.DEFAULT,trigger:i.tz.MISC.DEFAULT,color:i.tz.MISC.DEFAULT}}]},{trigger:{identifier:s.MN.DFD.EVENT_NAME,sendTelemetry:this._options.isFromActivationPage||!1},messages:[{template:{analyticsSDK:!0,_event_name:s.MN.DFD.EVENT_NAME,type:s.D8.SCREEN,event_id:s.MN.DFD.EVENT_ID,screen_name:s.qq.SCREEN_NAME.ACTIVATION_ENROLLMENT_BANNER,trigger:s.qq.TRIGGER.AUDIO_PLAYING,action:s.qq.ACTION.NO_ACTION,is_interactive:!1,browser:o.A.browserTypeToString(!0),interaction:s.N8.IMPRESSION,display_type:this._options.displayType,message_sequence:this._options.msgSequence,suite_csp_id:this._options.wpsCspClientId}}]},{trigger:{identifier:s.MN.DFD.EVENT_NAME,selector:"#mb_banner_activate_button",action:i.tz.ACTION.CLICK},messages:[{template:{analyticsSDK:!0,_event_name:s.MN.DFD.EVENT_NAME,type:s.D8.EVENT,event_id:s.MN.DFD.EVENT_ID,screen_name:s.qq.SCREEN_NAME.ACTIVATION_ENROLLMENT_BANNER,trigger:s.qq.TRIGGER.ACTIVATE_BTN_CLICKED,action:s.qq.ACTION.WA_INTERACTION,is_interactive:!0,browser:o.A.browserTypeToString(!0),interaction:s.N8.ACCEPTED,display_type:this._options.displayType,message_sequence:this._options.msgSequence,suite_csp_id:this._options.wpsCspClientId}}]},{trigger:{identifier:s.MN.DFD.EVENT_NAME,selector:"#mb_banner_learn_more",action:i.tz.ACTION.CLICK},messages:[{template:{analyticsSDK:!0,_event_name:s.MN.DFD.EVENT_NAME,type:s.D8.EVENT,event_id:s.MN.DFD.EVENT_ID,screen_name:s.qq.SCREEN_NAME.ACTIVATION_ENROLLMENT_BANNER,trigger:s.qq.TRIGGER.ACTIVATION_LEARM_MORE_CLICKED,action:s.qq.ACTION.WA_INTERACTION,is_interactive:!0,browser:o.A.browserTypeToString(!0),interaction:s.N8.FAQ_CLICKED,display_type:this._options.displayType,message_sequence:this._options.msgSequence,suite_csp_id:this._options.wpsCspClientId}}]},{trigger:{identifier:s.MN.DFD.EVENT_NAME,selector:"#close_button",action:i.tz.ACTION.CLICK},messages:[{template:{analyticsSDK:!0,_event_name:s.MN.DFD.EVENT_NAME,type:s.D8.EVENT,event_id:s.MN.DFD.EVENT_ID,screen_name:this._options.screenName,trigger:s.qq.TRIGGER.X_CLICKED,action:s.qq.ACTION.WA_INTERACTION,is_interactive:!0,browser:o.A.browserTypeToString(!0),interaction:s.N8.CLOSED,display_type:this._options.displayType,message_sequence:this._options.msgSequence,suite_csp_id:this._options.wpsCspClientId}}]},{trigger:{identifier:s.MN.DFD.EVENT_NAME,sendTelemetry:this._options.isFromSuccessPage||!1},messages:[{template:{analyticsSDK:!0,_event_name:s.MN.DFD.EVENT_NAME,type:s.D8.SCREEN,event_id:s.MN.DFD.EVENT_ID,screen_name:s.qq.SCREEN_NAME.ACTIVATION_ENROLLMENT_BANNER_SUCCESS,trigger:s.qq.TRIGGER.ACTIVATION_ACCEPT,action:s.qq.ACTION.NO_ACTION,is_interactive:!1,browser:o.A.browserTypeToString(!0),interaction:s.N8.IMPRESSION,display_type:this._options.displayType,message_sequence:this._options.msgSequence,suite_csp_id:this._options.wpsCspClientId}}]},{trigger:{identifier:s.MN.DFD.EVENT_NAME,sendTelemetry:"videoBannerShow"===this._options.originFrom},messages:[{template:{analyticsSDK:!0,_event_name:s.MN.DFD.EVENT_NAME,type:s.D8.SCREEN,event_id:s.MN.DFD.EVENT_ID,screen_name:s.qq.SCREEN_NAME.AI_ANNOTATION_BANNER,trigger:s.qq.TRIGGER.AUDIO_PLAYING,action:s.qq.ACTION.NO_ACTION,is_interactive:!1,browser:o.A.browserTypeToString(!0),interaction:s.N8.IMPRESSION,display_type:this._options.displayType,detection_status:this._options.aiAnnoType,suite_csp_id:this._options.wpsCspClientId}}]},{trigger:{identifier:s.MN.DFD.EVENT_NAME,selector:this._options.bannerNodeSelector||"",action:i.tz.ACTION.CLICK},messages:[{template:{analyticsSDK:!0,_event_name:s.MN.DFD.EVENT_NAME,type:s.D8.EVENT,event_id:s.MN.DFD.EVENT_ID,screen_name:s.qq.SCREEN_NAME.AI_ANNOTATION_BANNER,trigger:s.qq.TRIGGER.ANNO_BANNER_CLICKED,action:s.qq.ACTION.WA_INTERACTION,is_interactive:!0,browser:o.A.browserTypeToString(!0),interaction:s.N8.ACCEPTED,display_type:this._options.displayType,detection_status:this._options.aiAnnoType,suite_csp_id:this._options.wpsCspClientId}}]},{trigger:{identifier:s.MN.DFD.EVENT_NAME,selector:this._options.videoBannercloseBtn||"",action:i.tz.ACTION.CLICK},messages:[{template:{analyticsSDK:!0,_event_name:s.MN.DFD.EVENT_NAME,type:s.D8.EVENT,event_id:s.MN.DFD.EVENT_ID,screen_name:s.qq.SCREEN_NAME.AI_ANNOTATION_BANNER,trigger:s.qq.TRIGGER.X_CLICKED,action:s.qq.ACTION.WA_INTERACTION,is_interactive:!0,browser:o.A.browserTypeToString(!0),interaction:s.N8.CLOSED,display_type:this._options.displayType,detection_status:this._options.aiAnnoType,suite_csp_id:this._options.wpsCspClientId}}]},{trigger:{identifier:s.MN.DFD.EVENT_NAME,sendTelemetry:"videoBannerHover"===this._options.originFrom},messages:[{template:{analyticsSDK:!0,_event_name:s.MN.DFD.EVENT_NAME,type:s.D8.SCREEN,event_id:s.MN.DFD.EVENT_ID,screen_name:s.qq.SCREEN_NAME.AI_ANNOTATION_BANNER,trigger:s.qq.TRIGGER.ANNO_BANNER_HOVER,action:s.qq.ACTION.WA_INTERACTION,is_interactive:!0,browser:o.A.browserTypeToString(!0),interaction:s.N8.EXPAND,display_type:s.qq.DISPLAY_TYPE.AI_ANNO_HOVER_BANNER,detection_status:this._options.aiAnnoType,suite_csp_id:this._options.wpsCspClientId}}]},{trigger:{identifier:s.MN.DFD.EVENT_NAME,sendTelemetry:"videoBannerFadeAway"===this._options.originFrom},messages:[{template:{analyticsSDK:!0,_event_name:s.MN.DFD.EVENT_NAME,type:s.D8.EVENT,event_id:s.MN.DFD.EVENT_ID,screen_name:s.qq.SCREEN_NAME.AI_ANNOTATION_BANNER,trigger:s.qq.TRIGGER.ANNO_BANNER_FADE_AWAY,action:s.qq.ACTION.WA_INTERACTION,is_interactive:!0,browser:o.A.browserTypeToString(!0),interaction:s.N8.FADE_AWAY,display_type:this._options.displayType,detection_status:s.HZ.AUDIO_NOT_DETECTED,suite_csp_id:this._options.wpsCspClientId}}]},{trigger:{identifier:s.MN.DFD.EVENT_NAME,sendTelemetry:"dfdSidebarShow"===this._options.originFrom},messages:[{template:{analyticsSDK:!0,_event_name:s.MN.DFD.EVENT_NAME,type:s.D8.SCREEN,event_id:s.MN.DFD.EVENT_ID,screen_name:s.qq.SCREEN_NAME.SIDEBAR_PANEL,trigger:this._options.initTriggerType,action:s.qq.ACTION.NO_ACTION,is_interactive:!1,browser:o.A.browserTypeToString(!0),interaction:s.N8.IMPRESSION,audio_detection_state:this._options.audioDetectionState,time_scanned_minutes:this._options.scannedMinutes,time_flagged_minutes:this._options.flaggedMinutes,deepfake_detected_count:this._options.fakeDetectedCount,snooze_duration:this._options.snoozeDuration,is_trial:this._options.isTrial,days_to_expire:this._options.daysToExpire,graph_error_status:this._options.audioGraphStatus,number_of_days:this._options.totalActivatedDays,suite_csp_id:this._options.wpsCspClientId}}]},{trigger:{identifier:s.MN.DFD.EVENT_NAME,sendTelemetry:"snoozeOptionSelected"===this._options.originFrom},messages:[{template:{analyticsSDK:!0,_event_name:s.MN.DFD.EVENT_NAME,type:s.D8.EVENT,event_id:s.MN.DFD.EVENT_ID,screen_name:s.qq.SCREEN_NAME.SIDEBAR_PANEL,trigger:s.qq.TRIGGER.SNOOZE_OPTION_SELECTED,action:s.qq.ACTION.WA_INTERACTION,is_interactive:!0,browser:o.A.browserTypeToString(!0),interaction:s.N8.SNOOZED,audio_detection_state:this._options.audioDetectionState,time_scanned_minutes:this._options.scannedMinutes,time_flagged_minutes:this._options.flaggedMinutes,deepfake_detected_count:this._options.fakeDetectedCount,snooze_duration:this._options.snoozeDuration,is_trial:this._options.isTrial,days_to_expire:this._options.daysToExpire,graph_error_status:this._options.audioGraphStatus,number_of_days:this._options.totalActivatedDays,suite_csp_id:this._options.wpsCspClientId}}]},{trigger:{identifier:s.MN.DFD.EVENT_NAME,selector:this._options.buyNowBtn||"",action:i.tz.ACTION.CLICK},messages:[{template:{analyticsSDK:!0,_event_name:s.MN.DFD.EVENT_NAME,type:s.D8.EVENT,event_id:s.MN.DFD.EVENT_ID,screen_name:s.qq.SCREEN_NAME.SIDEBAR_PANEL,trigger:this._options.buyNowBtnClickedType,action:s.qq.ACTION.WA_INTERACTION,is_interactive:!0,browser:o.A.browserTypeToString(!0),interaction:s.N8.ACCEPTED,audio_detection_state:this._options.audioDetectionState,time_scanned_minutes:this._options.scannedMinutes,time_flagged_minutes:this._options.flaggedMinutes,deepfake_detected_count:this._options.fakeDetectedCount,snooze_duration:this._options.snoozeDuration,is_trial:this._options.isTrial,days_to_expire:this._options.daysToExpire,graph_error_status:this._options.audioGraphStatus,number_of_days:this._options.totalActivatedDays,suite_csp_id:this._options.wpsCspClientId}}]},{trigger:{identifier:s.MN.DFD.EVENT_NAME,sendTelemetry:"dfdPanelCloseClicked"===this._options.originFrom},messages:[{template:{analyticsSDK:!0,_event_name:s.MN.DFD.EVENT_NAME,type:s.D8.EVENT,event_id:s.MN.DFD.EVENT_ID,screen_name:s.qq.SCREEN_NAME.SIDEBAR_PANEL,trigger:s.qq.TRIGGER.X_CLICKED,action:s.qq.ACTION.WA_INTERACTION,is_interactive:!0,browser:o.A.browserTypeToString(!0),interaction:s.N8.CLOSED,audio_detection_state:this._options.audioDetectionState,time_scanned_minutes:this._options.scannedMinutes,time_flagged_minutes:this._options.flaggedMinutes,deepfake_detected_count:this._options.fakeDetectedCount,snooze_duration:this._options.snoozeDuration,is_trial:this._options.isTrial,days_to_expire:this._options.daysToExpire,graph_error_status:this._options.audioGraphStatus,number_of_days:this._options.totalActivatedDays,suite_csp_id:this._options.wpsCspClientId}}]},{trigger:{identifier:s.MN.DFD.EVENT_NAME,sendTelemetry:"dfdToggleBtnClicked"===this._options.originFrom},messages:[{template:{analyticsSDK:!0,_event_name:s.MN.DFD.EVENT_NAME,type:s.D8.EVENT,event_id:s.MN.DFD.EVENT_ID,screen_name:s.qq.SCREEN_NAME.SIDEBAR_PANEL,trigger:s.qq.TRIGGER.AUDIO_DETECTION_TOGGLE_BTN_CLICKED,action:s.qq.ACTION.WA_INTERACTION,is_interactive:!0,browser:o.A.browserTypeToString(!0),interaction:this._options.toggleType,audio_detection_state:this._options.audioDetectionState,time_scanned_minutes:this._options.scannedMinutes,time_flagged_minutes:this._options.flaggedMinutes,deepfake_detected_count:this._options.fakeDetectedCount,snooze_duration:this._options.snoozeDuration,is_trial:this._options.isTrial,days_to_expire:this._options.daysToExpire,graph_error_status:this._options.audioGraphStatus,number_of_days:this._options.totalActivatedDays,suite_csp_id:this._options.wpsCspClientId}}]},{trigger:{identifier:s.MN.DFD.EVENT_NAME,selector:this._options.backToEntryBtn||"",action:i.tz.ACTION.CLICK},messages:[{template:{analyticsSDK:!0,_event_name:s.MN.DFD.EVENT_NAME,type:s.D8.EVENT,event_id:s.MN.DFD.EVENT_ID,screen_name:s.qq.SCREEN_NAME.SIDEBAR_PANEL,trigger:s.qq.TRIGGER.DFD_PANEL_BACK_CLICKED,action:s.qq.ACTION.WA_INTERACTION,is_interactive:!0,browser:o.A.browserTypeToString(!0),interaction:s.N8.BACK_TO_ENTRY,audio_detection_state:this._options.audioDetectionState,time_scanned_minutes:this._options.scannedMinutes,time_flagged_minutes:this._options.flaggedMinutes,deepfake_detected_count:this._options.fakeDetectedCount,snooze_duration:this._options.snoozeDuration,is_trial:this._options.isTrial,days_to_expire:this._options.daysToExpire,graph_error_status:this._options.audioGraphStatus,number_of_days:this._options.totalActivatedDays,suite_csp_id:this._options.wpsCspClientId}}]},{trigger:{identifier:s.MN.DFD.EVENT_NAME,selector:this._options.mbBasicButton||"",action:i.tz.ACTION.CLICK},messages:[{template:{analyticsSDK:!0,_event_name:s.MN.DFD.EVENT_NAME,type:s.D8.EVENT,event_id:s.MN.DFD.EVENT_ID,screen_name:s.qq.SCREEN_NAME.SIDEBAR_PANEL,trigger:s.qq.TRIGGER.DFD_PANEL_BASICS_BTN_CLICKED,action:s.qq.ACTION.WA_INTERACTION,is_interactive:!0,browser:o.A.browserTypeToString(!0),interaction:s.N8.FAQ_CLICKED,audio_detection_state:this._options.audioDetectionState,time_scanned_minutes:this._options.scannedMinutes,time_flagged_minutes:this._options.flaggedMinutes,deepfake_detected_count:this._options.fakeDetectedCount,snooze_duration:this._options.snoozeDuration,is_trial:this._options.isTrial,days_to_expire:this._options.daysToExpire,graph_error_status:this._options.audioGraphStatus,number_of_days:this._options.totalActivatedDays,suite_csp_id:this._options.wpsCspClientId}}]},{trigger:{identifier:s.MN.DFD.EVENT_NAME,sendTelemetry:"dfdFaqSidebarShow"===this._options.originFrom},messages:[{template:{analyticsSDK:!0,_event_name:s.MN.DFD.EVENT_NAME,type:s.D8.SCREEN,event_id:s.MN.DFD.EVENT_ID,screen_name:s.qq.SCREEN_NAME.SIDEBAR_FAQ_PANEL,trigger:this._options.triggerForMbFaq,action:s.qq.ACTION.NO_ACTION,is_interactive:!1,browser:o.A.browserTypeToString(!0),interaction:s.N8.IMPRESSION,suite_csp_id:this._options.wpsCspClientId}}]},{trigger:{identifier:s.MN.DFD.EVENT_NAME,sendTelemetry:"dfdFaqPanelCloseClicked"===this._options.originFrom},messages:[{template:{analyticsSDK:!0,_event_name:s.MN.DFD.EVENT_NAME,type:s.D8.EVENT,event_id:s.MN.DFD.EVENT_ID,screen_name:s.qq.SCREEN_NAME.SIDEBAR_FAQ_PANEL,trigger:s.qq.TRIGGER.X_CLICKED,action:s.qq.ACTION.WA_INTERACTION,is_interactive:!0,browser:o.A.browserTypeToString(!0),interaction:s.N8.CLOSED,suite_csp_id:this._options.wpsCspClientId}}]},{trigger:{identifier:s.MN.DFD.EVENT_NAME,selector:this._options.contactSupportLink||"",action:i.tz.ACTION.CLICK},messages:[{template:{analyticsSDK:!0,_event_name:s.MN.DFD.EVENT_NAME,type:s.D8.EVENT,event_id:s.MN.DFD.EVENT_ID,screen_name:s.qq.SCREEN_NAME.SIDEBAR_FAQ_PANEL,trigger:s.qq.TRIGGER.DFD_FAQ_PANEL_SUPPORT_BTN_CLICKED,action:s.qq.ACTION.WA_INTERACTION,is_interactive:!0,browser:o.A.browserTypeToString(!0),interaction:s.N8.FAQ_SUPPORT_CLICKED,suite_csp_id:this._options.wpsCspClientId}}]},{trigger:{identifier:s.MN.DFD.EVENT_NAME,selector:this._options.mbFaqBackBtn||"",action:i.tz.ACTION.CLICK},messages:[{template:{analyticsSDK:!0,_event_name:s.MN.DFD.EVENT_NAME,type:s.D8.EVENT,event_id:s.MN.DFD.EVENT_ID,screen_name:s.qq.SCREEN_NAME.SIDEBAR_FAQ_PANEL,trigger:s.qq.TRIGGER.DFD_FAQ_PANEL_BACK_CLICKED,action:s.qq.ACTION.WA_INTERACTION,is_interactive:!0,browser:o.A.browserTypeToString(!0),interaction:s.N8.BACK_TO_DFD_PANEL,suite_csp_id:this._options.wpsCspClientId}}]}]}}},3918:(e,t,n)=>{"use strict";n.d(t,{A:()=>_});n(1171);var i=n(6571),s=n(2252),o=n(1457),a=n(1728),r=n(9866);class _{constructor(e,t){this.data=e,this.container=t,this.query=t.query,this.closeContainer=t.closeContainer,this.clickListener=t.clickListener,this.dblclickListener=t.dblclickListener,this.mousedownListener=t.mousedownListener,this.strConvertor=new i.A(null,this.container.shadowRoot),this.strConvertor.init(),this.elements={bannerContainer:this.query("#banner_container"),promptTitle:this.query("#mb_prompt_banner_title"),promptDesc:this.query("#mb_prompt_banner_desc_div"),buttonDiv:this.query("#buttons"),activatedTitle:this.query("#mb_activated_banner_title"),activatedDesc:this.query("#mb_activated_banner_desc_div"),activatedCheckmarkDiv:this.query("#checkmark_img")},this.options={identifier:a.MN.DFD.EVENT_NAME,displayType:a.qq.DISPLAY_TYPE.EMBEDED_BANNER,wpsCspClientId:a.oo.toTlmWpsCspClientId(e?.wpsCspClientId),containerMeta:t}}async init(){this.initText(),this.buttonListeners(),await this.container.showContainer({delay:100});const e=await(0,s.L)(o.HG.MB_GET_ACTIVATE_BANNER_SHOWN_COUNT);this.options.msgSequence=e,this.options.isFromActivationPage=!0,this.options.screenName=a.qq.SCREEN_NAME.ACTIVATION_ENROLLMENT_BANNER,r.A.handle(this.options)}initText(){this.elements.activatedTitle.style.display="none",this.elements.activatedDesc.style.display="none",this.elements.activatedCheckmarkDiv.style.display="none";const e=`<p id="mb_banner_learn_more">${this.strConvertor.localeData("mb_banner_learn_more")}</p>`,t=this.strConvertor.localeData("mb_prompt_banner_desc",[e]);this.query("#mb_prompt_banner_desc").innerHTML=t}buttonListeners(){this.clickListener("#mb_banner_activate_button",(()=>{this.elements.promptTitle.style.display="none",this.elements.promptDesc.style.display="none",this.elements.buttonDiv.style.display="none",this.elements.bannerContainer.style.gap="15px",this.elements.activatedCheckmarkDiv.style.display="block",this.elements.activatedTitle.style.display="block",this.elements.activatedDesc.style.display="block",(0,s.L)(o.HG.MB_OPT_IN),this.resetCloseBtnEventListeners(),this.options.isFromActivationPage=!1,this.options.isFromSuccessPage=!0,this.options.screenName=a.qq.SCREEN_NAME.ACTIVATION_ENROLLMENT_BANNER_SUCCESS,setTimeout((()=>r.A.handle(this.options)),350)})),this.clickListener("#close_button",(()=>{this.closeContainer()})),this.clickListener("#mb_banner_learn_more",(()=>{(0,s.L)(o.HG.SHOW_MB_FAQ)})),this.clickListener("#banner_container",(e=>{e.stopPropagation()})),this.mousedownListener("#banner_container",(e=>{e.stopPropagation()})),this.dblclickListener("#banner_container",(e=>{e.stopPropagation()}))}resetCloseBtnEventListeners(){const e=this.query("#close_button"),t=e.cloneNode(!0);e.parentNode.replaceChild(t,e),t.addEventListener("click",(()=>{this.closeContainer()}))}}},3103:(e,t,n)=>{"use strict";n.d(t,{B:()=>i});const i={ERROR:"ERROR",NO_VIDEO_PLAYING:"NO_VIDEO_PLAYING",NO_AUDIO_PLAYING:"NO_AUDIO_PLAYING",FEATURE_OFF:"FEATURE_OFF",DISPLAYED:"DISPLAYED"}},6571:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var i=n(22);class s{constructor(e=null,t=document){if(this.resourcerequestor=i.A,this.document=t,e){const t=this.document.querySelectorAll(`#${e}`);t&&(this.document=t[0].contentDocument)}this.localeData=this.localeData.bind(this),this.fillText=this.fillText.bind(this),this.fillLocalizedTexts=this.fillLocalizedTexts.bind(this),this.fillInputPlaceHolders=this.fillInputPlaceHolders.bind(this)}localeData(e,t=[]){return this.resourcerequestor.geti18nRes(e,t)}fillText(e,t){const n=this.document.getElementById(e);if(n){const e=n.getAttribute("x-mcinsertposition");if(e)return void n.insertAdjacentText(e,t);n.textContent=t,n.setAttribute("x-mcl10nprocessed",!0)}}fillLocalizedTexts(){for(const{id:e}of this.document.querySelectorAll("*[x-mclocalizedtext]:not([x-mcl10nprocessed=true])")){const t=this.localeData(e);if(null==t)return!1;this.fillText(e,t)}return!0}fillInputPlaceHolders(){for(const{id:e}of this.document.querySelectorAll("*[x-inputplaceholder]")){const t=this.localeData(e),n=this.document.getElementById(e);if(null==t)return!1;null!=n&&n.setAttribute("placeholder",t)}return!0}init(){this.fillLocalizedTexts(),this.fillInputPlaceHolders()}}},6511:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>o,If:()=>a});var i=n(2966),s=n(6796);class o{static debounce(e,t,n){let i;return(...s)=>{const o=n&&!i;clearTimeout(i),i=setTimeout((()=>{i=null,n||e(...s)}),t),o&&e(...s)}}static isBrowserEN(){return s.c.i18n.getUILanguage().toLowerCase().startsWith("en")}static isChromeBrowser(){const e=navigator.userAgent.toLowerCase();return!(!e.includes("chrome")||!1==!!chrome)&&(!e.includes("opr")&&!e.includes("edg"))}static isWindowsOS(){const{platform:e}=navigator;return e&&-1!==e.search("Win")}static getPlatform(){const{platform:e}=navigator;let t=i.i9.WINDOWS;return-1!==e.search("Mac")?t=i.i9.MAC_OS:-1!==e.search("iPhone")&&(t=i.i9.IOS),t}}const a=e=>{"undefined"!=typeof document&&null!==document&&("complete"===document.readyState||"loading"!==document.readyState&&!document.documentElement.doScroll?e():document.addEventListener("DOMContentLoaded",e))}},1171:()=>{}},t={};function n(i){var s=t[i];if(void 0!==s)return s.exports;var o=t[i]={exports:{}};return e[i].call(o.exports,o,o.exports,n),o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";var e=n(1457),t=n(6511),i=n(827);class s{constructor(e){this.pingCommand=e,this.basePingListener(),this.addIdentifier()}basePingListener(e=null){((e,t=null,n)=>{"function"==typeof n?chrome.runtime.onMessage.addListener(((i,s,o)=>{if(s.id===chrome.runtime.id&&"object"==typeof i&&!Array.isArray(i)&&i?.ipcId===e)return n({promises:t,request:i,sender:s,sendResponse:o})})):i.Ay.error("Provided with invalid callback function")})("WA",null,(({request:t,sendResponse:n})=>{const{command:s}=t;if(s===this.pingCommand)return i.Ay.debug(`File Injection [pinged]: Received ${s} command`),n({content:!0}),"function"==typeof e&&e(),!0}))}addIdentifier(){(0,t.If)((()=>{const e=document.createElement("span");e.id=this.pingCommand,e.style.cssText="display:none",document.body.appendChild(e)}))}}var o=n(2252),a=n(6796),r=n(2966);class _{onHttpResponse(e){if(!e){const t="[HttpService:onHttpResponse] invalid response.";return i.Ay.warn(t),e}if(!e.ok){const t=`[HttpService:onHttpResponse] status: ${e.status}, errortext: ${e.statusText}`;i.Ay.warn(t)}return e}async sendHttpRequest({url:e,headers:t,body:n,method:s="GET"},o=!0){try{t||(t={}),o&&(t["Cache-Control"]="no-cache");const a={headers:t,method:s,body:n};i.Ay.debug(`[sendHttpRequest] url: ${e}, options: ${JSON.stringify(a)}`);const r=await fetch(e,a);return await this.onHttpResponse(r)}catch(t){return i.Ay.error(`[sendHttpRequest] Failed to fetch on: "${e}", got error: ${t?.message}`),null}}async sendHttpRequestJson({url:e,headers:t,body:n,method:s="GET"},o={},a=!0){const r=await this.sendHttpRequest({url:e,headers:t,body:n,method:s},a);if(!r||!r.ok)return o;try{return await r.json()}catch(t){return i.Ay.warn(`[HttpService.sendHttpRequestJson] Failed to convert response to JSON on: "${e}", got error: ${t?.message}`),o}}async sendHttpRequestText({url:e,headers:t,body:n,method:s="GET"},o="",a=!0){const r=await this.sendHttpRequest({url:e,headers:t,body:n,method:s},a);if(!r||!r.ok)return o;try{return(await r.text()).trim()}catch(t){return i.Ay.warn(`[HttpService.sendHttpRequestText] Failed to convert response to Text on: "${e}", got error: ${t?.message}`),o}}}var E=n(2838),c=n.n(E);const l=e=>{try{const t={ADD_ATTR:["src-disabled","sma-type","src-unchecked","src-enabled","x-mclocalizedtext","x-mcsrc","x-mcinsertposition","x-inputplaceholder","x-mcl10nprocessed","target"]};return c().sanitize(e,t)}catch(e){return""}};class T{static async loadTemplate(e,t,n=null,i={}){const{hostStyles:s}=e,o=document.createElement("div");for(const e in s)o.style[e]=s[e];const a=i?.shadowDomMode||"closed",r=o.attachShadow({mode:a});return T.populateFonts(t?.fontHref),await T.populateContainer(t,r),n&&await T.populateContainer(n,r),i?.customAppendFn&&"function"==typeof i.customAppendFn?i.customAppendFn(o):document?.body?.appendChild(o),{hostNode:o,shadowRoot:r}}static async populateContainer(e,t){const{htmlPath:n,cssPath:i,containerId:s,waImageSecret:o}=e,a=await T.getTemplate(n,i,o);(s&&t.querySelector(`#${s}`)||t).appendChild(a)}static async reloadTemplate(e,t,n){n.innerHTML="",t&&await T.populateContainer(t,n),await T.populateContainer(e,n)}static async getTemplate(e,t=null,n){const i=new _,s=document.createElement("template"),o=await i.sendHttpRequest({url:chrome.runtime.getURL(e)}),a=await o.text();let r="";if(t){const e=await i.sendHttpRequest({url:chrome.runtime.getURL(t)});r=await e.text(),r=`<style>${l(r)}</style>`}s.innerHTML=`${r}${l(a)}`;for(const e of s.content.querySelectorAll("img[x-mcsrc]:not([x-mcsrcparsed])")){e.getAttribute("src").includes("?secret")||(e.src=chrome.runtime.getURL(`${e.getAttribute("src")}?secret=${n}`),e.setAttribute("x-mcsrcparsed",!0))}return s.content.cloneNode(!0)}static fadeIn(e){e.style.opacity=0,e.style.display="block",function t(){const n=+e.style.opacity+.1;n<1&&(e.style.opacity=n,window.requestAnimationFrame(t))}()}static fadeOut(e,t){let n=!1;e.style.opacity=1,function i(){if(n)return;const s=+e.style.opacity-.1;s<=0?(n=!0,e.style.display="none",t()):(e.style.opacity=s,window.requestAnimationFrame(i))}()}static populateFonts(e){const t=e=>{try{const t=document.createElement("link");t.type="text/css",t.rel="stylesheet",t.href=e,document.head.appendChild(t)}catch(e){i.Ay.error(e)}};t("https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300;0,400;0,500;0,600;0,700;0,800;1,300;1,400;1,500;1,600;1,700;1,800&family=Poppins:ital,wght@0,400;0,500;0,600;0,800;1,400;1,500;1,600;1,800&display=swap"),e&&"string"==typeof e&&t(e)}}class N{constructor(e,t=null,n={}){this.closing=!1,this.showing=!1,this.animateReload=!0,this.allowReplace=!0,this.componentData=null,this.template=null,this.hostNode=null,this.shadowRoot=null,this.hostStyles=e,this.baseTemplate=t,this.showContainer=this.showContainer.bind(this),this.closeContainer=this.closeContainer.bind(this),this.query=this.query.bind(this),this.querySelectorAll=this.querySelectorAll.bind(this),this.clickListener=this.clickListener.bind(this),this.mouseoverListener=this.mouseoverListener.bind(this),this.mouseoutListener=this.mouseoutListener.bind(this),this.dblclickListener=this.dblclickListener.bind(this),this.mousedownListener=this.mousedownListener.bind(this),this.isShowing=this.isShowing.bind(this),this.bgGrayout=!1,this.bgGrayoutElement=null,this.closingShadowDomListener=n.closingShadowDomListener,this.shadowDomMode=n.shadowDomMode||"closed",this.isTrustCheckRequired=n.isTrustCheckRequired||!0,this.resize=!1,this.domHeight=""}async initContainer(e,t=null,n={}){if(this.closing)return i.Ay.log("initContainer still closing"),!1;if(i.Ay.log("initContainer start"),this.showing&&!1===this.allowReplace&&N.isSameObject(e,this.template))return!1;if(this.componentData&&JSON.stringify(this.componentData)===JSON.stringify(t))return!1;this.componentData=t;const{allowReplace:s=!0,animateReload:o=!0,resize:a=!1}=e;if(this.allowReplace=s,this.animateReload=o,this.resize=a,this.showing=!0,this.hostNode&&s)return await this.reloadContainer(e),!0;let r={...e};this.template=r,null===this.baseTemplate&&(this.baseTemplate=r,r=null);const _={hostStyles:{...this.hostStyles.DEFAULT,...this.hostStyles.HIDE}},E={shadowDomMode:this.shadowDomMode,customAppendFn:n.customAppendFn},{hostNode:c,shadowRoot:l}=await T.loadTemplate(_,this.baseTemplate,r,E);return this.hostNode=c,this.shadowRoot=l,this.resize&&window.addEventListener("resize",this.resizefn.bind(this)),!0}isShowing(){return this.showing}static isSameObject(e=null,t=null){return null===e&&null===t||e&&t&&JSON.stringify(e)===JSON.stringify(t)}async reloadContainer(e,t=this.animateReload){await this.closeContainer(!1,t),this.template=e,await T.reloadTemplate(e,this.baseTemplate,this.shadowRoot)}showBackgroundGrayout(e){if(this.bgGrayout=e,!e)return;this.bgGrayoutElement=document.createElement("div"),this.bgGrayoutElement.style.cssText="display:none; width: 100%; height: 100%; position: fixed; top: 0px; left: 0px; z-index: 99999; background: rgba(0, 0, 0, 0.3);";const t=document.querySelector("body");t.append(this.bgGrayoutElement),t.style.overflow="hidden",T.fadeIn(this.bgGrayoutElement)}hideBackgroundGrayOut(){this.bgGrayoutElement&&this.bgGrayout&&(T.fadeOut(this.bgGrayoutElement,(()=>{})),document.querySelector("body")?.style&&(document.querySelector("body").style.overflow="auto"),this.bgGrayout=!1)}showContainer(e={}){setTimeout((()=>{const t=e?.bgGrayout;this.showBackgroundGrayout(t);for(const e in this.hostStyles.SHOW)this.hostNode.style[e]=this.hostStyles.SHOW[e];this.resize&&this.hostNode&&(this.domHeight="",this.getContainerHeight())}),e?.delay||0)}async closeContainer(e=!0,t=!0){if(this.closing)return;this.hideBackgroundGrayOut(),this.closing=!0,"function"==typeof this.closingShadowDomListener&&this.closingShadowDomListener();const n=()=>{this.closing=!1,this.showing=!1,e&&(this.hostNode&&this.hostNode.remove(),this.hostNode=null,this.componentData=null,this.template=null,this.shadowRoot=null,this.baseTemplate=null)};if(!t)return void n();const i={...this.hostStyles.DEFAULT,...this.hostStyles.HIDE};for(const e in i)this.hostNode&&(this.hostNode.style[e]=i[e]);const s=new Promise((e=>{setTimeout((()=>{n(),e()}),500)}));await s}query(e){return this.shadowRoot?.querySelector(e)}querySelector(e){return this.shadowRoot?.querySelector(e)}querySelectorAll(e){return this.shadowRoot?.querySelectorAll(e)}clickListener(e,t){const n=this.shadowRoot?.querySelector(e);n&&n.addEventListener("click",(e=>{this.isTrustCheckRequired&&!e.isTrusted||t(e)}))}mouseoverListener(e,t){const n=this.shadowRoot?.querySelector(e);n&&n.addEventListener("mouseover",(e=>{this.isTrustCheckRequired&&!e.isTrusted||t(e)}))}mouseoutListener(e,t){const n=this.shadowRoot?.querySelector(e);n&&n.addEventListener("mouseout",(e=>{this.isTrustCheckRequired&&!e.isTrusted||t(e)}))}dblclickListener(e,t){const n=this.shadowRoot?.querySelector(e);n&&n.addEventListener("dblclick",(e=>{this.isTrustCheckRequired&&!e.isTrusted||t(e)}))}mousedownListener(e,t){const n=this.shadowRoot?.querySelector(e);n&&n.addEventListener("mousedown",(e=>{this.isTrustCheckRequired&&!e.isTrusted||t(e)}))}getContainerHeight(){let e=3;const t=setInterval((()=>{this.hostNode?(this.domHeight!==this.hostNode.offsetHeight&&(this.domHeight=this.hostNode.offsetHeight,this.resizefn()),--e<=0&&clearInterval(t)):clearInterval(t)}),1e3)}resizefn(){if(!this.hostNode)return;const e=window.innerHeight;this.domHeight>e?(this.hostNode.style.height=`${e}px`,this.hostNode.style["overflow-y"]="scroll"):this.domHeight<window.innerHeight&&(this.hostNode.style.height="Auto",this.hostNode.style["overflow-y"]="unset")}}const A=e=>{let{top:t,left:n}=d(e);return t<0&&(t=0),n<0&&(n=0),{top:t,left:n}},d=e=>{const t=e.getBoundingClientRect(),n=window.pageYOffset||window.scrollY,i=window.pageXOffset||window.scrollX;return{top:Math.round(t.top+n),left:Math.round(t.left+i),bottom:Math.round(t.bottom+n),right:Math.round(t.right+i)}},p={DEFAULT:{zIndex:"2147483646",border:"none",display:"block",position:"fixed",boxSizing:"border-box",userSelect:"none"},HIDE:{transition:"width 0s 0.4s, height 0s 0.4s, opacity 0.4s, transform 0.4s",transform:"translate3d(0, -80px, 0)",opacity:"0",minHeight:"0"},SHOW:{transition:"opacity 0.4s, transform 0.4s",transform:"translate3d(0, 0, 0)",opacity:"1"}};class S extends N{constructor(t,{shadowMode:n,isTrustCheckRequired:i}){const s={shadowDomMode:n,isTrustCheckRequired:i};p.DEFAULT.position=t===e.fI.PAGE_BANNER?"fixed":"absolute",p.SHOW.minHeight=t===e.fI.PAGE_BANNER?"100px":"113px",t===e.fI.PAGE_BANNER&&(p.SHOW.width="100%",p.DEFAULT.top="0",p.DEFAULT.left="0"),super(p,null,s),this.appendBannerToVideoContainer=this.appendBannerToVideoContainer.bind(this)}async init(t,n,i){const s=await this.initContainer(t,n,{customAppendFn:i===e.fI.PAGE_BANNER?null:this.appendBannerToVideoContainer});return s?(i===e.fI.ACTIVATE_BANNER&&window.addEventListener("resize",this.handleActivateBannerResize.bind(this)),this.injectImages(),s):s}appendBannerToVideoContainer(e){if(!e)return;if(this.videoElement=document.querySelector(`[${r.mD.MB_VIDEO_KEY}="${r.mD.MB_VIDEO_VALUE}"]`),!this.videoElement)return void i.Ay.warn("[MB:activatebanner] appendBannerToVideoContainer: failed to find video container");this.topParentNode=(e=>{let t=e.parentElement;if(null===t)return e;let n=A(t);const i=A(e);let s=1,o=e;for(;null!==t&&i.top===n.top&&i.left===n.left&&s<3;)s++,o=t,t=t.parentElement,null!==t&&(n=A(t));return o})(this.videoElement);const t=["relative","fixed"].includes(window.getComputedStyle(this.topParentNode).getPropertyValue("position")),n=window.getComputedStyle(this.videoElement).getPropertyValue("width");e.style.top=`${t?0:this.topParentNode.offsetTop}px`,e.style.left=`${t?0:this.topParentNode.offsetLeft}px`,e.style.zIndex="999",e.style.padding="20px",e.style.width=n;const s="VIDEO"===this.topParentNode.tagName?"afterend":"afterbegin";this.topParentNode.insertAdjacentElement(s,e)}handleActivateBannerResize(){if(!this.hostNode||!this.videoElement)return;const e=window.getComputedStyle(this.videoElement).getPropertyValue("width");this.hostNode.style.width=e}async injectImages(){const t=await(0,o.L)(e.HG.GET_BK_GLOBALS),n=JSON.parse(t).WA_IMAGE_SECRET,i=this.query("#banner_img");i&&i.setAttribute("src",a.c.runtime.getURL(`../../images/banner/mb_activate_banner_img.svg?secret=${n}`));const s=this.query("#banner_close_icon");s&&s.setAttribute("src",a.c.runtime.getURL(`../../images/banner/mb_banner_close.svg?secret=${n}`))}}var m=n(3918),I=(n(1171),n(6571)),u=n(1728),O=n(9866);class C{constructor(e,t){this.data=e,this.container=t,this.query=t.query,this.closeContainer=t.closeContainer,this.clickListener=t.clickListener,this.dblclickListener=t.dblclickListener,this.mousedownListener=t.mousedownListener,this.strConvertor=new I.A(null,this.container.shadowRoot),this.strConvertor.init(),this.elements={bannerContainer:this.query("#banner_container"),promptTitle:this.query("#mb_prompt_banner_title"),promptDesc:this.query("#mb_prompt_banner_desc_div"),buttonDiv:this.query("#buttons"),activatedTitle:this.query("#mb_activated_banner_title"),activatedDesc:this.query("#mb_activated_banner_desc_div"),activatedCheckmarkDiv:this.query("#checkmark_img")},this.options={identifier:u.MN.DFD.EVENT_NAME,displayType:u.qq.DISPLAY_TYPE.PAGE_BANNER,wpsCspClientId:u.oo.toTlmWpsCspClientId(e?.wpsCspClientId),containerMeta:t}}async init(){this.initText(),this.buttonListeners(),this.container.showContainer({delay:100});const t=await(0,o.L)(e.HG.MB_GET_ACTIVATE_BANNER_SHOWN_COUNT);this.options.msgSequence=t,this.options.isFromActivationPage=!0,this.options.screenName=u.qq.SCREEN_NAME.ACTIVATION_ENROLLMENT_BANNER,O.A.handle(this.options)}initText(){this.elements.activatedTitle.style.display="none",this.elements.activatedDesc.style.display="none",this.elements.activatedCheckmarkDiv.style.display="none";const e=`<p id="mb_banner_learn_more">${this.strConvertor.localeData("mb_banner_learn_more")}</p>`,t=this.strConvertor.localeData("mb_prompt_banner_desc",[e]);this.query("#mb_prompt_banner_desc").innerHTML=t}buttonListeners(){this.clickListener("#mb_banner_activate_button",(()=>{this.elements.promptTitle.style.display="none",this.elements.promptDesc.style.display="none",this.elements.buttonDiv.style.display="none",this.elements.bannerContainer.style.gap="15px",this.elements.activatedCheckmarkDiv.style.display="block",this.elements.activatedTitle.style.display="block",this.elements.activatedDesc.style.display="block",(0,o.L)(e.HG.MB_OPT_IN),this.resetCloseBtnEventListeners(),this.options.isFromActivationPage=!1,this.options.isFromSuccessPage=!0,this.options.screenName=u.qq.SCREEN_NAME.ACTIVATION_ENROLLMENT_BANNER_SUCCESS,setTimeout((()=>O.A.handle(this.options)),350)})),this.clickListener("#close_button",(()=>{this.closeContainer()})),this.clickListener("#mb_banner_learn_more",(()=>{(0,o.L)(e.HG.SHOW_MB_FAQ)})),this.clickListener("#banner_container",(e=>{e.stopPropagation()})),this.mousedownListener("#banner_container",(e=>{e.stopPropagation()})),this.dblclickListener("#banner_container",(e=>{e.stopPropagation()}))}resetCloseBtnEventListeners(){const e=this.query("#close_button"),t=e.cloneNode(!0);e.parentNode.replaceChild(t,e),t.addEventListener("click",(()=>{this.closeContainer()}))}}class h{constructor(){this.componentMap={[e.fI.ACTIVATE_BANNER]:{template:{htmlPath:"html/activate_banner_mb.html",cssPath:"css/mb_activate_banner.css"},Component:m.A},[e.fI.PAGE_BANNER]:{template:{htmlPath:"html/page_banner_mb.html",cssPath:"css/mb_page_banner.css"},Component:C}}}async processMessage(t){const{subcommand:n,componentData:i}=t;if(!n)return;const s=this.componentMap[n];if(!s)return;const{template:a,Component:r}=s,_=await(0,o.L)(e.HG.GET_BK_GLOBALS),E=JSON.parse(_);a.waImageSecret=E.WA_IMAGE_SECRET,this.mbActivateBannerContainer=new S(n,E);await this.mbActivateBannerContainer.init(a,i,n)&&new r(i,this.mbActivateBannerContainer).init(E)}}(new class extends s{constructor(){super(e.U7.PING_CONTENT_MB_ACTIVATE_BANNER),this.mbVideoUIHandler=new h}async main(){const t=await(0,o.L)(e.HG.GET_BK_GLOBALS),{WA_IMAGE_SECRET:n,IDPS_CSP_CLIENT_ID:i}=JSON.parse(t);this.mbVideoUIHandler.processMessage({subcommand:e.fI.ACTIVATE_BANNER,componentData:{waImageSecret:n,wpsCspClientId:i}})}}).main()})()})();
//# sourceMappingURL=../sourceMap/chrome/scripts/content_mb_activate_banner.js.map