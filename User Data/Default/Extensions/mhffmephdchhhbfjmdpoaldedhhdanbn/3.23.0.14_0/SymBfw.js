(e=>{(e.SymBfw=e.SymBfw||{}).globals={BROWSER:"Chrome",PRODUCT_GUID:"DC6B1B05-C7B2-43EB-81E3-CBD3896553C2"}})(window),(e=>{var r;(e.SymBfw=e.SymBfw||{}).logger=(r=e.SymBfw,{debug:function(e){},log:function(e){},error:function(e){console.error(e);var t=r.telemetryWrapper;t.send(t.componentType.LOGGER,t.actionType.ERROR,e)},warn:function(e){console.warn(e);var t=r.telemetryWrapper;t.send(t.componentType.LOGGER,t.actionType.WARN,e)},info:function(e){console.info(e)}})})(window),(e=>{e.SymBfw.constants=((e={httpStatusCodes:{},localizer:{DEFAULT_MESSAGES_DICTIONARY:"strings",GET_LOCALIZED_STRING:"44F4D54E-AB86-454C-A494-DE3AD87E72F9",GET_LOCALIZED_STRINGS:"0D1C5EEF-749F-4EEB-AD6D-F9C26018EE91",GET_ALL_LOCALIZED_STRINGS:"33445b60-9a88-4d99-829f-564704b2a960",GET_LOCALIZED_STRING_FROM_DICTIONARY:"D15C0B4C-DC1B-403F-A3C8-8BB42137B325",GET_LOCALIZED_STRINGS_FROM_DICTIONARY:"88313974-C371-4A8D-9196-0A2CE43C8327",GET_LOCALIZED_STRING_WITH_FORMAT:"F3D7C8CE-B1A9-425A-AD24-4120C592AF86",GET_LOCALIZED_STRING_WITH_FORMAT_FROM_DICTIONARY:"9066F4CC-31A4-45F5-A07A-81DDC38E5F99",GET_CURRENT_LANGUAGE_DIRECTION:"C30B2719-DD82-41EC-E93A-8A602444F90A",GET_LOCALIZED_STRINGS_WITH_FORMAT:"E225C9A6-209A-4702-8E48-3B6EFBF67E26"},clipboard:{messages:{CLEAR_CLIPBOARD:"aa232db5-1dba-473a-ab4b-e9c378b7978b"},DEFAULT_TIMEOUT:6e4}}).httpStatusCodes.OK=200,e.httpStatusCodes.PARTIAL_CONTENT=206,e.httpStatusCodes.CREATED=201,e.httpStatusCodes.NO_CONTENT=204,e.httpStatusCodes.INCORRECT_URI=302,e.httpStatusCodes.NOT_MODIFIED=304,e.httpStatusCodes.BAD_REQUEST=400,e.httpStatusCodes.UNAUTHORIZED=401,e.httpStatusCodes.INVALID_SCHEMA=403,e.httpStatusCodes.NOT_FOUND=404,e.httpStatusCodes.HEADER_ERROR=406,e.httpStatusCodes.GONE=410,e.httpStatusCodes.ENTITY_TOO_LARGE=413,e.httpStatusCodes.DATASTORE_RATE_LIMITED=429,e.httpStatusCodes.RATE_LIMITING=503,e.httpStatusCodes.SERVER_ERROR=500,e.DEFAULT_FETCH_TIMEOUT=6e4,e.CERT_COMMON_NAME="CN",e.telemetry={TELEMETRY_ENABLED:"293E0764-AF48-4C52-B675-0161A7B6BECE",TELEMETRY_OPT_OUT_SHOWN:"FE795012-44D6-491D-A8A1-E83633892C9D",BFW_TELEMETRY_SETTINGS_CONTAINER:"233D07C0-6318-4BCE-A36A-82DFB19F3B2A",USER_RESPONDED_IN_OPT_OUT_PAGE:"8157BC1F-5ED8-4373-A18D-8CD8E0263752",LAST_OFFER_DATE:"9EA53F0C-7F18-44A5-8138-C11F27D66FC1",TELEMETRY_SENT_LIST:"C9183765-5049-46B4-9768-DC81712E2696",TELEMETRY_PARAMETERS_QUEUE:"44e993eb-1ad8-42ed-ae2e-7130e3da7086"},e.TELEMETRY_PARAMS_QUEUE_MAX_SIZE=500,e.os={WINDOWS:"Windows",MAC:"Mac",UNKNOWN:"Unknown"},e.CDN_FILE_DOWNLOADER={ENCRYPTION_METHOD:"RS256",SUPPORTED_PROTOCOL:"https",SUPPORTED_FILEFORMATS:["json"],RESPONSE_STATUS:{UNSUCCESSFUL_RESPONSE:"Error in fetching the file with status code",FILE_TAMPERED:"CDN file has been tampered",PUBLIC_KEY_NOT_VERIFIED:"Public key verification has failed",INVALID_PARAMETERS:"Invalid paramaters"},CERT_ISSUER_NAME:"CERT_ISSUER_NAME",CERT_ISSUED:"CERT_ISSUED"},e.uiConstants={NOTIFICATION:{IFRAME_ID:"symc-notification-popup",HTML:"content/ui/notification.html",STYLE:"content/ui/content-page.css",STACK_COUNT:1,DEFAULT_TIMEOUT:1e4,HEIGHT:200,WARNING_HEIGHT:370,WIDTH:460,BFW_NOTIFICATION_SETTINGS_CONTAINER:"d58fdd21-7954-438c-83fb-8412e1affd1c",NOTIFICATION_QUEUE:"4109ec9d-d6b4-4e4c-a7d4-1bfc7ad1b3bb",NOTIFICATION_EVENT:"9609e71b-3028-402b-ae7a-0e27601d475d",TYPE:{QUESTION:0,TIMED:1,WARNING_QUESTION:2},BUTTON:{DEFAULT:0,SECONDARY:1},MESSAGES:{RESIZE_IFRAME_HEIGHT:"db9de310-ecd6-4213-a3f3-7666afcd23b1",FIXED_IFRAME_HEIGHT:"992D0CB9-739C-462B-9764-A3E6C02C959C",DEFAULT_MESSAGE:"8DB8FE17-6F5E-485E-81EE-1112762F48E4",DEFAULT_BUTTON_PRESSED:"209CBB4D-6D6B-46F4-9EA7-303181937BF6",SECONDARY_LINK_PRESSED:"8881560D-E8A2-41FA-A81D-A90D41311D0D",THIRD_BUTTON_PRESSED:"196F06EB-956E-44EE-A60D-F4741C5CF4D3",NOTIFICATION_CLOSED:"EA7414A5-667F-4459-BAC2-38464F3330A3",NOTIFICATION_QUEUE_MESSAGE:"A88CCFCD-B98D-4607-B780-79A1CF7ADFAD",NOTIFICATIONS_SHOWN:"57C094C2-F0F0-44C2-9BBF-9E147135FB50",UI_INIT:"EE5B61D6-3A55-4ABB-B304-02BDAD9698FE",UI_INIT_PROXY:"0FABE0DB-1C87-475B-D89E-F4EC0EE963DE",HIDE_NOTIFICATIONS:"8211780F-93EC-4E37-8933-E60CB6052E84"}},CONTENT_PAGE_STYLE_ID:"symc-content-stylesheet"},e.performanceReporter={MESSAGES:{REPORT_START:"2379B4CB-E725-4818-8FCC-A9372EABBF45",REPORT_END:"1F62DD4E-56AD-4528-9A69-BFE9EC135B9F",GET_PERFORMANCE_REPORTER:"2306DE62-ACA8-40AE-9909-517474C1120B"}},e.utils={IP:"ip"},e.NAVIGATION_COMPLETE="complete",e.STORE_URLS={Chrome:["https://chrome.google.com/webstore/","https://chromewebstore.google.com/"],Firefox:["https://addons.mozilla.org/"],Safari:["https://safari-extensions.apple.com/"],Edge:["https://www.microsoft.com/[a-zA-Z]+[-]?[a-zA-Z]*/(p|store)/"],"Edge-Chromium":["https://microsoftedge.microsoft.com/addons"]},e.BROWSER_TYPE={CHROME:"Chrome",FIREFOX:"Firefox",EDGE:"Edge",SAFARI:"Safari",EDGE_CHROMIUM:"Edge-Chromium",NSB:"Norton Secure Browser"},e.RANDOM_NUMBER_LIMITS={MIN:0,MAX:4294967295},e.PROTOCOLS=["http","https","chrome-extension","extension","moz-extension","ms-browser-extension"],e.darkMode={BFW_DARK_MODE_SETTINGS_CONTAINER:"EFE6BD8D-BCA8-402D-B2A4-5C2DC313654D",SET_DARK_MODE_STATUS:"3F2DC5D0-94C2-4B48-9C7B-94576B21F76A",GET_DARK_MODE_STATUS:"84C4D37D-14DD-440B-9CAF-7C41AC4790C5",DARK_MODE_STATUS:"DARK_MODE_STATUS"},e.KEEP_BG_ALIVE={PORT_NAME:"KEEP_ALIVE",MAX_BROWSER_CONNECTION_TIME:3e5},e.JSON_DOWNLOADER={JSON_DOWNLOADER_ALARM:"json_downloader",RETRY_JSON_DOWNLOADER_ALARM:"retry_json_downloader",ROOT_CA:`
        -----BEGIN CERTIFICATE-----
        MIIEvjCCA6agAwIBAgIQBtjZBNVYQ0b2ii+nVCJ+xDANBgkqhkiG9w0BAQsFADBh
        MQswCQYDVQQGEwJVUzEVMBMGA1UEChMMRGlnaUNlcnQgSW5jMRkwFwYDVQQLExB3
        d3cuZGlnaWNlcnQuY29tMSAwHgYDVQQDExdEaWdpQ2VydCBHbG9iYWwgUm9vdCBD
        QTAeFw0yMTA0MTQwMDAwMDBaFw0zMTA0MTMyMzU5NTlaME8xCzAJBgNVBAYTAlVT
        MRUwEwYDVQQKEwxEaWdpQ2VydCBJbmMxKTAnBgNVBAMTIERpZ2lDZXJ0IFRMUyBS
        U0EgU0hBMjU2IDIwMjAgQ0ExMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKC
        AQEAwUuzZUdwvN1PWNvsnO3DZuUfMRNUrUpmRh8sCuxkB+Uu3Ny5CiDt3+PE0J6a
        qXodgojlEVbbHp9YwlHnLDQNLtKS4VbL8Xlfs7uHyiUDe5pSQWYQYE9XE0nw6Ddn
        g9/n00tnTCJRpt8OmRDtV1F0JuJ9x8piLhMbfyOIJVNvwTRYAIuE//i+p1hJInuW
        raKImxW8oHzf6VGo1bDtN+I2tIJLYrVJmuzHZ9bjPvXj1hJeRPG/cUJ9WIQDgLGB
        Afr5yjK7tI4nhyfFK3TUqNaX3sNk+crOU6JWvHgXjkkDKa77SU+kFbnO8lwZV21r
        eacroicgE7XQPUDTITAHk+qZ9QIDAQABo4IBgjCCAX4wEgYDVR0TAQH/BAgwBgEB
        /wIBADAdBgNVHQ4EFgQUt2ui6qiqhIx56rTaD5iyxZV2ufQwHwYDVR0jBBgwFoAU
        A95QNVbRTLtm8KPiGxvDl7I90VUwDgYDVR0PAQH/BAQDAgGGMB0GA1UdJQQWMBQG
        CCsGAQUFBwMBBggrBgEFBQcDAjB2BggrBgEFBQcBAQRqMGgwJAYIKwYBBQUHMAGG
        GGh0dHA6Ly9vY3NwLmRpZ2ljZXJ0LmNvbTBABggrBgEFBQcwAoY0aHR0cDovL2Nh
        Y2VydHMuZGlnaWNlcnQuY29tL0RpZ2lDZXJ0R2xvYmFsUm9vdENBLmNydDBCBgNV
        HR8EOzA5MDegNaAzhjFodHRwOi8vY3JsMy5kaWdpY2VydC5jb20vRGlnaUNlcnRH
        bG9iYWxSb290Q0EuY3JsMD0GA1UdIAQ2MDQwCwYJYIZIAYb9bAIBMAcGBWeBDAEB
        MAgGBmeBDAECATAIBgZngQwBAgIwCAYGZ4EMAQIDMA0GCSqGSIb3DQEBCwUAA4IB
        AQCAMs5eC91uWg0Kr+HWhMvAjvqFcO3aXbMM9yt1QP6FCvrzMXi3cEsaiVi6gL3z
        ax3pfs8LulicWdSQ0/1s/dCYbbdxglvPbQtaCdB73sRD2Cqk3p5BJl+7j5nL3a7h
        qG+fh/50tx8bIKuxT8b1Z11dmzzp/2n3YWzW2fP9NsarA4h20ksudYbj/NhVfSbC
        EXffPgK2fPOre3qGNm+499iTcc+G33Mw+nur7SpZyEKEOxEXGlLzyQ4UfaJbcme6
        ce1XR2bFuAJKZTRei9AqPCCcUZlM51Ke92sRKw2Sfh3oius2FkOH6ipjv3U/697E
        A7sKPPcw7+uvTPyLNhBzPvOk
        -----END CERTIFICATE-----
        `,CERT_INFO:{CERT_ISSUER_NAME:"DigiCert TLS RSA SHA256 2020 CA1",CERT_ISSUED:"static.nortoncdn.com"}},e.EXTENSION_URLS_PROTOCOLS=["chrome-extension://","moz-extension://","extension://"],e.EVENT_ALARM_SUFFIX="event_alarm",e.EVENT_ALARM_RETRY_SUFFIX="event_alarm_retry",e)})(window),(e=>{var i,o,a,n;e.SymBfw.utils=(o={},(i=e.SymBfw).globals.BROWSER,a=i.constants,o.createNewGuid=function(){var r=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=(r+16*Math.random())%16|0;return r=Math.floor(r/16),("x"==e?t:7&t|8).toString(16)})},o.isGuid=e=>!!o.isString(e)&&/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(e.toLowerCase()),o.stringUTF16LEToByteArray=function(e){if(!1===this.isString(e))throw new Error("Input string cannot be null or is not a string");for(var t=[],r=0;r<e.length;++r){var n=e.charCodeAt(r),i=(65280&n)>>8;t.push(255&n),t.push(i)}return t},o.arrayBufferToStringUTF16LE=function(e){if(this.isNil(e))return null;e instanceof ArrayBuffer&&(e=new Uint8Array(e));for(var t=[],r=0;r<e.byteLength;r++)t.push(e[r]);return this.byteArrayToStringUTF16LE(t)},o.byteArrayToStringUTF16LE=function(e){if(!1===this.isArray(e))throw new Error("Byte array cannot be null or is not an array");if(e.length<2)throw new Error("Byte array needs to contain at least two bytes");if(e.length%2!=0)throw new Error("Byte array needs to contain even number of bytes");for(var t="",r=0;r<e.length-1;r+=2){var n=e[r];if(255<n)throw new Error("Encoding error: Input contains element larger than a byte.");if(n&=255,255<(i=e[r+1]))throw new Error("Encoding error: Input contains element larger than a byte.");var i=i<<8&65280;t+=String.fromCharCode(n+i)}return t},o.downloadFileFromUrl=function(e){var t=document.createElement("iframe");t.style.display="none",t.src=e,t.width="1",t.height="1",t.frameborder="0",document.body.appendChild(t),setTimeout(function(){document.body.removeChild(t)},5e3)},o.obfuscatePassword=function(e,t){if(!1===this.isString(e))throw new Error("password  cannot be null and has to be a string");if(!1===this.isString(t))throw new Error("obfuscationKey  cannot be null and has to be a string");e=new Uint8Array(i.utils.stringUTF16LEToByteArray(e)),t=new Uint8Array(i.utils.stringUTF16LEToByteArray(t)),e=i.utils._obfuscateData(e,t);return i.utils.arrayBufferToStringUTF16LE(e)},o._obfuscateData=function(e,t){if(o.isNil(e))return null;if(o.isNil(t))return null;e instanceof ArrayBuffer&&(e=new Uint8Array(e)),t instanceof ArrayBuffer&&(t=new Uint8Array(t));for(var r=e.byteLength,n=new Uint8Array(r),i=0;i<r;i++)n[i]=e[i]^t[i%r];return n},o.getOSType=function(){var e=a.os.UNKNOWN;return-1!=navigator.appVersion.toLowerCase().indexOf("win")?e=a.os.WINDOWS:-1!=navigator.appVersion.toLowerCase().indexOf("mac")&&(e=a.os.MAC),e},o.isWin10OS=function(){return o.getOSType()===a.os.WINDOWS&&navigator.userAgent.includes("Windows NT 10.0")},o.isNil=function(e){return null==e},o.isntNil=function(e){return null!=e},o.isEmptyObject=function(e){return!(!o.isNil(e)&&0!==Object.keys(e).length)},o.objectHas=function(e,t){return!(!o.isObject(e)||!o.isString(t))&&Object.prototype.hasOwnProperty.call(e,t)},o.isString=function(e){return!(!o.isntNil(e)||"string"!=typeof e)},o.isFunction=function(e){return!(!o.isntNil(e)||"function"!=typeof e)},o.isArray=function(e){return Array.isArray(e)},o.isObject=function(e){return!(!o.isntNil(e)||"object"!=typeof e||e.constructor!==Object)},o.isNotification=function(e){return!(!o.isntNil(e)||"Notification"!==e.constructor.name)},o.isBoolean=function(e){return!(!o.isntNil(e)||"boolean"!=typeof e)},n={MAP:{ac:{com:!0,gov:!0,mil:!0,net:!0,org:!0,edu:!0},ad:{nom:!0},ae:{ac:!0,co:!0,gov:!0,mil:!0,name:!0,net:!0,org:!0,pro:!0,sch:!0},af:{com:!0,edu:!0,gov:!0,net:!0,org:!0},ai:{off:!0,com:!0,net:!0,org:!0},al:{com:!0,edu:!0,gov:!0,mil:!0,net:!0,org:!0,uniti:!0,tirana:!0,soros:!0,upt:!0,inima:!0},an:{com:!0,net:!0,org:!0,edu:!0},ag:{com:!0,org:!0,net:!0,co:!0,nom:!0},ao:{co:!0,ed:!0,gv:!0,it:!0,og:!0,pb:!0},ar:{com:!0,edu:!0,gob:!0,gov:!0,int:!0,mil:!0,net:!0,org:!0,tur:!0},arpa:{e164:!0,"in-addr":!0,iris:!0,ip6:!0,uri:!0,urn:!0},at:{ac:!0,co:!0,gv:!0,or:!0,priv:!0},au:{asn:!0,com:!0,net:!0,id:!0,org:!0,csiro:!0,oz:!0,info:!0,conf:!0,act:!0,nsw:!0,nt:!0,qld:!0,sa:!0,tas:!0,vic:!0,wa:!0},aw:{com:!0},az:{com:!0,net:!0,int:!0,gov:!0,biz:!0,org:!0,edu:!0,mil:!0,pp:!0,name:!0,info:!0},ba:{co:!0,com:!0,edu:!0,gov:!0,mil:!0,net:!0,org:!0,rs:!0,unbi:!0,unmo:!0,unsa:!0,untz:!0,unze:!0},bb:{biz:!0,co:!0,com:!0,edu:!0,gov:!0,info:!0,net:!0,org:!0,store:!0,tv:!0},bd:{com:!0,edu:!0,net:!0,gov:!0,org:!0,mil:!0},be:{ac:!0},bf:{gov:!0},bh:{biz:!0,cc:!0,com:!0,edu:!0,gov:!0,info:!0,net:!0,org:!0},bm:{com:!0,edu:!0,org:!0,gov:!0,net:!0},bn:{com:!0,edu:!0,gov:!0,net:!0,org:!0},bo:{com:!0,edu:!0,gob:!0,gov:!0,int:!0,mil:!0,net:!0,org:!0,tv:!0},br:{adm:!0,adv:!0,agr:!0,am:!0,arq:!0,art:!0,ato:!0,b:!0,bio:!0,blog:!0,bmd:!0,cim:!0,cng:!0,cnt:!0,com:!0,coop:!0,ecn:!0,edu:!0,eng:!0,esp:!0,etc:!0,eti:!0,far:!0,flog:!0,fm:!0,fnd:!0,fot:!0,fst:!0,g12:!0,ggf:!0,gov:!0,imb:!0,ind:!0,inf:!0,jor:!0,jus:!0,lel:!0,mat:!0,med:!0,mil:!0,mus:!0,net:!0,nom:!0,not:!0,ntr:!0,odo:!0,org:!0,ppg:!0,pro:!0,psc:!0,psi:!0,qsl:!0,rec:!0,slg:!0,srv:!0,tmp:!0,trd:!0,tur:!0,tv:!0,vet:!0,vlog:!0,wiki:!0,zlg:!0},bs:{com:!0,edu:!0,gov:!0,net:!0,org:!0},bt:{com:!0,edu:!0,gov:!0,net:!0,org:!0},bw:{co:!0,org:!0},by:{gov:!0,mil:!0},bz:{du:!0,et:!0,om:!0,ov:!0,rg:!0},ca:{ab:!0,bc:!0,mb:!0,nb:!0,nf:!0,nl:!0,ns:!0,nt:!0,nu:!0,on:!0,pe:!0,qc:!0,sk:!0,yk:!0},cc:{co:!0},ck:{biz:!0,co:!0,edu:!0,gen:!0,gov:!0,info:!0,net:!0,org:!0},cn:{ac:!0,ah:!0,bj:!0,com:!0,cq:!0,edu:!0,fj:!0,gd:!0,gov:!0,gs:!0,gx:!0,gz:!0,ha:!0,hb:!0,he:!0,hi:!0,hl:!0,hn:!0,jl:!0,js:!0,jx:!0,ln:!0,mil:!0,net:!0,nm:!0,nx:!0,org:!0,qh:!0,sc:!0,sd:!0,sh:!0,sn:!0,sx:!0,tj:!0,tw:!0,xj:!0,xz:!0,yn:!0,zj:!0},co:{com:!0,edu:!0,gov:!0,mil:!0,net:!0,nom:!0,org:!0},cr:{ac:!0,c:!0,co:!0,ed:!0,fi:!0,go:!0,or:!0,sa:!0},cx:{gov:!0},cy:{ac:!0,biz:!0,com:!0,ekloges:!0,gov:!0,ltd:!0,name:!0,net:!0,org:!0,parliament:!0,press:!0,pro:!0,tm:!0},cu:{com:!0,edu:!0,org:!0,net:!0,gov:!0,inf:!0},dm:{com:!0,net:!0,org:!0,edu:!0,gov:!0},do:{art:!0,com:!0,edu:!0,gob:!0,gov:!0,mil:!0,net:!0,org:!0,sld:!0,web:!0},dz:{art:!0,asso:!0,com:!0,edu:!0,gov:!0,net:!0,org:!0,pol:!0},ec:{com:!0,edu:!0,fin:!0,gov:!0,info:!0,med:!0,mil:!0,net:!0,org:!0,pro:!0},ee:{com:!0,org:!0,fie:!0,pri:!0},eg:{com:!0,edu:!0,eun:!0,gov:!0,mil:!0,name:!0,net:!0,org:!0,sci:!0},er:{com:!0,edu:!0,gov:!0,ind:!0,mil:!0,net:!0,org:!0,rochest:!0,w:!0},es:{com:!0,edu:!0,gob:!0,nom:!0,org:!0},et:{biz:!0,com:!0,edu:!0,gov:!0,info:!0,name:!0,net:!0,org:!0},fi:{aland:!0},fj:{ac:!0,biz:!0,com:!0,info:!0,mil:!0,name:!0,net:!0,org:!0,pro:!0},fk:{ac:!0,co:!0,gov:!0,net:!0,nom:!0,org:!0},fr:{asso:!0,com:!0,f:!0,gouv:!0,nom:!0,prd:!0,presse:!0,tm:!0},ge:{com:!0,edu:!0,gov:!0,org:!0,mil:!0,net:!0,pvt:!0},gg:{co:!0,net:!0,org:!0},gh:{com:!0,edu:!0,gov:!0,mil:!0,org:!0},gi:{com:!0,ltd:!0,gov:!0,mod:!0,edu:!0,org:!0},gn:{ac:!0,com:!0,gov:!0,net:!0,org:!0},gp:{com:!0,net:!0,edu:!0,asso:!0,org:!0},gr:{com:!0,edu:!0,gov:!0,mil:!0,net:!0,org:!0},gt:{com:!0,edu:!0,gob:!0,ind:!0,mil:!0,net:!0,org:!0},gu:{com:!0,edu:!0,gov:!0,net:!0,org:!0},hk:{com:!0,edu:!0,gov:!0,idv:!0,net:!0,org:!0},ht:{com:!0,net:!0,firm:!0,shop:!0,info:!0,pro:!0,adult:!0,org:!0,art:!0,pol:!0,rel:!0,asso:!0,perso:!0,coop:!0,med:!0,edu:!0,gouv:!0},hu:{2e3:!0,agrar:!0,bolt:!0,casino:!0,city:!0,co:!0,erotica:!0,erotika:!0,film:!0,forum:!0,games:!0,hotel:!0,info:!0,ingatlan:!0,jogasz:!0,konyvelo:!0,lakas:!0,media:!0,news:!0,org:!0,priv:!0,reklam:!0,sex:!0,shop:!0,sport:!0,suli:!0,szex:!0,tm:!0,tozsde:!0,utazas:!0,video:!0},id:{ac:!0,co:!0,go:!0,mil:!0,net:!0,or:!0,sch:!0,web:!0},il:{ac:!0,co:!0,gov:!0,idf:!0,k12:!0,muni:!0,net:!0,org:!0},im:{co:!0,"ltd.co":!0,"plc.co":!0,net:!0,gov:!0,org:!0,nic:!0,ac:!0},in:{ac:!0,co:!0,edu:!0,ernet:!0,firm:!0,gen:!0,gov:!0,i:!0,ind:!0,mil:!0,net:!0,nic:!0,org:!0,res:!0},iq:{com:!0,edu:!0,gov:!0,i:!0,mil:!0,net:!0,org:!0},ir:{ac:!0,co:!0,dnssec:!0,gov:!0,i:!0,id:!0,net:!0,org:!0,sch:!0},it:{edu:!0,gov:!0},je:{co:!0,net:!0,org:!0},jo:{com:!0,edu:!0,gov:!0,mil:!0,name:!0,net:!0,org:!0,sch:!0},jp:{ac:!0,ad:!0,co:!0,ed:!0,go:!0,gr:!0,lg:!0,ne:!0,or:!0},ke:{ac:!0,co:!0,go:!0,info:!0,me:!0,mobi:!0,ne:!0,or:!0,sc:!0},kh:{com:!0,edu:!0,gov:!0,mil:!0,net:!0,org:!0,per:!0},ki:{biz:!0,com:!0,de:!0,edu:!0,gov:!0,info:!0,mob:!0,net:!0,org:!0,tel:!0},km:{asso:!0,com:!0,coop:!0,edu:!0,gouv:!0,k:!0,medecin:!0,mil:!0,nom:!0,notaires:!0,pharmaciens:!0,presse:!0,tm:!0,veterinaire:!0},kn:{edu:!0,gov:!0,net:!0,org:!0},kr:{ac:!0,busan:!0,chungbuk:!0,chungnam:!0,co:!0,daegu:!0,daejeon:!0,es:!0,gangwon:!0,go:!0,gwangju:!0,gyeongbuk:!0,gyeonggi:!0,gyeongnam:!0,hs:!0,incheon:!0,jeju:!0,jeonbuk:!0,jeonnam:!0,k:!0,kg:!0,mil:!0,ms:!0,ne:!0,or:!0,pe:!0,re:!0,sc:!0,seoul:!0,ulsan:!0},kw:{com:!0,edu:!0,gov:!0,net:!0,org:!0},ky:{com:!0,edu:!0,gov:!0,net:!0,org:!0},kz:{com:!0,edu:!0,gov:!0,mil:!0,net:!0,org:!0},lb:{com:!0,edu:!0,gov:!0,net:!0,org:!0},lc:{com:!0,org:!0,edu:!0,gov:!0},li:{com:!0,net:!0,org:!0,gov:!0},lk:{assn:!0,com:!0,edu:!0,gov:!0,grp:!0,hotel:!0,int:!0,ltd:!0,net:!0,ngo:!0,org:!0,sch:!0,soc:!0,web:!0},lr:{com:!0,edu:!0,gov:!0,net:!0,org:!0},ls:{org:!0,co:!0},lt:{gov:!0,mil:!0},lu:{gov:!0,mil:!0,org:!0,net:!0},lv:{asn:!0,com:!0,conf:!0,edu:!0,gov:!0,id:!0,mil:!0,net:!0,org:!0},ly:{com:!0,edu:!0,gov:!0,id:!0,med:!0,net:!0,org:!0,plc:!0,sch:!0},ma:{ac:!0,co:!0,gov:!0,m:!0,net:!0,org:!0,press:!0},mc:{asso:!0,tm:!0},me:{ac:!0,co:!0,edu:!0,gov:!0,its:!0,net:!0,org:!0,priv:!0},mg:{com:!0,edu:!0,gov:!0,mil:!0,nom:!0,org:!0,prd:!0,tm:!0},mk:{com:!0,edu:!0,gov:!0,inf:!0,name:!0,net:!0,org:!0,pro:!0},ml:{com:!0,edu:!0,gov:!0,net:!0,org:!0,presse:!0},mn:{edu:!0,gov:!0,org:!0},mo:{com:!0,edu:!0,gov:!0,net:!0,org:!0},mt:{com:!0,edu:!0,gov:!0,net:!0,org:!0},mv:{aero:!0,biz:!0,com:!0,coop:!0,edu:!0,gov:!0,info:!0,int:!0,mil:!0,museum:!0,name:!0,net:!0,org:!0,pro:!0},mw:{ac:!0,co:!0,com:!0,coop:!0,edu:!0,gov:!0,int:!0,museum:!0,net:!0,org:!0},mx:{com:!0,edu:!0,gob:!0,net:!0,org:!0},my:{com:!0,edu:!0,gov:!0,mil:!0,name:!0,net:!0,org:!0,sch:!0},nf:{arts:!0,com:!0,firm:!0,info:!0,net:!0,other:!0,per:!0,rec:!0,store:!0,web:!0},ng:{biz:!0,com:!0,edu:!0,gov:!0,mil:!0,mobi:!0,name:!0,net:!0,org:!0,sch:!0},ni:{ac:!0,co:!0,com:!0,edu:!0,gob:!0,mil:!0,net:!0,nom:!0,org:!0},no:{mil:!0,stat:!0,kommune:!0,herad:!0,priv:!0,vgs:!0,fhs:!0,museum:!0,fylkesbibl:!0,folkebibl:!0,idrett:!0},np:{com:!0,edu:!0,gov:!0,mil:!0,net:!0,org:!0},nr:{biz:!0,com:!0,edu:!0,gov:!0,info:!0,net:!0,org:!0},om:{ac:!0,biz:!0,co:!0,com:!0,edu:!0,gov:!0,med:!0,mil:!0,museum:!0,net:!0,org:!0,pro:!0,sch:!0},pe:{com:!0,edu:!0,gob:!0,mil:!0,net:!0,nom:!0,org:!0,sld:!0},pf:{com:!0,org:!0,edu:!0},pg:{"com.pg":!0,net:!0},ph:{com:!0,edu:!0,gov:!0,i:!0,mil:!0,net:!0,ngo:!0,org:!0},pk:{biz:!0,com:!0,edu:!0,fam:!0,gob:!0,gok:!0,gon:!0,gop:!0,gos:!0,gov:!0,net:!0,org:!0,web:!0},pl:{art:!0,bialystok:!0,biz:!0,com:!0,edu:!0,gda:!0,gdansk:!0,gorzow:!0,gov:!0,info:!0,katowice:!0,krakow:!0,lodz:!0,lublin:!0,mil:!0,net:!0,ngo:!0,olsztyn:!0,org:!0,poznan:!0,pwr:!0,radom:!0,slupsk:!0,szczecin:!0,torun:!0,warszawa:!0,waw:!0,wroc:!0,wroclaw:!0,zgora:!0},pr:{ac:!0,biz:!0,com:!0,edu:!0,est:!0,gov:!0,info:!0,isla:!0,name:!0,net:!0,org:!0,pro:!0,prof:!0},pro:{law:!0,med:!0,cpa:!0},ps:{com:!0,edu:!0,gov:!0,net:!0,org:!0,plo:!0,sec:!0},pt:{com:!0,edu:!0,gov:!0,int:!0,net:!0,nome:!0,org:!0,publ:!0},pw:{belau:!0,co:!0,ed:!0,go:!0,ne:!0,or:!0},ro:{arts:!0,com:!0,firm:!0,info:!0,nom:!0,nt:!0,org:!0,rec:!0,store:!0,tm:!0,www:!0},rs:{ac:!0,co:!0,edu:!0,gov:!0,in:!0,org:!0},sb:{com:!0,edu:!0,gov:!0,net:!0,org:!0},sc:{com:!0,edu:!0,gov:!0,net:!0,org:!0},sh:{co:!0,com:!0,edu:!0,gov:!0,net:!0,nom:!0,org:!0},sl:{com:!0,edu:!0,gov:!0,net:!0,org:!0},st:{co:!0,com:!0,consulado:!0,edu:!0,embaixada:!0,gov:!0,mil:!0,net:!0,org:!0,principe:!0,saotome:!0,store:!0},sv:{com:!0,edu:!0,gob:!0,org:!0,red:!0},sz:{ac:!0,co:!0,org:!0},tr:{av:!0,bbs:!0,bel:!0,biz:!0,com:!0,dr:!0,edu:!0,gen:!0,gov:!0,info:!0,k12:!0,name:!0,net:!0,org:!0,pol:!0,tel:!0,tsk:!0,tv:!0,web:!0},tt:{aero:!0,biz:!0,cat:!0,co:!0,com:!0,coop:!0,edu:!0,gov:!0,info:!0,int:!0,jobs:!0,mil:!0,mobi:!0,museum:!0,name:!0,net:!0,org:!0,pro:!0,tel:!0,travel:!0},tw:{club:!0,com:!0,ebiz:!0,edu:!0,game:!0,gov:!0,idv:!0,mil:!0,net:!0,org:!0},mu:{ac:!0,co:!0,com:!0,gov:!0,net:!0,or:!0,org:!0},mz:{ac:!0,co:!0,edu:!0,gov:!0,org:!0},na:{co:!0,com:!0},nz:{ac:!0,co:!0,cri:!0,geek:!0,gen:!0,govt:!0,health:!0,iwi:!0,maori:!0,mil:!0,net:!0,org:!0,parliament:!0,school:!0},pa:{abo:!0,ac:!0,com:!0,edu:!0,gob:!0,ing:!0,med:!0,net:!0,nom:!0,org:!0,sld:!0},py:{com:!0,edu:!0,gov:!0,mil:!0,net:!0,org:!0},qa:{com:!0,edu:!0,gov:!0,mil:!0,net:!0,org:!0},re:{asso:!0,com:!0,nom:!0},ru:{ac:!0,adygeya:!0,altai:!0,amur:!0,arkhangelsk:!0,astrakhan:!0,bashkiria:!0,belgorod:!0,bir:!0,bryansk:!0,buryatia:!0,cbg:!0,chel:!0,chelyabinsk:!0,chita:!0,chukotka:!0,chuvashia:!0,com:!0,dagestan:!0,"e-burg":!0,edu:!0,gov:!0,grozny:!0,int:!0,irkutsk:!0,ivanovo:!0,izhevsk:!0,jar:!0,"joshkar-ola":!0,kalmykia:!0,kaluga:!0,kamchatka:!0,karelia:!0,kazan:!0,kchr:!0,kemerovo:!0,khabarovsk:!0,khakassia:!0,khv:!0,kirov:!0,koenig:!0,komi:!0,kostroma:!0,kranoyarsk:!0,kuban:!0,kurgan:!0,kursk:!0,lipetsk:!0,magadan:!0,mari:!0,"mari-el":!0,marine:!0,mil:!0,mordovia:!0,mosreg:!0,msk:!0,murmansk:!0,nalchik:!0,net:!0,nnov:!0,nov:!0,novosibirsk:!0,nsk:!0,omsk:!0,orenburg:!0,org:!0,oryol:!0,penza:!0,perm:!0,pp:!0,pskov:!0,ptz:!0,rnd:!0,ryazan:!0,sakhalin:!0,samara:!0,saratov:!0,simbirsk:!0,smolensk:!0,spb:!0,stavropol:!0,stv:!0,surgut:!0,tambov:!0,tatarstan:!0,tom:!0,tomsk:!0,tsaritsyn:!0,tsk:!0,tula:!0,tuva:!0,tver:!0,tyumen:!0,udm:!0,udmurtia:!0,"ulan-ude":!0,vladikavkaz:!0,vladimir:!0,vladivostok:!0,volgograd:!0,vologda:!0,voronezh:!0,vrn:!0,vyatka:!0,yakutia:!0,yamal:!0,yekaterinburg:!0,"yuzhno-sakhalinsk":!0},rw:{ac:!0,co:!0,com:!0,edu:!0,gouv:!0,gov:!0,int:!0,mil:!0,net:!0},sa:{com:!0,edu:!0,gov:!0,med:!0,net:!0,org:!0,pub:!0,sch:!0},sd:{com:!0,edu:!0,gov:!0,info:!0,med:!0,net:!0,org:!0,tv:!0},se:{a:!0,ac:!0,b:!0,bd:!0,c:!0,d:!0,e:!0,f:!0,g:!0,h:!0,i:!0,k:!0,l:!0,m:!0,n:!0,o:!0,org:!0,p:!0,parti:!0,pp:!0,press:!0,r:!0,s:!0,t:!0,tm:!0,u:!0,w:!0,x:!0,y:!0,z:!0},sg:{com:!0,edu:!0,gov:!0,idn:!0,net:!0,org:!0,per:!0},sn:{art:!0,com:!0,edu:!0,gouv:!0,org:!0,perso:!0,univ:!0},sy:{com:!0,edu:!0,gov:!0,mil:!0,net:!0,news:!0,org:!0},th:{ac:!0,co:!0,go:!0,in:!0,mi:!0,net:!0,or:!0},tj:{ac:!0,biz:!0,co:!0,com:!0,edu:!0,go:!0,gov:!0,info:!0,int:!0,mil:!0,name:!0,net:!0,nic:!0,org:!0,test:!0,web:!0},tn:{agrinet:!0,com:!0,defense:!0,edunet:!0,ens:!0,fin:!0,gov:!0,ind:!0,info:!0,intl:!0,mincom:!0,nat:!0,net:!0,org:!0,perso:!0,rnrt:!0,rns:!0,rnu:!0,tourism:!0},tz:{ac:!0,co:!0,go:!0,ne:!0,or:!0},ua:{biz:!0,cherkassy:!0,chernigov:!0,chernovtsy:!0,ck:!0,cn:!0,co:!0,com:!0,crimea:!0,cv:!0,dn:!0,dnepropetrovsk:!0,donetsk:!0,dp:!0,edu:!0,gov:!0,if:!0,in:!0,"ivano-frankivsk":!0,kh:!0,kharkov:!0,kherson:!0,khmelnitskiy:!0,kiev:!0,kirovograd:!0,km:!0,kr:!0,ks:!0,kv:!0,lg:!0,lugansk:!0,lutsk:!0,lviv:!0,me:!0,mk:!0,net:!0,nikolaev:!0,od:!0,odessa:!0,org:!0,pl:!0,poltava:!0,pp:!0,rovno:!0,rv:!0,sebastopol:!0,sumy:!0,te:!0,ternopil:!0,uzhgorod:!0,vinnica:!0,vn:!0,zaporizhzhe:!0,zhitomir:!0,zp:!0,zt:!0},ug:{ac:!0,co:!0,go:!0,ne:!0,or:!0,org:!0,sc:!0},uk:{ac:!0,bl:!0,"british-library":!0,co:!0,cym:!0,gov:!0,govt:!0,icnet:!0,jet:!0,lea:!0,ltd:!0,me:!0,mil:!0,mod:!0,"national-library-scotland":!0,nel:!0,net:!0,nhs:!0,nic:!0,nls:!0,org:!0,orgn:!0,parliament:!0,plc:!0,police:!0,sch:!0,scot:!0,soc:!0},us:{dni:!0,fed:!0,isa:!0,kids:!0,nsn:!0},uy:{com:!0,edu:!0,gub:!0,mil:!0,net:!0,org:!0},ve:{co:!0,com:!0,edu:!0,gob:!0,info:!0,mil:!0,net:!0,org:!0,web:!0},vi:{co:!0,com:!0,k12:!0,net:!0,org:!0},vn:{ac:!0,biz:!0,com:!0,edu:!0,gov:!0,health:!0,info:!0,int:!0,name:!0,net:!0,org:!0,pro:!0},ye:{co:!0,com:!0,gov:!0,ltd:!0,me:!0,net:!0,org:!0,plc:!0},yu:{ac:!0,co:!0,edu:!0,gov:!0,org:!0},za:{ac:!0,agric:!0,alt:!0,bourse:!0,city:!0,co:!0,cybernet:!0,db:!0,edu:!0,gov:!0,grondar:!0,iaccess:!0,imt:!0,inca:!0,landesign:!0,law:!0,mil:!0,net:!0,ngo:!0,nis:!0,nom:!0,olivetti:!0,org:!0,pix:!0,school:!0,tm:!0,web:!0},zm:{ac:!0,co:!0,com:!0,edu:!0,gov:!0,net:!0,org:!0,sch:!0}}},o.getSLD=function(e){var t,r;return o.isNil(e)||(r=(e=e.split(".")).length-2)<0||(t=e[r],r=n.MAP[e=e[1+r]],o.isNil(r))||(r=r[t],o.isNil(r))?null:t+"."+e},o.depthOfTLDorSLD=function(e){return o.isNil(e)?null:(e=o.getSLD(e),o.isntNil(e)?2:1)},o.isInteger=function(e){return!o.isNil(e)&&"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},o.isNumber=function(e){return!o.isNil(e)&&"number"==typeof e&&isFinite(e)},o.isSuccessCode=function(e){return!o.isNil(e)&&(e===a.httpStatusCodes.OK||e===a.httpStatusCodes.PARTIAL_CONTENT||e===a.httpStatusCodes.CREATED||e===a.httpStatusCodes.NO_CONTENT)},o.fetch=function(e,n={}){return new Promise(function(t,r){fetch(e,n).then(function(e){t(e)}).catch(function(e){r(e)})})},o.safeFetch=function(e,i={},o=a.DEFAULT_FETCH_TIMEOUT){return new Promise(function(t,r){let n=setTimeout(function(){r(new Error("Request timed out "+e))},o);fetch(e,i).then(function(e){clearTimeout(n),t(e)}).catch(function(e){clearTimeout(n),r(e)})})},o.isSuccessCodeLocalFile=function(e){return!!o.isInteger(e)&&("Safari"===i.globals.BROWSER&&0===e||e===a.httpStatusCodes.OK)},o.urlWithoutQueryParameters=function(e,t){var r,n;return o.isNil(t)&&(t=!0),o.isNil(e)?null:(r=(n=new URI(e)).protocol(),!o.isNil(r)&&""!==r&&a.PROTOCOLS.includes(r)||(r="http",n=new URI(r+"://"+e)),e=n.hostname(),n=n.path(),!o.isNil(n)&&"/"!==n||(n=""),t?r+"://"+e+n:e+n)},o.baseURL=function(e){return o.isNil(e)?null:new URI(e).hostname()},o.pathName=function(e){return o.isNil(e)?null:new URI(e).pathname()},o.urlProtocol=function(e){return o.isNil(e)||""===(e=new URI(e).protocol())?null:e},o.getUrlTLD=function(e){return o.isNil(e)||""===(e=new URI(e).tld())?null:e},o.getCompanyDomain=function(e){var t;return o.isNil(e)||(t=new URI(e).hostname(),e=o.getUrlTLD(e),""===t)?null:o.isntNil(e)&&0<t.indexOf(e)?(e=t.substring(0,t.lastIndexOf(e)-1).split("."))[e.length-1]:t},o.getDomain=function(e){return o.isNil(e)||""===(e=new URI(e).domain())?null:e},o.isUrlAnIp=function(e){return o.isNil(e)?null:new URI(e).is(a.utils.IP)},o.getFileNameExtension=function(e){return!o.isString(e)||""===(e=new URI(e).suffix())?null:e},o.appendToObject=function(t,r){if(o.isNil(t)||o.isNil(r))throw new Error("invalid arguments to appendToObject");Object.keys(r).forEach(function(e){t[e]=r[e]})},o.createCustomHTMLEvent=function(e,t){if(!1===o.isString(e))throw new Error("Event name cannot be null and has to be a string");e=new CustomEvent(e,{detail:t});window.dispatchEvent(e)},o.isTopLevelWindow=function(){return"Edge"===i.globals.BROWSER?window.top.location==window.self.location:window.top==window.self},o.getActiveElement=function(){return document.activeElement},o.verifyJson=function(e,t,r,n){try{var i,o=forge.md.sha256.create(),a=(o.update(JSON.stringify(e)),o.digest().toHex()),s=KEYUTIL.getKey(r);return!0===KJUR.jws.JWS.verify(t,s,n)?(i=b64utoutf8(t.split(".")[1]),KJUR.jws.JWS.readSafeJSONString(i).hash===a):!1}catch(e){return!1}},o.isNewVersionUpdated=function(e,t){var t=t.split("."),e=e.split("."),r=t[0]!==e[0],t=t[1]!==e[1];return!(!r&&!t)},o.isStorePageURL=function(t){return!!o.isString(t)&&("Edge"===i.globals.BROWSER?new RegExp(a.STORE_URLS[i.globals.BROWSER]).test(t):!!a.STORE_URLS[i.globals.BROWSER].find(e=>t.startsWith(e)))},o.upperCaseFirstLetter=function(e){return o.isString(e)?e.charAt(0).toUpperCase()+e.slice(1):e},o.setTimeout=function(r){return new Promise(function(e,t){return o.isInteger(r)?window.setTimeout(e,r):t(new Error("Delay must be an integer"))})},o.getValueAtPath=function(e,t,r){let n=i.utils.isString(t)?t.split(/[.[\]]/g).filter(Boolean):t;return(n=o.isArray(n)?n:[n]).reduce(function(e,t){return o.objectHas(e,t)?e[t]:r},e||{})},o.setDoNotTrack=function(e=!1){if(!o.isBoolean(e))throw new Error("Parameter to setDoNotTrack should be a boolean");try{var t=e?"1":"0";Object.defineProperty(navigator,"doNotTrack",{value:t,writable:!1,configurable:!0})}catch(e){}},o.getRandomIntInRange=function(e,t){if(!o.isInteger(e)||!o.isInteger(t)||t<e||e<a.RANDOM_NUMBER_LIMITS.MIN||t>a.RANDOM_NUMBER_LIMITS.MAX)throw new Error("Invalid min or max value");var r=new Uint32Array(1),r=(window.crypto.getRandomValues(r),r[0]/4294967296);return Math.floor(r*(t-e+1))+e},o.isTrustedEvent=function(e){if(o.isNil(e))throw new Error("event should not be null");return e.isTrusted},o.isExtensionUrl=t=>{var e;return!!o.isString(t)&&(e=a.EXTENSION_URLS_PROTOCOLS.find(e=>t.startsWith(e)),!!o.isString(e))},o.isExtnRunningInNSB=()=>{var e=navigator.userAgentData;return!o.isNil(e)&&(e=e.brands,!o.isNil(e))&&e.some(e=>!!e.brand&&e.brand.toLowerCase()===a.BROWSER_TYPE.NSB.toLowerCase())},o)})(window),window.SymBfw.base64=(()=>{let u={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_utf8Encode:function(e){e=e.replace(/\r\n/g,"\n");for(var t="",r=0;r<e.length;r++){var n=e.charCodeAt(r);n<128?t+=String.fromCharCode(n):t=127<n&&n<2048?(t+=String.fromCharCode(n>>6|192))+String.fromCharCode(63&n|128):(t=(t+=String.fromCharCode(n>>12|224))+String.fromCharCode(n>>6&63|128))+String.fromCharCode(63&n|128)}return t},_utf8Decode:function(e){let t="",r=0;var n;let i=0;for(var o;r<e.length;)(n=e.charCodeAt(r))<128?(t+=String.fromCharCode(n),r++):191<n&&n<224?(i=e.charCodeAt(r+1),t+=String.fromCharCode((31&n)<<6|63&i),r+=2):(i=e.charCodeAt(r+1),o=e.charCodeAt(r+2),t+=String.fromCharCode((15&n)<<12|(63&i)<<6|63&o),r+=3);return t},encode:function(e){let t="",r,n,i,o,a,s,l,c=0;for(e=u._utf8Encode(e);c<e.length;)r=e.charCodeAt(c++),n=e.charCodeAt(c++),i=e.charCodeAt(c++),o=r>>2,a=(3&r)<<4|n>>4,s=(15&n)<<2|i>>6,l=63&i,isNaN(n)?s=l=64:isNaN(i)&&(l=64),t=t+u._keyStr.charAt(o)+u._keyStr.charAt(a)+u._keyStr.charAt(s)+u._keyStr.charAt(l);return t},decode:function(e){let t="";var r,n,i,o,a,s;let l=0;for(e=e.replace(/[^A-Za-z0-9\+\/\=]\./g,"");l<e.length;)i=u._keyStr.indexOf(e.charAt(l++)),r=(15&(o=u._keyStr.indexOf(e.charAt(l++))))<<4|(a=u._keyStr.indexOf(e.charAt(l++)))>>2,n=(3&a)<<6|(s=u._keyStr.indexOf(e.charAt(l++))),t+=String.fromCharCode(i<<2|o>>4),64!=a&&(t+=String.fromCharCode(r)),64!=s&&(t+=String.fromCharCode(n));return(t=u._utf8Decode(t)).replace(/\0.*$/g,"")}};return u})(),(e=>{let t=Math.pow(2,31)-1;e.SymBfw.extensionAdapter=(i=>{let a={},{utils:{isNil:s,isntNil:l,isString:o,isInteger:n,isFunction:c,isArray:u,isObject:m,isBoolean:e,getValueAtPath:d,isEmptyObject:r},logger:h}=i,E=(a.getWindowIDNone=function(){if(s(chrome)||s(chrome.windows))throw new Error("chrome is null or chrome.windows is null");return chrome.windows.WINDOW_ID_NONE},a.getLastError=function(){return chrome.runtime.lastError},a.getInvalidTabId=function(){return s(chrome)||s(chrome.tabs)?-1:chrome.tabs.TAB_ID_NONE},a.getExtensionId=function(){return chrome.runtime.id},a.reloadExtension=function(){if(s(chrome)||s(chrome.runtime))throw new Error("chrome is null or chrome.runtime is null");chrome.runtime.reload()},a.isPrivateModeAllowed=function(){return new Promise(t=>{chrome.extension.isAllowedIncognitoAccess(e=>{t(e)})})},a.getBackgroundPage=function(){return s(chrome)||s(chrome.extension)?null:chrome.extension.getBackgroundPage()},a.getExtensionURL=function(e){if(s(chrome)||s(chrome.runtime))throw new Error("chrome or chrome.runtime is null");if(o(e))return chrome.runtime.getURL(e);throw new Error("extensionAdapter.getExtensionURL expects a string path argument")},a.getAllWindows=function(e,t){if(s(chrome)||s(chrome.windows))throw new Error("chrome is null or chrome.windows is null");if(!c(e))throw new Error("invalid arguments to extensionAdapter.getAllWindows");s(t)&&(t={}),chrome.windows.getAll(t,e)},a.getCurrentWindow=function(e,t){if(s(chrome)||s(chrome.windows))throw new Error("chrome is null or chrome.windows is null");if(!c(e))throw new Error("invalid arguments to extensionAdapter.getAllWindows");s(t)&&(t={}),chrome.windows.getCurrent(t,e)},a.createWindow=function(e,t,r=!0){if(s(chrome)||s(chrome.windows))throw new Error("chrome is null or chrome.windows is null");var n={};i.globals.BROWSER!==i.constants.BROWSER_TYPE.FIREFOX&&(n.focused=r),l(e)&&(n.url=e),chrome.windows.create(n,t)},a.createAppWindow=function(e,t){if(s(chrome)||s(chrome.windows))throw new Error("chrome is null or chrome.windows is null");var r={};r.type=chrome.windows.CreateType.PANEL,l(e)&&(r.url=e),chrome.windows.create(r,t)},a.createPrivateWindow=function(e,t,r=!0){if(s(chrome)||s(chrome.windows))throw new Error("chrome is null or chrome.windows is null");r={incognito:!0,focused:r};l(e)&&(r.url=e),chrome.windows.create(r,t)},a.closeWindow=function(e,t){if(s(chrome)||s(chrome.windows))throw new Error("chrome is null or chrome.windows is null");if(!n(e))throw new Error("invalid arguments to extensionAdapter.closeWindow");chrome.windows.remove(e,t)},a.focusWindow=function(e,t){if(s(chrome)||s(chrome.windows))throw new Error("chrome is null or chrome.windows is null");if(!n(e))throw new Error("invalid arguments to extensionAdapter.focusWindow");chrome.windows.update(e,{focused:!0},t)},a.addWindowRemovedEventListener=function(e){if(s(chrome)||s(chrome.windows))throw new Error("chrome is null or chrome.windows is null");if(!c(e))throw new Error("extensionAdapter.addWindowRemovedEventListener needs a callback");chrome.windows.onRemoved.addListener(e)},a.removeWindowRemovedEventListener=function(e){if(s(chrome)||s(chrome.windows))throw new Error("chrome is null or chrome.windows is null");if(!c(e))throw new Error("extensionAdapter.removeWindowRemovedEventListener needs a callback");chrome.windows.onRemoved.hasListeners()&&chrome.windows.onRemoved.removeListener(e)},a.addWindowFocusedEventListener=function(e){if(s(chrome)||s(chrome.tabs))throw new Error("chrome is null or chrome.windows is null");if(!c(e))throw new Error("extensionAdapter.addWindowFocusedEventListener needs a callback");chrome.windows.onFocusChanged.addListener(e)},a.getTab=function(e,t){if(s(chrome)||s(chrome.tabs))throw new Error("chrome is null or chrome.tabs is null");if(!n(e)||!c(t))throw new Error("invalid arguments to extensionAdapter.getTab");chrome.tabs.get(e,t)},a.detectLanguageByTabId=function(r){return(e=>{if(s(chrome)||s(chrome.tabs))throw new Error("chrome is null or chrome.tabs is null");if(n(e))return!0;throw new Error("invalid arguments to extensionAdapter.detectLanguageByTabId")})(r)&&c(chrome.tabs.detectLanguage)?new Promise(function(t,e){chrome.tabs.detectLanguage(r,e=>{t(e)})}):null},a.getActiveTab=function(t,e){if(s(chrome)||s(chrome.tabs))throw new Error("chrome is null or chrome.tabs is null");if(!c(t))throw new Error("invalid arguments to extensionAdapter.getActiveTab");var r={active:!0};n(e)?r.windowId=e:r.currentWindow=!0,chrome.tabs.query(r,function(e){t(e[0])})},a.getAllTabs=function(e){if(s(chrome)||s(chrome.tabs))throw new Error("chrome is null or chrome.tabs is null");if(!c(e))throw new Error("invalid arguments to extensionAdapter.getAllTabs");chrome.tabs.query({},e)},a.getTabsWithURL=function(e,t){if(s(chrome)||s(chrome.tabs))throw new Error("chrome is null or chrome.tabs is null");if(!o(e)||!c(t))throw new Error("invalid arguments to extensionAdapter.getTabsWithURL");chrome.tabs.query({url:e},t)},a.updateTabUrl=function(e,t,r){if(s(chrome)||s(chrome.tabs))throw new Error("chrome is null or chrome.tabs is null");if(!n(e)||!o(t))throw new Error("invalid arguments to extensionAdapter.updateTabUrl");chrome.tabs.update(e,{url:t},r)},a.activateTab=function(e,t){if(s(chrome)||s(chrome.tabs))throw new Error("chrome is null or chrome.tabs is null");if(s(e)||!n(e))throw new Error("invalid arguments to extensionAdapter.activateTab");chrome.tabs.update(e,{active:!0},t)},a.createTab=function(e,t,r=!0){if(s(chrome)||s(chrome.tabs))throw new Error("chrome is null or chrome.tabs is null");s(e)?chrome.tabs.create({},t):chrome.tabs.create({url:e,active:r},t)},a.closeTab=function(e,t){if(s(chrome)||s(chrome.tabs))throw new Error("chrome is null or chrome.tabs is null");if(!n(e)&&!u(e))throw new Error("invalid arguments to extensionAdapter.closeTab");chrome.tabs.remove(e,t)},a.closeTabAndEnsureBrowserIsAlive=function(t,r){if(!n(t)||t<=0||l(r)&&!c(r))throw new Error("Invalid arguments to extensionAdapter.closeTabAndEnsureBrowserIsAlive()");a.getAllWindows(function(e){1===e.length?a.getAllTabs(function(e){1===e.length&&a.createTab(),a.closeTab(t),l(r)&&r()}):(a.closeTab(t),l(r)&&r())})},a.addTabRemovedEventListener=function(e){if(s(chrome)||s(chrome.tabs))throw new Error("chrome is null or chrome.tabs is null");if(!c(e))throw new Error("extensionAdapter.addTabRemovedEventListener needs a callback");chrome.tabs.onRemoved.addListener(e)},a.removeTabRemovedEventListener=function(e){if(s(chrome)||s(chrome.tabs))throw new Error("chrome is null or chrome.tabs is null");if(!c(e))throw new Error("extensionAdapter.removeTabRemovedEventListener needs a callback");chrome.tabs.onRemoved.hasListener(e)&&chrome.tabs.onRemoved.removeListener(e)},a.removeTabActivatedEventListener=function(e){if(s(chrome)||s(chrome.tabs))throw new Error("chrome is null or chrome.tabs is null");if(!c(e))throw new Error("extensionAdapter.removeTabActivatedEventListener needs a callback");chrome.tabs.onActivated.hasListener(e)&&chrome.tabs.onActivated.removeListener(e)},a.addTabActivatedEventListener=function(e){if(s(chrome)||s(chrome.tabs))throw new Error("chrome is null or chrome.tabs is null");if(!c(e))throw new Error("extensionAdapter.addTabActivatedEventListener needs a callback");chrome.tabs.onActivated.addListener(e)},a.addTabReplacedEventListener=function(e){if(s(chrome)||s(chrome.tabs))throw new Error("chrome is null or chrome.tabs is null");if(s(e)||!c(e))throw new Error("extensionAdapter.addTabReplacedEventListener needs a callback");chrome.tabs.onReplaced.addListener(e)},a.addTabUpdatedEventListener=function(e){if(s(chrome)||s(chrome.tabs))throw new Error("chrome is null or chrome.tabs is null");if(!c(e))throw new Error("extensionAdapter.addTabUpdatedEventListener needs a callback");chrome.tabs.onUpdated.addListener(e)},a.removeTabUpdatedEventListener=function(e){if(s(chrome)||s(chrome.tabs))throw new Error("chrome is null or chrome.tabs is null");if(!c(e))throw new Error("extensionAdapter.removeTabUpdatedEventListener needs a callback");chrome.tabs.onUpdated.hasListener(e)&&chrome.tabs.onUpdated.removeListener(e)},a.addBeforeNavigateEventListener=function(e){if(s(chrome)||s(chrome.webNavigation))throw new Error("no chrome object available");if(!c(e))throw new Error("addBeforeNavigateListener needs a callback");chrome.webNavigation.onBeforeNavigate.addListener(e)},a.removeBeforeNavigateEventListener=function(e){if(s(chrome)||s(chrome.webNavigation))throw new Error("no chrome object available");if(!c(e))throw new Error("removeBeforeNavigateEventListener needs a callback");chrome.webNavigation.onBeforeNavigate.hasListener(e)&&chrome.webNavigation.onBeforeNavigate.removeListener(e)},a.addNavigationCommittedEventListener=function(e){if(s(chrome)||s(chrome.webNavigation))throw new Error("no chrome object available");if(!c(e))throw new Error("addBeforeNavigateListener needs a callback");chrome.webNavigation.onCommitted.addListener(e)},a.removeNavigationCommittedEventListener=function(e){if(s(chrome)||s(chrome.webNavigation))throw new Error("no chrome object available");if(!c(e))throw new Error("removeNavigationCommittedEventListener needs a callback");chrome.webNavigation.onCommitted.hasListener(e)&&chrome.webNavigation.onCommitted.removeListener(e)},a.addNavigationCompletedEventListener=function(e){if(s(chrome)||s(chrome.webNavigation))throw new Error("no chrome object available");if(!c(e))throw new Error("addNavigationCompletedEventListener needs a callback");chrome.webNavigation.onCompleted.addListener(e)},a.removeNavigationCompletedEventListener=function(e){if(s(chrome)||s(chrome.webNavigation))throw new Error("no chrome object available");if(!c(e))throw new Error("removeNavigationCompletedEventListener needs a callback");chrome.webNavigation.onCompleted.hasListener(e)&&chrome.webNavigation.onCompleted.removeListener(e)},a.addOnBeforeRequestEventListener=function(e,t,r){if(s(chrome)||s(chrome.webRequest))throw new Error("chrome is null or chrome.tabs is null");if(!1===c(e))throw new Error("Callback cannot be null");chrome.webRequest.onBeforeRequest.addListener(e,{urls:t},r)},a.removeOnBeforeRequestEventListener=function(e){chrome.webRequest.onBeforeRequest.removeListener(e)},a.addWebRequestErrorListener=function(e,t){window.chrome.webRequest.onErrorOccurred.addListener(e,t)},a.removeWebRequestErrorListener=function(e){window.chrome.webRequest.onErrorOccurred.removeListener(e)},()=>a.isManifestV3Extension()?chrome.action:chrome.browserAction);return a.setBrowserIcon=function(e,t){if(s(chrome))throw new Error("chrome is null");var r=E();if(s(r))throw new Error("chrome.action is null");if(s(e))throw new Error("invalid arguments to extensionAdapter.setBrowserIcon");r.setIcon(e,t)},a.sendMessage=function(e,t){if(s(chrome)||s(chrome.runtime))throw new Error("chrome or chrome.runtime is null");if(s(e))throw new Error("invalid arguments to extensionAdapter.sendMessage");chrome.runtime.sendMessage(e,t)},a.sendMessageExternal=function(e,t,r){if(s(chrome)||s(chrome.runtime))throw new Error("chrome or chrome.runtime is null");if(s(e))throw new Error("invalid arguments to extensionAdapter.sendMessage");if(s(t))throw new Error("invalid arguments to extensionAdapter.sendMessage");chrome.runtime.sendMessage(e,t,r)},a.sendMessageToTab=function(e,t,r,n){if(s(chrome)||s(chrome.tabs))throw new Error("chrome or chrome.tabs is null");if(s(t)||s(e))throw new Error("invalid arguments to extensionAdapter.sendMessageToTab");chrome.tabs.sendMessage(e.id,t,n,r||(e=>{chrome.runtime.lastError&&h.log("Error in sendMessageToTab"+JSON.stringify(chrome.runtime.lastError))}))},a.sendMessageToParentFrame=function(t,r,n,e){if(s(r)||s(t))throw new Error("invalid arguments to extensionAdapter.sendMessageToParentFrame");a.getFrame({tabId:t.id,frameId:e}).then(function(e){a.sendMessageToTab(t,r,n,{frameId:e.parentFrameId})})},a.addMessageListener=function(n){if(s(chrome)||s(chrome.runtime))throw new Error("chrome or chrome.runtime is null");if(!c(n))throw new Error("invalid arguments to extensionAdapter.addMessageListener");chrome.runtime.onMessage.addListener(function(e,t,r){return n(e,r,t.tab,t.frameId,t.url)})},a.addMessageExternalListener=function(n){if(s(chrome)||s(chrome.runtime))throw new Error("chrome or chrome.runtime is null");if(!c(n))throw new Error("invalid arguments to extensionAdapter.addMessageExternalListener");chrome.runtime.onMessageExternal.addListener(function(e,t,r){return n(e,t,r)})},a.addBrowserActionOnClickListener=function(e){if(s(chrome))throw new Error("chrome is null");var t=E();if(s(t))throw new Error("chrome.action is null");if(!c(e))throw new Error("invalid arguments to extensionAdapter.addBrowserActionOnClickListener");t.onClicked.addListener(e)},a.setPopupHandler=function(e){if(s(chrome))throw new Error("chrome is null");var t=E();if(s(t))throw new Error("chrome.action is null");o(e)||(e=""),t.setPopup({popup:e})},a.addContentScriptMessageListener=function(e){a.addMessageListener(e)},a.addTabCreatedEventListener=function(e){if(s(chrome)||s(chrome.tabs))throw new Error("chrome is null or chrome.tabs is null");if(!c(e))throw new Error("extensionAdapter.​addTabCreatedEventListener needs a callback");chrome.tabs.onCreated.addListener(e)},a.removeTabCreatedEventListener=function(e){if(s(chrome)||s(chrome.tabs))throw new Error("chrome is null or chrome.tabs is null");if(!c(e))throw new Error("extensionAdapter.removeTabCreatedEventListener needs a callback");chrome.tabs.onCreated.hasListener(e)&&chrome.tabs.onCreated.removeListener(e)},a.addWindowCreatedEventListener=function(e){if(s(chrome)||s(chrome.windows))throw new Error("chrome is null or chrome.windows is null");if(!c(e))throw new Error("extensionAdapter.​addWindowCreatedEventListener needs a callback");chrome.windows.onCreated.addListener(e)},a.getFrame=function(e){let t=null,r={errorOccured:!0,url:null,parentFrameId:null};if(s(chrome)||s(chrome.webNavigation))throw new Error("no chrome object available");return t=e?s(e.frameId)?new Promise(function(e){e(r)}):new Promise(function(t){chrome.webNavigation.getFrame(e,function(e){t(e)})}):t},a.getTabID=function(e){return s(e)?null:e.id},a.getWindowIDForTab=function(e){return s(e)?null:e.windowId},a.getWindowID=function(e){return s(e)?null:e.id},a.i18nGetMessage=function(e,t){if(s(window.chrome)||s(window.chrome.i18n))throw new Error("Unsupported api");if(o(e))return chrome.i18n.getMessage(e,t);throw new Error("chrome.i18n.getMessage expects a string messageName argument")},a.hidePopup=function(){window.open("","_self").close()},a.setBadgeText=function(e,t){if(s(chrome))throw new Error("chrome is null");var r=E();if(s(r))throw new Error("chrome action is null");if(!o(e)||4<e.length)throw new Error("invalid arguments to extensionAdapter.setBadgeText");e={text:e};l(t)&&(e.tabId=t),r.setBadgeText(e)},a.setTitle=function(e,t){if(s(chrome))throw new Error("chrome or chrome.action is null");var r=E();if(s(r))throw new Error("chrome action is null");if(!o(e))throw new Error("invalid arguments to extensionAdapter.setTitle");e={title:e};l(t)&&(e.tabId=t),r.setTitle(e)},a.setBadgeBackgroundColor=function(e){if(s(chrome))throw new Error("chrome is null");var t=E();if(s(t))throw new Error("chrome action is null");if(!o(e))throw new Error("invalid arguments to extensionAdapter.setBadgeBackgroundColor");t.setBadgeBackgroundColor({color:e})},a.onPopoverLoad=function(e){window.addEventListener("load",e)},a.getAllHistory=function(e=""){return new Promise(function(n){chrome.history.search({text:e,startTime:0,maxResults:t},function(e){var t,r=[];for(t of e)o(t.url)&&r.push(t.url);n(r)})})},a.addUrlsToHistory=function(e){if(!u(e))throw new Error("urls must be an array");var t,r=[];for(t of e)r.push(a.addUrlToHistory(t));return Promise.all(r)},a.clearHistory=function(){return new Promise(function(e){chrome.history.deleteAll(function(){e()})})},a.addUrlToHistory=function(t){if(o(t))return new Promise(function(e){chrome.history.addUrl({url:t},function(){e()})});throw new Error("url must be a string")},a.deleteUrlFromHistory=function(e,t){if(s(chrome)||s(chrome.history))throw new Error("Unsupported api");if(!o(e))throw new Error("url must be a string");chrome.history.deleteUrl({url:e},t)},a.addHistoryOnVisitedListener=function(e){if(s(chrome)||s(chrome.history)||s(chrome.history.onVisited))throw new Error("Unsupported api");if(!c(e))throw new Error("callback must be a function");chrome.history.onVisited.addListener(e)},a.removeHistoryOnVisitedListener=function(e){if(s(chrome)||s(chrome.history)||s(chrome.history.onVisited))throw new Error("Unsupported api");if(!c(e))throw new Error("callback must be a function");chrome.history.onVisited.hasListeners()&&chrome.history.onVisited.removeListener(e)},a.removeBrowsingData=function(e,t,r){if(s(chrome)||s(chrome.browsingData))throw new Error("Unsupported api");if(!m(e))throw new Error("removalOptions must be an object");if(!m(t))throw new Error("dataToRemove must be an object");chrome.browsingData.remove(e,t,r)},a.getAllCookies=function(e=null){return new Promise(function(t){chrome.cookies.getAll({domain:e},function(e){t(e)})})},a.removeCookie=function(e){if(s(e))throw new Error("cookie cannot be null");let t=(e.secure?"https://":"http://")+e.domain+e.path;return new Promise(function(r,n){chrome.cookies.remove({name:e.name,url:t},function(e){var t;s(e)&&(t=chrome.runtime.lastError,n(t)),r(e)})})},a.removeCookies=function(e,r){if(!u(e))throw new Error("cookiesArray must be array");var t,n=[];let i=e;for(t of i=u(r)?e.filter(t=>!r.some(e=>e.domain===t.domain&&e.path===t.path)):i)n.push(a.removeCookie(t));return Promise.all(n)},a.setCookie=function(e){if(s(e))throw new Error("cookie cannot be null");var t=e.secure?"https://":"http://";let i={url:new URL(t+e.domain).toString(),httpOnly:e.httpOnly,name:e.name,sameSite:e.sameSite,secure:e.secure,storeId:e.storeId,value:e.value,path:e.path};return o(e.domain)&&"."===e.domain.charAt()&&(i.domain=e.domain),l(e.expirationDate)&&(i.expirationDate=e.expirationDate),new Promise(function(r,n){chrome.cookies.set(i,function(e){var t=chrome.runtime.lastError;s(e)&&l(t)&&n(t),r(e)})})},a.setCookies=function(e){if(!u(e))throw new Error("cookiesArray must be array");var t,r=[];for(t of e)r.push(a.setCookie(t));return Promise.all(r)},a.onCookieChangedForUrl=function(r,n){if(!o(r))throw new Error("url must be a string");if(!c(n))throw new Error("callback must be a function");chrome.cookies.onChanged.addListener(function(e){var t=d(e,"cookie.domain");o(t)&&t.includes(r)?n(e):n()})},a.checkCookieContentSettingsForUrl=function(e){if(s(chrome)||s(chrome.contentSettings))throw new Error("Unsupported api");if(o(e))return new Promise(function(t,r){chrome.contentSettings.cookies.get({primaryUrl:e},function(e){e.setting===chrome.contentSettings.CookiesContentSetting.BLOCK?r(new Error("Cookie was blocked")):t()})});throw new Error("primaryUrl must be a string")},a.getManifest=function(){return chrome.runtime.getManifest()},a.getVersion=function(){return chrome.runtime.getManifest().version},a.setProxySettings=function(t){if(s(chrome)||s(chrome.proxy))throw new Error("Unsupported api");if(m(t))return new Promise(function(e){chrome.proxy.settings.set(t,e)});throw new Error("details must be an object")},a.getProxySettings=function(){if(s(chrome)||s(chrome.proxy))throw new Error("Unsupported api");return new Promise(function(e){chrome.proxy.settings.get({},e)})},a.onProxySettingsChange=function(e){if(s(chrome)||s(chrome.proxy))throw new Error("Unsupported api");if(!c(e))throw new Error("callback must be a function");chrome.proxy.settings.onChange.addListener(e)},a.onProxyError=function(e){if(s(chrome)||s(chrome.proxy))throw new Error("Unsupported api");if(!c(e))throw new Error("callback must be a function");chrome.proxy.onProxyError.addListener(e)},a.onWebRequestAuthRequired=function(e){if(s(chrome)||s(chrome.webRequest))throw new Error("Unsupported api");if(!c(e))throw new Error("callback must be a function");chrome.webRequest.onAuthRequired.addListener(e,{urls:["<all_urls>"]},["asyncBlocking"])},a.addStartupListener=function(e){if(s(chrome)||s(chrome.runtime))throw new Error("chrome or chrome.runtime is null");if(!c(e))throw new Error("invalid arguments to extensionAdapter.addStartupListener");chrome.runtime.onStartup.addListener(e)},a.removeStartupListener=function(e){if(s(chrome)||s(chrome.runtime))throw new Error("chrome or chrome.runtime is null");if(!c(e))throw new Error("invalid arguments to extensionAdapter.removeStartupListener");chrome.runtime.onStartup.removeListener(e)},a.setUninstallURL=function(e){if(s(chrome)||s(chrome.runtime))throw new Error("chrome is null or chrome.runtime is null");if(!o(e))throw new Error("Invalid URL");if(255<e.length)throw new Error("URL length should not be more than 255 characters");return new Promise((t,r)=>{chrome.runtime.setUninstallURL(e,()=>{var e=chrome.runtime.lastError;if(l(e))return r(e);t("Uninstall Survey URL set successfully")})})},a.uninstallSelf=(e=!1,t=null)=>{if(s(chrome)||s(chrome.management))throw new Error("chrome is null or chrome.management is null");let r={showConfirmDialog:e};return i.globals.BROWSER===i.constants.BROWSER_TYPE.FIREFOX&&(r.dialogMessage=t),new Promise(e=>{chrome.management.uninstallSelf(r,()=>{e()})})},a.getExtensionMetaData=async()=>{if(s(chrome)||s(chrome.management))throw new Error("chrome is null or chrome.management is null");try{return await chrome.management.getSelf()}catch(e){return null}},a.getExtensionDetails=e=>{if(s(e))throw new Error("Invalid arguments");if(s(chrome)||s(chrome.management)||s(chrome.management.get))throw new Error("Extension doesnt have enough permissions");return new Promise((r,n)=>{chrome.management.get(e,e=>{var t=a.getLastError();if(l(t)||s(e))return n("Error in getting extension details");r(e)})})},a.createAlarm=(e="",t)=>{if(s(chrome)||s(chrome.alarms))throw new Error("chrome is null or chrome.alarms is null");if(!o(e)||!m(t)||r(t))throw new Error("createAlarm: arguments are not valid");chrome.alarms.create(e,t)},a.getAlarm=e=>{if(s(chrome)||s(chrome.alarms))throw new Error("chrome is null or chrome.alarms is null");if(o(e))return new Promise(t=>{chrome.alarms.get(e,e=>{t(e)})});throw new Error("getAlarm: invalid arguments")},a.clearAlarm=e=>{if(s(chrome)||s(chrome.alarms))throw new Error("chrome is null or chrome.alarms is null");if(o(e))return new Promise((t,r)=>{chrome.alarms.clear(e,e=>{e?t():(e=a.getLastError(),r("Alarm is not cleared with error "+e))})});throw new Error("clearAlarm: invalid arguments")},a.addExtensionEnabledListener=e=>{if(!c(e))throw new Error("Invalid argument");if(s(chrome)||s(chrome.management)||s(chrome.management.onEnabled))throw new Error("Extension doesnt have enough permissions");chrome.management.onEnabled.addListener(e)},a.removeExtensionEnabledListener=e=>{if(!c(e))throw new Error("Invalid argument");if(s(chrome)||s(chrome.management)||s(chrome.management.onEnabled))throw new Error("Extension doesnt have enough permissions");chrome.management.onEnabled.removeListener(e)},a.addExtensionInstalledListener=e=>{if(!c(e))throw new Error("Invalid argument");if(s(chrome)||s(chrome.management)||s(chrome.management.onInstalled))throw new Error("Extension doesnt have enough permissions");chrome.management.onInstalled.addListener(e)},a.removeExtensionInstalledListener=e=>{if(!c(e))throw new Error("Invalid argument");if(s(chrome)||s(chrome.management)||s(chrome.management.onInstalled))throw new Error("Extension doesnt have enough permissions");chrome.management.onInstalled.removeListener(e)},a.updateDynamicRules=(i,o)=>new Promise((r,n)=>{if(u(i)&&0!==i.length)if(s(chrome)||s(chrome.declarativeNetRequest))n("chrome is null or chrome.declarativeNetRequest is null");else{let e=i.map(e=>e.id);var t;u(o)&&0<o.length&&(t=new Set([...e,...o]),e=[...t]),chrome.declarativeNetRequest.updateDynamicRules({addRules:i,removeRuleIds:e},e=>{var t=a.getLastError();l(t)?n(t):r()})}else n("Invalid rules")}),a.getDynamicRules=()=>new Promise((r,n)=>{s(chrome)||s(chrome.declarativeNetRequest)?n("chrome is null or chrome.declarativeNetRequest is null"):chrome.declarativeNetRequest.getDynamicRules(e=>{var t=a.getLastError();l(t)?n(t):r(e)})}),a.getAllMatchedRules=()=>new Promise((r,n)=>{s(chrome)||s(chrome.declarativeNetRequest)?n("chrome is null or chrome.declarativeNetRequest is null"):chrome.declarativeNetRequest.getMatchedRules(e=>{var t=a.getLastError();l(t)?n(t):r(e)})}),a.addAlarmListener=e=>{if(s(chrome)||s(chrome.alarms))throw new Error("chrome is null or chrome.alarms is null");if(!c(e))throw new Error("addAlarmListener: invalid arguments");chrome.alarms.onAlarm.addListener(e)},a.isManifestV3Extension=()=>{if(!e(a._isManifestV3Extension)){if(s(chrome)||s(chrome.runtime))return a._isManifestV3Extension=!1;a._isManifestV3Extension=3===chrome.runtime.getManifest().manifest_version}return a._isManifestV3Extension},a.hasPermissions=e=>new Promise((r,n)=>{u(e)?s(chrome)||s(chrome.permissions)?n("chrome is null or chrome.permissions is null"):chrome.permissions.contains({permissions:e},e=>{var t=a.getLastError();if(!l(t))return r(e);n(t)}):n("Parameter should be an array")}),a.requestPermissions=({permissions:e,origins:t})=>new Promise((r,n)=>{e&&!u(e)||t&&!u(t)?n("Parameter should be an array"):s(chrome)||s(chrome.permissions)?n("chrome is null or chrome.permissions is null"):chrome.permissions.request({permissions:e,origins:t},e=>{var t=a.getLastError();if(!l(t))return r(e);n(t)})}),a.executeContentScript=(e,n)=>new Promise((t,r)=>{if(s(e)||s(n))r("portalTabId or script filePath is null");else if(a.isManifestV3Extension()){if(s(chrome)||s(chrome.scripting))throw new Error("chrome is null or chrome.scripting is null");chrome.scripting.executeScript({target:{tabId:e},files:[n]},e=>{a._executeCSCallback(e,t,r,n)})}else{if(s(chrome)||s(chrome.tabs))throw new Error("chrome is null or chrome.tabs is null");chrome.tabs.executeScript(e,{file:n},e=>{a._executeCSCallback(e,t,r,n)})}}),a.insertCSS=(e,n)=>new Promise((t,r)=>{if(s(e)||s(n))r("tabId or script filePath is null");else if(a.isManifestV3Extension()){if(s(chrome)||s(chrome.scripting))throw new Error("chrome is null or chrome.scripting is null");chrome.scripting.insertCSS({target:{tabId:e},files:[n]},e=>{a._executeCSCallback(e,t,r,n)})}else{if(s(chrome)||s(chrome.tabs))throw new Error("chrome is null or chrome.tabs is null");chrome.tabs.insertCSS(e,{file:n},e=>{a._executeCSCallback(e,t,r,n)})}}),a._executeCSCallback=(e,t,r,n)=>{var i=a.getLastError();(s(e)||l(i)?r:t)()},a.init=function(){},a.returnAdapter=function(){var t={};t.getExtensionURL=a.getExtensionURL,t.getBackgroundPage=a.getBackgroundPage,t.sendMessage=a.sendMessage,t.addMessageListener=a.addMessageListener,t.addContentScriptMessageListener=a.addContentScriptMessageListener,t.getExtensionId=a.getExtensionId,t.init=a.init;try{return chrome.tabs?a:t}catch(e){return t}},a.returnAdapter()})(e.SymBfw)})(window),(e=>{e.SymBfw.clipboard=(e=>{let t={};var r=e.utils.isNil,n=e.logger;return t.createDummyTextAreaAndSetText=function(e){var t=document.createElement("textarea");return t.style.position="fixed",t.style.top=0,t.style.left=0,t.style.width="2em",t.style.height="2em",t.style.padding=0,t.style.border="none",t.style.outline="none",t.style.boxShadow="none",t.style.background="transparent",t.value=e,document.body.appendChild(t),t.select(),t},t.copyToClipboard=function(e){if(r(e)||""===e)throw new Error("Value to copy to clipboard cannot be null");e=t.createDummyTextAreaAndSetText(e);document.execCommand("copy")||n.error("Failed to copy to clipboard"),document.body.removeChild(e)},t})(e.SymBfw)})(window),(e=>{function s(e,t){this.name=e,this.error=t}var t,l,c,u,m;(e.SymBfw=e.SymBfw||{}).storage=(t={},l=(e=e.SymBfw).utils.isNil,c=e.utils.isntNil,u=e.utils.isFunction,m=e.logger,s.prototype.toString=function(){return"Name:"+this.name+":Error:"+this.error},t.StorageException=s,t.set=function(n,i,o){if(l(n))throw new Error("Key cannot be null");if(l(i))throw new Error("Value cannot be null");var e={};e[n]=i,chrome.storage.local.set(e,function(){var e=chrome.runtime.lastError,t=!1,r=null;do{if(l(e)){t=!0;break}}while(m.log("Storing{"+n+":"+i+"} caused an error:"+e),r=new s("Browser Exception",e),0);u(o)&&setTimeout(function(){o(t,r)},1)})},t.get=function(o,a){if(l(o))throw new Error("Key cannot be null");if(!u(a))throw new Error("Callback cannot be null or is not a function");chrome.storage.local.get(o,function(e){var t=chrome.runtime.lastError,r=!1,n=null,i=e[o];do{if(l(t)&&c(i)){r=!0;break}}while(m.log("Getting value for "+o+" caused an error:"+t),n=new s("Browser Exception",t),0);setTimeout(function(){a(r,i,n)},1)})},t.clear=function(n){chrome.storage.local.clear(function(){var e=chrome.runtime.lastError,t=null,r=!1;do{if(l(e)){r=!0;break}}while(t=new s("Browser Exception",e),0);u(n)&&setTimeout(function(){n(r,t)},1)})},t.remove=function(e,n){if(l(e))throw new Error("Key cannot be null");chrome.storage.local.remove(e,function(){var e=chrome.runtime.lastError,t=null,r=!1;do{if(l(e)){r=!0;break}}while(t=new s("Browser Exception",e),0);u(n)&&setTimeout(function(){n(r,t)},1)})},t)})(window),(e=>{function s(e,t){this.name=e,this.error=t}var t,l,c,u,m;(e.SymBfw=e.SymBfw||{}).session=(t={},l=(e=e.SymBfw).utils.isNil,c=e.utils.isntNil,u=e.utils.isFunction,m=e.logger,s.prototype.toString=function(){return"Name:"+this.name+":Error:"+this.error},t.StorageException=s,t.set=function(n,i,o){if(l(n))throw new Error("Key cannot be null");if(l(i))throw new Error("Value cannot be null");var e={};e[n]=i,chrome.storage.session.set(e,function(){var e=chrome.runtime.lastError,t=!1,r=null;do{if(l(e)){t=!0;break}}while(m.log("Storing{"+n+":"+i+"} caused an error:"+e),r=new s("Browser Exception",e),0);u(o)&&setTimeout(function(){o(t,r)},1)})},t.get=function(o,a){if(l(o))throw new Error("Key cannot be null");if(!u(a))throw new Error("Callback cannot be null or is not a function");chrome.storage.session.get(o,function(e){var t=chrome.runtime.lastError,r=!1,n=null,i=e[o];do{if(l(t)&&c(i)){r=!0;break}}while(m.log("Getting value for "+o+" caused an error:"+t),n=new s("Browser Exception",t),0);setTimeout(function(){a(r,i,n)},1)})},t.clear=function(n){chrome.storage.session.clear(function(){var e=chrome.runtime.lastError,t=null,r=!1;do{if(l(e)){r=!0;break}}while(t=new s("Browser Exception",e),0);u(n)&&setTimeout(function(){n(r,t)},1)})},t.remove=function(e,n){if(l(e))throw new Error("Key cannot be null");chrome.storage.session.remove(e,function(){var e=chrome.runtime.lastError,t=null,r=!1;do{if(l(e)){r=!0;break}}while(t=new s("Browser Exception",e),0);u(n)&&setTimeout(function(){n(r,t)},1)})},t)})(window),(e=>{e.SymBfw.settings=(e=>{var s={containers:{}},l=e.storage,i=e.utils.isntNil,o=e.utils.isNil,a=e.utils.isFunction;let c=e.utils.isObject;function u(e,t){if(i(s.containers[e]))throw new Error("Container name is not unique");this.name=e,this.persist=t,this.collection={},this.initialized=!1}var m=e.logger;return u.prototype.initialize=function(n){var i,o=this.name,a=this;!(this.initialized=!0)===this.persist?s.containers[o]=this:(i=function(e,t){e?(s.containers[o]=a,setTimeout(function(){n(!0,a,null)},1)):setTimeout(function(){n(!1,null,t)},1)},l.get(o,function(e,t,r){e&&c(t)?(a.setCollection(t),s.containers[o]=a,setTimeout(function(){n(!0,a,null)},1)):l.set(o,a.getCollection(),i)}))},u.prototype.setCollection=function(e){this.collection=e},u.prototype.getCollection=function(){return this.collection},u.prototype.setObject=function(e,t,r){if(o(e))throw new Error("Key cannot be null");if(o(t))throw new Error("Value cannot be null");if(!1===this.initialized)throw new Error("Settings not initialized");if(this.collection[e]=t,!1===this.persist)return a(r)?void setTimeout(function(){r(!0,null)},1):void 0;l.set(this.name,this.collection,r)},u.prototype.getObject=function(e){if(o(e))throw new Error("Key cannot be null");if(!1===this.initialized)throw new Error("Settings not initialized");e=this.collection[e];return e=o(e)?null:e},u.prototype.removeObject=function(e,t){if(o(e))throw new Error("Key cannot be null");if(!1===this.initialized)throw new Error("Settings not initialized");if(delete this.collection[e],!1===this.persist)return a(t)?void setTimeout(function(){t(!0,null)},1):void 0;l.set(this.name,this.collection,t)},u.prototype.serialize=function(){return JSON.stringify(this.collection)},u.prototype.shouldPersist=function(){return this.persist},s.loadSettingsContainer=function(e,t,r){if(o(e))throw new Error("Name cannot be null");if((t=o(t)?!1:t)&&!a(r))throw new Error("Callback cannot be null or is not a function");var n=s.containers[e];return i(n)?t?void setTimeout(function(){r(!0,n,null)},1):n:((e=new u(e,t)).initialize(r),t?void 0:e)},s.doesContainerExists=async function(e){if(o(e))throw new Error("Name cannot be null");var t=s.containers;return!!i(t[e])||await new Promise(function(n){l.get(e,function(e,t,r){n(e)})})},s.deleteSettingsContainer=function(e,t){if(o(e))throw new Error("Name cannot be null");var r=s.containers[e];if(i(r)&&(s.containers[e]=null,!1===r.shouldPersist()))return a(t)?void setTimeout(function(){t(!0,null)},1):void 0;l.remove(e,t)},s.resetSettingsCollection=function(e,t){if(o(e))throw new Error("Name cannot be null");e=s.containers[e];if(o(e))throw new Error("Container was never previously loaded");var r,n=e.getCollection();if(o(n))return m.info("Collection is empty"),a(t)?void setTimeout(function(){t(!1,new Error("Collection is empty"))},1):void 0;for(r in n)delete n[r];if(!1===e.shouldPersist())return a(t)?void setTimeout(function(){t(!0,null)},1):void 0;l.set(e.name,e.collection,t)},s.Settings=u,s})(e.SymBfw)})(window),(e=>{e.SymBfw.sessionSettings=(e=>{var s={containers:{}},l=e.session,i=e.utils.isntNil,o=e.utils.isNil,a=e.utils.isFunction;let c=e.utils.isObject;function u(e,t){if(i(s.containers[e]))throw new Error("Container name is not unique");this.name=e,this.persist=t,this.collection={},this.initialized=!1}var m=e.logger;return u.prototype.initialize=function(n){var i,o=this.name,a=this;!(this.initialized=!0)===this.persist?s.containers[o]=this:(i=function(e,t){e?(s.containers[o]=a,setTimeout(function(){n(!0,a,null)},1)):setTimeout(function(){n(!1,null,t)},1)},l.get(o,function(e,t,r){e&&c(t)?(a.setCollection(t),s.containers[o]=a,setTimeout(function(){n(!0,a,null)},1)):l.set(o,a.getCollection(),i)}))},u.prototype.setCollection=function(e){this.collection=e},u.prototype.getCollection=function(){return this.collection},u.prototype.setObject=function(e,t,r){if(o(e))throw new Error("Key cannot be null");if(o(t))throw new Error("Value cannot be null");if(!1===this.initialized)throw new Error("Settings not initialized");if(this.collection[e]=t,!1===this.persist)return a(r)?void setTimeout(function(){r(!0,null)},1):void 0;l.set(this.name,this.collection,r)},u.prototype.getObject=function(e){if(o(e))throw new Error("Key cannot be null");if(!1===this.initialized)throw new Error("Settings not initialized");e=this.collection[e];return e=o(e)?null:e},u.prototype.removeObject=function(e,t){if(o(e))throw new Error("Key cannot be null");if(!1===this.initialized)throw new Error("Settings not initialized");if(delete this.collection[e],!1===this.persist)return a(t)?void setTimeout(function(){t(!0,null)},1):void 0;l.set(this.name,this.collection,t)},u.prototype.serialize=function(){return JSON.stringify(this.collection)},u.prototype.shouldPersist=function(){return this.persist},s.loadSessionSettingsContainer=function(e,t,r){if(o(e))throw new Error("Name cannot be null");if((t=o(t)?!1:t)&&!a(r))throw new Error("Callback cannot be null or is not a function");var n=s.containers[e];return i(n)?t?void setTimeout(function(){r(!0,n,null)},1):n:((e=new u(e,t)).initialize(r),t?void 0:e)},s.doesContainerExists=async function(e){if(o(e))throw new Error("Name cannot be null");var t=s.containers;return!!i(t[e])||await new Promise(function(n){l.get(e,function(e,t,r){n(e)})})},s.deleteSessionSettingsContainer=function(e,t){if(o(e))throw new Error("Name cannot be null");var r=s.containers[e];if(i(r)&&(s.containers[e]=null,!1===r.shouldPersist()))return a(t)?void setTimeout(function(){t(!0,null)},1):void 0;l.remove(e,t)},s.resetSettingsCollection=function(e,t){if(o(e))throw new Error("Name cannot be null");e=s.containers[e];if(o(e))throw new Error("Container was never previously loaded");var r,n=e.getCollection();if(o(n))return m.info("Collection is empty"),a(t)?void setTimeout(function(){t(!1,new Error("Collection is empty"))},1):void 0;for(r in n)delete n[r];if(!1===e.shouldPersist())return a(t)?void setTimeout(function(){t(!0,null)},1):void 0;l.set(e.name,e.collection,t)},s.Settings=u,s})(e.SymBfw)})(window),(e=>{function o(e){var t=forge.md.sha256.create();return t.update(e),t.digest().toHex()}function l(e,t){var r=forge.hmac.create();return r.start("sha256",t),r.update(e),r.digest().toHex()}function a(e,t,r,n,i){return t=forge.util.createBuffer(t),(e=e?forge.cipher.createCipher(i,r):forge.cipher.createDecipher(i,r)).start({iv:n}),e.update(t),e.finish(),e.output.getBytes()}function i(e,t){this.initialized=!1}var s,c,u,m,d,h,E,f,g,w,T,p,S;e.SymBfw.secureSettings=(s={},c=(e=e.SymBfw).settings,u=e.utils.isntNil,m=e.utils.isNil,d=e.utils.isFunction,h=e.utils.isString,E=e.logger,f="iv",g="salt",w="hmac",T=32,p=1e3,S="AES-CBC",i.prototype.initialize=function(o,n,a){var s=this;c.loadSettingsContainer(o,!0,function(e,i,t){if(!1===e)a(!1,null,t);else{var e=i.getObject(f),t=i.getObject(g),r=null;if(m(e)||m(t))r=new Promise(function(r,n){c.resetSettingsCollection(o,function(e,t){if(!e)return n(new Error("Failed to reset OCL container"));s.iv=forge.random.getBytesSync(128),s.salt=forge.random.getBytesSync(128),i.setObject(f,JSON.stringify(s.iv)),i.setObject(g,JSON.stringify(s.salt)),r()})});else try{s.iv=JSON.parse(e),s.salt=JSON.parse(t)}catch(t){return void setTimeout(function(){var e="Failed to intialize: "+t.toString();E.error(t),a(!1,null,e)},1)}e=function(){s.derivedKey=forge.pkcs5.pbkdf2(n,s.salt,p,T);var e=i.getObject(w),t=l(s.salt,s.derivedKey);if(u(e)){if(e!==t)return void setTimeout(function(){a(!1,null,"Passwords does not match")},1)}else i.setObject(w,t);s.container=i,s.initialized=!0,setTimeout(function(){a(!0,s,null)},1)};m(r)?e():r.then(e,function(e){E.error(e),a(!1,null,e)})}})},i.prototype.setObject=function(e,t,r,n=!1){if(!h(e))throw new Error("Key must be a string");if(m(t))throw new Error("Value cannot be null");if(!this.initialized)throw new Error("SecureSettings not initialized");var n=n?e:o(e),e=JSON.stringify(t),e=(t=this.derivedKey,i=this.iv,a(!0,e,t,i,S)),t=forge.util.encode64(e),i=l(t,this.derivedKey);this.container.setObject(n,{data:t,hmac:i},r)},i.prototype.getObject=function(e,t=!1){if(!h(e))throw new Error("Key must be a string");if(!this.initialized)throw new Error("SecureSettings not initialized");t=t?e:o(e),e=this.container.getObject(t);if(m(e))return null;t=e.data;if(l(t,this.derivedKey)!==e.hmac)throw new Error("The data is corrupted");var r,n,e=forge.util.decode64(t),e=(t=this.derivedKey,r=this.iv,a(!1,e,t,r,S));try{n=JSON.parse(e)}catch(e){t="Failed to parse data: "+e.toString();throw E.error(e),new Error(t)}return n},i.prototype.removeObject=function(e,t){if(!h(e))throw new Error("Key must be a string");if(!1===this.initialized)throw new Error("SecureSettings not initialized");e=o(e);this.container.removeObject(e,t)},s.loadSecureSettingsContainer=function(e,t,r){if(!h(e))throw new Error("name must be a string");if(!h(t))throw new Error("password must be a string");if(!d(r))throw new Error("callback must be a function");var n=o(t);t=null,(new i).initialize(e,n,r)},s.deleteSecureSettingsContainer=function(e,t){c.deleteSettingsContainer(e,t)},s.resetSecureSettingsCollection=function(e,i){if(m(e))throw new Error("secureSettings container name is null");c.loadSettingsContainer(e,!0,function(e,t,r){if(!1===e)d(i)&&i(!1,r);else{for(var n in t.collection)n!==g&&n!==f&&t.removeObject(n);d(i)&&i(!0,null)}})},i.prototype.copySecureSettings=async function(e,t,r){let i=this;await c.doesContainerExists(e)?s.loadSecureSettingsContainer(e,t,function(e,n){if(!1===e||m(n))setTimeout(function(){r(!1)},1);else{var t=[];for(let r in n.getCollection())s.isEncryptedKey(r)&&t.push(new Promise(function(e){var t=n.getObject(r,!0);i.setObject(r,t,e,!0)}));Promise.all(t).then(function(){}).finally(function(){setTimeout(function(){r(!0)},1)})}}):r(!0)},i.prototype.getCollection=function(){return this.container.getCollection()},s.isEncryptedKey=function(e){return e!==w&&e!==f&&e!==g},s.SecureSettings=i,s)})(window),(e=>{var o,s,a,l,c,u,m,d,r,h;e.SymBfw.localizer=(s=(o=e.SymBfw).utils.isNil,a=o.utils.isntNil,l=o.utils.isString,c=o.utils.isBoolean,u=o.utils.isArray,m=o.utils.isFunction,d=o.constants.localizer,h={stringsMap:{},initialized:!(r=["ar","he","arc","bcc","bqi","ckb","dv","fa","glk","lrc","mzn","pnb","ps","sd","ug","ur","yi"]),setNavigatorLanguageAndLocale:function(){if(s(this.supportedLocales))throw new Error("Supported locales was never set");var e=navigator.language,t=e.split("-"),r=t[0],n=t[1],i=r.toLowerCase();a(n)&&(i=i+"_"+(n=n.toLowerCase()));do{var o=this.supportedLocales[i];if(c(o)&&o)break;if(o=this.supportedLocales[r],c(o)&&o){i=r;break}if(o=this.supportedLocales[n],c(o)&&o){i=n;break}}while(i="en",e="en-US",0);this.locale=i,this.navigatorLanguage=e},getNavigatorLanguage:function(){return a(this.navigatorLanguage)||this.setNavigatorLanguageAndLocale(),this.navigatorLanguage},getLocale:function(){return a(this.locale)||this.setNavigatorLanguageAndLocale(),this.locale},getCurrentLanguageDirection:function(){var e=h.getLocale(),t="ltr";return t=-1<r.indexOf(e)?"rtl":t},loadDefaultDictionary:function(e){h.loadDictionary(d.DEFAULT_MESSAGES_DICTIONARY,e)},loadDictionary:async function(e,t){if(!1===l(e))throw new Error("Dictionary name cannot be null");if(!1===m(t))throw new Error("Callback cannot be null");if(s(this.path))throw new Error("Path to localized folder is not set. Need to call initialize before using this API");var r=this.stringsMap[e];if(a(r))setTimeout(function(){t(!0,null)},1);else{r=this.getLocale(),r=this.path+`/${r}/${e}.json`;try{var n,i=await o.utils.safeFetch(r);i.ok?(n=await i.json(),s(n)?t(!1,new Error("Null response fetching file at path:"+r)):(h.stringsMap[e]=n,t(!0,null),h.initialized=!0)):t(!1,new Error(`File at path:${r} does not exist. Status Code:`+i.status))}catch(e){t(!1,new Error(`Error while fetching file at path:${r} due to `+e))}}},getLocalizedString:function(e){return h.getLocalizedStringFromDictionary(e,d.DEFAULT_MESSAGES_DICTIONARY)},getLocalizedStrings:function(e){return h.getLocalizedStringsFromDictionary(e,d.DEFAULT_MESSAGES_DICTIONARY)},getAllLocalizedStrings:function(){return h.getAllLocalizedStringsFromDictionary(d.DEFAULT_MESSAGES_DICTIONARY)},getLocalizedStringFromDictionary:function(e,t){if(!1===l(e))throw new Error("Unlocalized String cannot be null or is not a string");return h.getLocalizedStringsFromDictionary([e],t)[e]},getLocalizedStringsFromDictionary:function(e,t){if(!1===u(e))throw new Error("Array of strings cannot be null.");if(0===e.length)throw new Error("Array of strings cannot be empty.");if(!1===l(t))throw new Error("Dictionary name cannot be null");var r=this.stringsMap[t];if(s(r))throw new Error("Dictionary "+t+" is being used without being loaded");var n,i={};for(n in e){var o=e[n],a=r[o];s(a)?i[o]=o:(a=a.message,s(a)?i[o]=o:i[o]=a)}return i},getAllLocalizedStringsFromDictionary:function(e){if(!1===l(e))throw new Error("Dictionary name cannot be null");var t=this.stringsMap[e];if(s(t))throw new Error("Dictionary "+e+" is being used without being loaded");var r,n={};for(r in t)n[r]=t[r].message;return n},getLocalizedStringsWithFormat:function(e){var t,r={};for(t in e){var n,i=[];for(n of e[t])s(n)?i.push(null):i.push(h.getLocalizedString(n));var o=h.getLocalizedStringWithFormat(t,i);r[t]=o}return r},getLocalizedStringWithFormat:function(e,t){return h.getLocalizedStringWithFormatFromDictionary(e,t,d.DEFAULT_MESSAGES_DICTIONARY)},getLocalizedStringWithFormatFromDictionary:function(e,t,r){if(s(t))throw new Error("Format parameters cannot be null");var n,i=h.getLocalizedStringFromDictionary(e,r);for(n in t){var o=t[n];s(o)||(i=i.replace("{"+n+"}",o))}return i},getLocalizedStringFromNativeLocalizer:function(e,t){return o.extensionAdapter.i18nGetMessage(e,t)},initialize:function(e,t,r){if(s(e))throw new Error("Supported locales cannot be null");s(r)&&(r=o.extensionAdapter.getExtensionURL("content/i18n")),h.path=r,this.supportedLocales=e,o.extensionAdapter.addMessageListener(h.handleMessage),h.loadDefaultDictionary(t)},handleMessage:function(e,t,r){if(!s(e)){var n=e.id,i=e.payload;if(!s(n)&&!s(i)){var o=null,a=!0;switch(n){case d.GET_LOCALIZED_STRING:o=h.getLocalizedString(i);break;case d.GET_LOCALIZED_STRINGS:o=h.getLocalizedStrings(i);break;case d.GET_ALL_LOCALIZED_STRINGS:o=h.getAllLocalizedStrings(i);break;case d.GET_LOCALIZED_STRING_FROM_DICTIONARY:o=h.getLocalizedStringFromDictionary(i.string,i.name);break;case d.GET_LOCALIZED_STRINGS_FROM_DICTIONARY:o=h.getLocalizedStringsFromDictionary(i.array,i.name);break;case d.GET_LOCALIZED_STRING_WITH_FORMAT:o=h.getLocalizedStringWithFormat(i.string,i.params);break;case d.GET_LOCALIZED_STRING_WITH_FORMAT_FROM_DICTIONARY:o=h.getLocalizedStringWithFormatFromDictionary(i.string,i.params,i.name);break;case d.GET_CURRENT_LANGUAGE_DIRECTION:o=h.getCurrentLanguageDirection();break;case d.GET_LOCALIZED_STRINGS_WITH_FORMAT:o=h.getLocalizedStringsWithFormat(i.formatStringDict);break;default:a=!1}a&&t({id:e.id,payload:o})}}}})})(window),(e=>{e.SymBfw.darkModeHandler=(i=>{let{utils:{isNil:a,isBoolean:r},settings:t,constants:s,logger:o}=i,l={settingsContainer:null,settingsPromise:null,initialize:function(){return l.settingsPromise||(l.settingsPromise=new Promise((n,e)=>{t.loadSettingsContainer(s.darkMode.BFW_DARK_MODE_SETTINGS_CONTAINER,!0,function(e,t,r){!1===e||a(t)?(o.error("Failed to load BFW_DARK_MODE_SETTINGS_CONTAINER, Error: "+r),n(!1)):(l.settingsContainer=t,i.extensionAdapter.addMessageListener(l.handleMessage),n(!0))})})),l.settingsPromise},setDarkModeStatus:function(e){if(a(l.settingsContainer))return o.log("darkModeHandler.settingsContainer not initialized"),{isSuccess:!1};let t=!0;return r(e)?l.settingsContainer.setObject(s.darkMode.DARK_MODE_STATUS,e):(o.error("failed to setDarkModeStatus"),t=!1),{isSuccess:t}},getDarkModeStatus:function(){return a(l.settingsContainer)?(o.log("Settings not initialized"),!1):l.settingsContainer.getObject(s.darkMode.DARK_MODE_STATUS)},isDarkModeEnabled:function(){var e;return a(l.settingsContainer)?(o.log("Settings not initialized"),!1):(e=l.settingsContainer.getObject(s.darkMode.DARK_MODE_STATUS),!!r(e)&&e)},handleMessage:function(r,n,e){if(!a(r)){var i=r.id,o=r.payload;if(!a(i)&&!a(o)){let e=null,t=!0;switch(i){case s.darkMode.SET_DARK_MODE_STATUS:e=l.setDarkModeStatus(o.status);break;case s.darkMode.GET_DARK_MODE_STATUS:e=l.isDarkModeEnabled();break;default:t=!1}t&&n({id:r.id,payload:e})}}}};return l})(e.SymBfw)})(window),(e=>{(e.SymBfw=e.SymBfw||{}).telemetryConstants=((e={APPLICATION_NAME:"APPLICATION_NAME",APPLICATION_VERSION:"APPLICATION_VERSION",CLIENT_ID:"CLIENT_ID",DATA_SOURCE:"DATA_SOURCE",TRACKING_ID:"TRACKING_ID",USER_AGENT:"USER_AGENT",USER_LANGUAGE:"USER_LANGUAGE",GOOGLE_ANALYTICS_PROTOCOL_VERSION:"GOOGLE_ANALYTICS_PROTOCOL_VERSION",ANONYMIZE_IP:"ANONYMIZE_IP",BROWSER_NAME:"BROWSER_NAME"}).defaultParametersList=[e.APPLICATION_NAME,e.APPLICATION_VERSION,e.CLIENT_ID,e.DATA_SOURCE,e.TRACKING_ID,e.GOOGLE_ANALYTICS_PROTOCOL_VERSION,e.ANONYMIZE_IP,e.BROWSER_NAME],e.dataSource={BROWSER_EXTENSION:"web",MOBILE_APP:"app"},e.HIT_TYPE={PAGE_VIEW:"pageview",SCREEN_VIEW:"screenview",EVENT:"event",EXCEPTION:"exception",SOCIAL:"social"},e.MESSAGES={SEND_TELEMETRY_TO_BGPROXY:"b021e29a-4fe3-4a60-865f-0cf783318187"},e.parameters={NON_INTERACTION_HIT:"ni",HIT_TYPE:"t",CATEGORY:"ec",ACTION:"ea",LABEL:"el",SOCIAL_NETWORK:"sn",SOCIAL_ACTION:"sa",SOCIAL_TARGET:"st",DOCUMENT_PATH:"dp",DOCUMENT_TITLE:"dt",SCREEN_RESOLUTION:"sr",CUSTOM_DIMENSION1:"cd1",CUSTOM_DIMENSION2:"cd2",CUSTOM_DIMENSION3:"cd3",CUSTOM_DIMENSION4:"cd4",CUSTOM_DIMENSION5:"cd5",CUSTOM_DIMENSION6:"cd6",CUSTOM_DIMENSION7:"cd7",CUSTOM_DIMENSION8:"cd8",CUSTOM_DIMENSION9:"cd9",CUSTOM_DIMENSION10:"cd10",CUSTOM_DIMENSION11:"cd11",CUSTOM_DIMENSION12:"cd12",CUSTOM_DIMENSION13:"cd13",CUSTOM_DIMENSION14:"cd14",CUSTOM_DIMENSION15:"cd15",CUSTOM_DIMENSION16:"cd16",CUSTOM_DIMENSION17:"cd17",CUSTOM_DIMENSION18:"cd18",CUSTOM_DIMENSION19:"cd19",CUSTOM_DIMENSION20:"cd20",CUSTOM_DIMENSION21:"cd21",CUSTOM_DIMENSION22:"cd22",CUSTOM_DIMENSION23:"cd23",CUSTOM_DIMENSION24:"cd24",CUSTOM_DIMENSION25:"cd25",CUSTOM_DIMENSION26:"cd26",CUSTOM_DIMENSION27:"cd27",CUSTOM_DIMENSION28:"cd28",CUSTOM_DIMENSION29:"cd29",CUSTOM_DIMENSION30:"cd30",CUSTOM_DIMENSION31:"cd31",CUSTOM_DIMENSION32:"cd32",CUSTOM_DIMENSION33:"cd33",CUSTOM_DIMENSION34:"cd34",CUSTOM_DIMENSION35:"cd35",CUSTOM_DIMENSION36:"cd36",CUSTOM_DIMENSION37:"cd37",CUSTOM_DIMENSION38:"cd38",CUSTOM_DIMENSION39:"cd39",CUSTOM_DIMENSION40:"cd40",CUSTOM_DIMENSION41:"cd41",CUSTOM_DIMENSION42:"cd42",CUSTOM_DIMENSION43:"cd43",CUSTOM_DIMENSION44:"cd44",CUSTOM_DIMENSION45:"cd45",CUSTOM_DIMENSION46:"cd46",CUSTOM_DIMENSION47:"cd47",PRODUCT_IMPRESSION_BRAND1:"il1pi1br",ITEM_CATEGORY:"iv",CAMPAIGN_SOURCE:"cs",CAMPAIGN_MEDIUM:"cm",CLIENT_ID:"cd2"},e.TELEMETRY_CATEGORY={BROWSER:"Browser",EXTENSION:"Extension"},e.actionType={BROWSER:{LAUNCH:"launch",UPDATE:"update"},EXTENSION:{INSTALL:"install",UPDATE:"update"}},e.defaultParameters={APPLICATION_NAME:{maxLength:100,key:"an"},APPLICATION_VERSION:{maxLength:100,key:"av"},CLIENT_ID:{maxLength:100,key:"cid"},DATA_SOURCE:{maxLength:50,key:"ds",value:e.dataSource.BROWSER_EXTENSION},TRACKING_ID:{maxLength:100,key:"tid"},USER_AGENT:{maxLength:1e3,key:"ua"},USER_LANGUAGE:{maxLength:20,key:"ul"},GOOGLE_ANALYTICS_PROTOCOL_VERSION:{maxLength:100,key:"v",value:1},ANONYMIZE_IP:{maxLength:1,key:"aip",value:1},BROWSER_NAME:{maxLength:20,key:"cd6"}},e.TELEMETRY_FILTER=["bfw-logger|error|[xNDC.Web Error]: A soft dependency (seq: 0) failed to initialize: Exception while querying storage: Error: xneStorage::ManagedStorage Error: Browser 'Edge-Chromium' is not supported."],e)})(window),(e=>{e.SymBfw.telemetrySettings=(r=>{var i={},e=r.settings,o=r.constants,a=r.logger;let{isBoolean:t,isFunction:s,isGuid:n,isNil:l}=r.utils;return i.settingsContainer=null,i.initialize=function(n){if(!s(n))throw new Error("callback must be a function");e.loadSettingsContainer(o.telemetry.BFW_TELEMETRY_SETTINGS_CONTAINER,!0,function(e,t,r){!1===e||l(t)?(a.error("failed to load BFW_TELEMETRY_SETTINGS_CONTAINER"),n(!1)):(i.settingsContainer=t,n(!0))})},i.isTelemetryEnabled=function(){var e;return l(this.settingsContainer)?(a.log("Settings not initialized"),!1):(e=this.settingsContainer.getObject(o.telemetry.TELEMETRY_ENABLED),!l(e)&&e)},i.setTelemetryEnabled=function(e){if(l(this.settingsContainer))throw new Error("Settings not initialized");if(!t(e))throw new Error("Parameter must be a boolean");r.utils.setDoNotTrack(!e),this.settingsContainer.setObject(o.telemetry.TELEMETRY_ENABLED,e)},i.setTelemetryParamsQueue=function(t){if(l(this.settingsContainer))a.log("Settings not initialized");else{if(!r.utils.isObject(t))throw new Error("Parameter must be an object");let e=this.settingsContainer.getObject(o.telemetry.TELEMETRY_PARAMETERS_QUEUE);(e=l(e)?[]:e).push(t),this.settingsContainer.setObject(o.telemetry.TELEMETRY_PARAMETERS_QUEUE,e)}},i.clearTelemetryParamsQueue=function(){if(l(this.settingsContainer))throw new Error("Settings not initialized");this.settingsContainer.setObject(o.telemetry.TELEMETRY_PARAMETERS_QUEUE,[])},i.getTelemetryParamsQueue=function(){if(l(this.settingsContainer))throw new Error("Settings not initialized");return this.settingsContainer.getObject(o.telemetry.TELEMETRY_PARAMETERS_QUEUE)},i.isTelemetryOptOutShown=function(){if(l(this.settingsContainer))throw new Error("Settings not initialized");var e=this.settingsContainer.getObject(o.telemetry.TELEMETRY_OPT_OUT_SHOWN);return!l(e)&&e},i.setTelemetryOptOutShown=function(e){if(l(this.settingsContainer))throw new Error("Settings not initialized");if(!t(e))throw new Error("Parameter must be a boolean");this.settingsContainer.setObject(o.telemetry.TELEMETRY_OPT_OUT_SHOWN,e)},i.hasUserRespondedInOptOutPage=function(){var e;return l(this.settingsContainer)?(a.log("Settings not initialized"),!1):(e=this.settingsContainer.getObject(o.telemetry.USER_RESPONDED_IN_OPT_OUT_PAGE),!l(e)&&e)},i.setUserRespondedInOptOutPage=function(e){if(l(this.settingsContainer))throw new Error("Settings not initialized");if(!t(e))throw new Error("Parameter must be a boolean");this.settingsContainer.setObject(o.telemetry.USER_RESPONDED_IN_OPT_OUT_PAGE,e,e=>{r.telemetry.flushQueue()})},i.setLastOfferDate=function(e){if(l(e))throw new Error("Date cannot be null.");this.settingsContainer.setObject(o.telemetry.LAST_OFFER_DATE,e.getTime())},i.getLastOfferDate=function(){var e=this.settingsContainer.getObject(o.telemetry.LAST_OFFER_DATE);return l(e)||!1===r.utils.isInteger(e)?null:new Date(e)},i.isTelemetrySent=e=>{var t;if(n(e))return t=i.settingsContainer.getObject(o.telemetry.TELEMETRY_SENT_LIST),!(l(t)||t.length<=0)&&t.includes(e);throw new Error("Invalid Telemetry Name passed")},i.telemetrySent=e=>{if(!n(e))throw new Error("Invalid Telemetry Name passed");let t=i.settingsContainer.getObject(o.telemetry.TELEMETRY_SENT_LIST);(t=l(t)?[]:t).push(e),i.settingsContainer.setObject(o.telemetry.TELEMETRY_SENT_LIST,t)},i})(e.SymBfw)})(window),(e=>{var t;(e.SymBfw=e.SymBfw||{}).telemetrySCD=t={GOOGLE_ANALYTICS_URL:"https://www.google-analytics.com/collect",REQUEST_TYPE:"POST",COLLECTION_STATE:!0,serialize:function(){return{ga_url:t.GOOGLE_ANALYTICS_URL,request_type:t.REQUEST_TYPE,collection_state:t.COLLECTION_STATE}}}})(window),(e=>{e.SymBfw.Telemetry=(s=>{var l=s.telemetryConstants,c=s.logger;let{isArray:i,isBoolean:r,isGuid:n,isFunction:u,isNil:m,isntNil:o}=s.utils;return class{constructor(e,t){this.defaultParameters=null,this.initialized=!1,this._telemetryParamsQueue=[],o(e)?this.message=e:this.message=l.MESSAGES.SEND_TELEMETRY_TO_BGPROXY,this.ignoreTelemetryEnableSettings=!1,r(t)&&!0===t&&(this.ignoreTelemetryEnableSettings=!0),this.clientID=null,this._mv3QueueFlushStarted=!1}constructMessageBody(e){if(m(e))throw new Error("parameters cannot be null");if(0===Object.keys(e).length)throw new Error("parameters object is empty. Need at-least one property");var t,r="";for(t in e)r+=t+"="+e[t]+"&";return r=r.substring(0,r.length-1)}init(t,r){if(!0!==this.initialized){if(m(t))throw new Error("defaultParameters cannot be null");if(!u(r))throw new Error("callback is not defined or is not a function");s.telemetryConstants.defaultParametersList.forEach(function(e){if(m(t[e]))throw new Error("could not find mandatory parameter "+e+" in parameters list")}),this.clientID=t.CLIENT_ID;var e,n={};for(e in t){var i=s.telemetryConstants.defaultParameters[e];m(i)||m(i.key)||(n[i.key]=t[e])}var o=l.defaultParameters[l.USER_LANGUAGE],a=(m(n[o.key])&&(n[o.key]=navigator.language),this.constructMessageBody(n));if(m(a)||0===a.length)throw new Error("constructMessageBody returned an empty string");s.telemetrySettings.initialize(e=>{!1===e?(c.error("failed to initialize BfwTelemetry"),r(!1)):(s.extensionAdapter.addMessageListener(this.handleMessage.bind(this)),this.defaultParameters=a,this.initialized=!0,r(!0))})}}sendOneTimeTelemetry(e,t){if(n(e))return s.telemetrySettings.isTelemetrySent(e)?(c.debug("Telemetry already sent once, ignoring sending again"),!0):((t=this.send(t))&&s.telemetrySettings.telemetrySent(e),t);throw new Error("Mandatory Telemetry Name is missing or in wrong format")}_canSendTelemetry(e){var t=l.parameters;return"error"!==e[t.ACTION]||!l.TELEMETRY_FILTER.includes(e[t.CATEGORY]+`|${e[t.ACTION]}|`+e[t.LABEL])}_isTelemetryParamsQueueFull(){var e=s.telemetrySettings.getTelemetryParamsQueue();return!!(i(e)&&e.length>=s.constants.TELEMETRY_PARAMS_QUEUE_MAX_SIZE)}async send(e){if(m(e))throw new Error("parameters are required for sending telemetry events");if(!this._canSendTelemetry(e))return!1;if(m(this.defaultParameters)||!1===this.initialized)return!1;let t=this.constructMessageBody(e);if(m(t)||0===t.length)return!1;if(!1===this.ignoreTelemetryEnableSettings&&!1===s.telemetrySettings.isTelemetryEnabled()){if(!1===s.telemetrySettings.hasUserRespondedInOptOutPage()){if(this._isTelemetryParamsQueueFull())return!1;s.extensionAdapter.isManifestV3Extension()?s.telemetrySettings.setTelemetryParamsQueue(e):o(this._telemetryParamsQueue)&&this._telemetryParamsQueue.push(e)}return!1}o(this.clientID)&&(t+="&"+l.parameters.CLIENT_ID+"="+this.clientID),t+="&"+this.defaultParameters;e={method:s.telemetrySCD.REQUEST_TYPE,body:t};let r=!0;try{var n=await s.utils.safeFetch(s.telemetrySCD.GOOGLE_ANALYTICS_URL,e);n.ok||(c.debug("error response for sending telemetry. response code: "+n.status),r=!1)}catch(e){c.debug("sending telemetry failed due to "+e),r=!1}finally{return s.extensionAdapter.isManifestV3Extension()&&!this._mv3QueueFlushStarted?this._flushQueueManifestV3():i(this._telemetryParamsQueue)&&0<this._telemetryParamsQueue.length&&this.flushQueue(),r}}_flushQueueManifestV3(){this._mv3QueueFlushStarted=!0;let e=s.telemetrySettings.getTelemetryParamsQueue();!i(e)||e.length<=0?this._mv3QueueFlushStarted=!1:setTimeout(()=>{e.forEach(e=>{this.send(e)}),s.telemetrySettings.clearTelemetryParamsQueue(),this._mv3QueueFlushStarted=!1},1)}_getLocalStorage(){return chrome.storage.local}async cleanupTelemetryParamsQueue(){var e=this._getLocalStorage(),t=s.constants.telemetry,r=t.BFW_TELEMETRY_SETTINGS_CONTAINER,r=(await e.get(r))[r];r[t.TELEMETRY_PARAMETERS_QUEUE]=[],await e.set({[s.constants.telemetry.BFW_TELEMETRY_SETTINGS_CONTAINER]:{}}),await e.set({[s.constants.telemetry.BFW_TELEMETRY_SETTINGS_CONTAINER]:r})}handleMessage(e,t,r){var n=e.id;if(n===this.message){n=e.payload;if(!m(n)&&!m(n.parameters))return setTimeout(()=>{this.send(e.payload.parameters)}),!0}}flushQueue(){setTimeout(()=>{for(var e in this._telemetryParamsQueue)this.send(this._telemetryParamsQueue[e]);this._telemetryParamsQueue=[]},2e3)}}})(e.SymBfw),e.SymBfw.telemetry=new SymBfw.Telemetry})(window),(e=>{var i,o,a,s;e.SymBfw.telemetryWrapper=(o=(i=e.SymBfw).utils.isNil,a=i.utils.isString,s={TELEMETRY_CATEGORY:"bfw",TELEMETRY_TYPE:"event",componentType:{LOGGER:"logger",LOCALIZER:"localizer",STORAGE:"storage",SETTINGS:"settings",SECURE_SETTINGS:"secureSettings"},actionType:{WARN:"warn",ERROR:"error"},parameters:{EVENT:"t",CATEGORY:"ec",ACTION:"ea",PAYLOAD:"el"},send:function(e,t,r){if(!a(e))throw new Error("componentType should be a string");if(!a(t))throw new Error("actionType should be a string");if(o(r))throw new Error("payload should not be Nil");if(!a(r)){if(!(r instanceof Error))throw new Error("payload should be an instanceof Error other than a string");r=r.toString()}var n={};return n[s.parameters.EVENT]=s.TELEMETRY_TYPE,n[s.parameters.CATEGORY]=s.TELEMETRY_CATEGORY+"-"+e,n[s.parameters.ACTION]=t,n[s.parameters.PAYLOAD]=r,(i.telemetry||i.telemetryProxy).send(n)}})})(window),(e=>{e.SymBfw=e.SymBfw||{},e.SymBfw.inProductMessagingConstants=((e={CONFIG:{IGNORE_TELEMETRY_ENABLED_SETTINGS:"IGNORE_TELEMETRY_ENABLED_SETTINGS",WAIT_TIME:"WAIT_TIME",DELIVERED_CALLBACK:"DELIVERED_CALLBACK",TOKEN:"TOKEN",DISTINCT_ID:"DISTINCT_ID",MIXPANEL_CONFIG:"MIXPANEL_CONFIG"},MESSAGES:{SEND_MESSAGE_TO_MESSAGE_BG:"49d07cbd-55cc-4e0b-a6c6-f76d225ef165",SEND_MESSAGE_TO_MESSAGE_PROXY:"4cdb9813-d1b3-44c2-a691-8294589a5a89"}}).MESSAGES.TYPE={ACTIVATE:"activate",DELIVERED_MINI:"delivered_mini",DELIVERED_TAKEOVER:"delivered_takeover",RETRIEVE_MESSAGE:"retrieve_message",CLOSE_MESSAGE:"close_message",RENDER_VIDEO:"render_video"},e.PARAMETERS={TOKEN:"TOKEN",DISTINCT_ID:"DISTINCT_ID",WAIT_TIME:"WAIT_TIME",MIXPANEL_CONFIG:"MIXPANEL_CONFIG"},e.UI={MESSAGE:"mixpanel-notification-wrapper",MINI:"mixpanel-notification-mini",VIDEO:"mixpanel-notification-video-frame"},e.STYLE={SHOW_MINI:"show-mini",SHOW_TAKEOVER:"show-takeover",HIDE:"hide"},e)})(window),(e=>{(e.SymBfw=e.SymBfw||{}).telemetryV2Constants=((e={APPLICATION_NAME:"APPLICATION_NAME",APPLICATION_VERSION:"APPLICATION_VERSION",DATA_SOURCE:"DATA_SOURCE",USER_LANGUAGE:"USER_LANGUAGE",TOKEN:"TOKEN",CLIENT_ID:"CLIENT_ID"}).defaultParametersList=[e.APPLICATION_NAME,e.APPLICATION_VERSION,e.DATA_SOURCE],e.dataSource={BROWSER_EXTENSION:"web",MOBILE_APP:"app"},e.HIT_TYPE={PAGE_VIEW:"pageview",SCREEN_VIEW:"screenview",EVENT:"event",EXCEPTION:"exception"},e.MESSAGES={SEND_TELEMETRY_TO_V2_BG:"3fd353b0-319d-41f3-b3a3-22e893730e65"},e.MESSAGES.TYPE={TRACK:"TRACK",SET_PROPERTY:"SET_PROPERTY",INCREMENT:"INCREMENT",APPEND_PROPERTY:"APPEND_PROPERTY",UNION_PROPERTY:"UNION_PROPERTY"},e.parameters={NON_INTERACTION_HIT:"ni",HIT_TYPE:"t",ACTION:"ea",LABEL:"el",DOCUMENT_PATH:"dp",DOCUMENT_TITLE:"dt",CUSTOM_DIMENSION1:"cd1",PRODUCT_IMPRESSION_BRAND1:"il1pi1br",ITEM_CATEGORY:"iv",CAMPAIGN_SOURCE:"cs",CAMPAIGN_MEDIUM:"cm"},e.TELEMETRY_CATEGORY={BROWSER:"Browser",EXTENSION:"Extension"},e.actionType={BROWSER:{LAUNCH:"launch",UPDATE:"update"},EXTENSION:{INSTALL:"install",UPDATE:"update"}},e.defaultParameters={APPLICATION_NAME:{maxLength:100,key:"app_name"},APPLICATION_VERSION:{maxLength:100,key:"app_version"},DATA_SOURCE:{maxLength:50,key:"data_source",value:e.dataSource.BROWSER_EXTENSION},USER_LANGUAGE:{maxLength:20,key:"user_language"}},e.CONFIG={IGNORE_TELEMETRY_ENABLED_SETTINGS:"IGNORE_TELEMETRY_ENABLED_SETTINGS",DEFAULT_PARAMETERS:"DEFAULT_PARAMETERS",DEFAULT_PROFILE:"DEFAULT_PROFILE",TOKEN:"TOKEN",DISTINCT_ID:"DISTINCT_ID",MIXPANEL_CONFIG:"MIXPANEL_CONFIG"},e)})(window),(e=>{e.SymBfw.inProductMessaging=(a=>{let s=a.inProductMessagingConstants,l=a.utils.isString,c=a.utils.isNumber,u=a.utils.isFunction,m=a.utils.isEmptyObject,d=a.utils.isObject,h=a.utils.isNil,E=a.utils.isntNil,f=a.utils.isBoolean;return new class{constructor(){this._message=s.MESSAGES.SEND_MESSAGE_TO_MESSAGE_BG,this._deliveredCallback,this._waitTime,this._token,this._distinct_id,this._initialized,this._mixpanelReferenceGUID,this._mixpanelConfig,this._lastMessageTime=0,this._ignoreTelemetryEnableSettings=!1}init(e){if(!this._initialized){if(h(window.mixpanel))throw new Error("Mixpanel must be loaded to initialize In App Messaging");if(!d(e)||m(e))throw new Error("config is required and must be non-empty object");var t=e[s.CONFIG.DELIVERED_CALLBACK]||function(){},r=e[s.CONFIG.WAIT_TIME]||2,n=e[s.CONFIG.TOKEN],i=e[s.CONFIG.DISTINCT_ID],o=e[s.CONFIG.IGNORE_TELEMETRY_ENABLED_SETTINGS];if(this._mixpanelConfig=e[s.CONFIG.MIXPANEL_CONFIG]||{},this._mixpanelReferenceGUID=a.utils.createNewGuid(),!c(r))throw new Error("if specified, waitTime must be of type number");if(!l(n))throw new Error("token is required and must be of type string for initialization of In App Messaging");if(!l(i))throw new Error("distinct_id is required and must be of type string for initialization of In App Messaging");if(!u(t))throw new Error("if specified, deliveredCallback must be of type function");if(!d(this._mixpanelConfig))throw new Error("if specified, mixpanel config must be of type object");this._token=n,this._distinct_id=i,this._deliveredCallback=t,this._waitTime=r,this._ignoreTelemetryEnableSettings=!(!E(o)||!f(o))&&o,mixpanel.init(n,this._mixpanelConfig,this._mixpanelReferenceGUID),mixpanel[this._mixpanelReferenceGUID]._flags.identify_called=!0,mixpanel[this._mixpanelReferenceGUID].identify(i),mixpanel[this._mixpanelReferenceGUID].people.set_once({$name:i}),a.extensionAdapter.addMessageListener(this._messageHandler.bind(this)),this._initialized=!0}}triggerMessageRetrieval(){var e;return!(!this._initialized||!1===this._ignoreTelemetryEnableSettings&&!1===a.telemetrySettings.isTelemetryEnabled()||((e={}).id=s.MESSAGES.SEND_MESSAGE_TO_MESSAGE_PROXY,e.type=s.MESSAGES.TYPE.RETRIEVE_MESSAGE,a.extensionAdapter.sendMessage(e),0))}_activateProxy(e){var t={},r=(t[s.PARAMETERS.TOKEN]=this._token,t[s.PARAMETERS.DISTINCT_ID]=this._distinct_id,t[s.PARAMETERS.WAIT_TIME]=this._waitTime,t[s.PARAMETERS.MIXPANEL_CONFIG]=this._mixpanelConfig,{});r.id=s.MESSAGES.SEND_MESSAGE_TO_MESSAGE_PROXY,r.type=s.MESSAGES.TYPE.ACTIVATE,r.payload=t,a.extensionAdapter.sendMessageToTab(e,r),setTimeout(this._initMessageFetchInterval.bind(this),2e3)}_initMessageFetchInterval(){var e=36e5*this._waitTime,t=this._lastMessageTime+e-((new Date).getTime()+1e4);if(t<0)return this.triggerMessageRetrieval()?void setTimeout(this._initMessageFetchInterval.bind(this),e):void 0;setTimeout(this._initMessageFetchInterval.bind(this),t)}_setLastMessageTime(){this._lastMessageTime=(new Date).getTime()}_messageHandler(e,t,r){if(e.id===this._message)switch(e.type){case s.MESSAGES.TYPE.ACTIVATE:this._activateProxy(r);break;case s.MESSAGES.TYPE.DELIVERED_MINI:case s.MESSAGES.TYPE.DELIVERED_TAKEOVER:this._deliveredCallback(r),this._setLastMessageTime()}}}})(e.SymBfw)})(window),(e=>{e.SymBfw=e.SymBfw||{},e.SymBfw.telemetryV2=(l=>{let c=l.utils.isNil,u=l.utils.isntNil,m=l.utils.isFunction,r=l.utils.isArray,d=l.telemetryV2Constants,h=l.logger,E=l.utils.isBoolean,f=l.utils.isObject,g=l.utils.isEmptyObject;return new class{constructor(){this._mixpanelReferenceGUID=null,this._defaultParameters=null,this._initialized=!1,this._telemetryParamsQueue=[],this._message=d.MESSAGES.SEND_TELEMETRY_TO_V2_BG,this._ignoreTelemetryEnableSettings=!1,this._defaultProfile=null}init(e,s){if(l.utils.setDoNotTrack(!1),!0===this._initialized)s(!0);else{if(c(e))throw new Error("config is required to initialize TelemetryV2");if(!m(s))throw new Error("callback is not defined or is not a function");if(c(mixpanel))throw new Error("Missing dependency for telemetryV2 module");let t=e[d.CONFIG.DEFAULT_PROFILE]||{};if(!this._areValidParameters(t,!0))throw new Error("Default profile is not valid");let r=e[d.CONFIG.TOKEN],n=e[d.CONFIG.DISTINCT_ID],i=e[d.CONFIG.IGNORE_TELEMETRY_ENABLED_SETTINGS],o=e[d.CONFIG.DEFAULT_PARAMETERS],a=e[d.MIXPANEL_CONFIG];if(this._mixpanelReferenceGUID=l.utils.createNewGuid(),c(r))throw new Error("token cannot be null");if(c(n))throw new Error("distinct_id cannot be null");if(!f(o)||g(o))throw new Error("defaultParameters must be a non-empty object");l.telemetrySettings.initialize(e=>{!1===e?(h.error("failed to initialize TelemetryV2"),s(!1)):(l.extensionAdapter.addMessageListener(this._handleMessage.bind(this)),(this._defaultProfile=t).$name=n,mixpanel.init(r,a,this._mixpanelReferenceGUID),mixpanel[this._mixpanelReferenceGUID]._flags.identify_called=!0,mixpanel[this._mixpanelReferenceGUID].identify(n),mixpanel[this._mixpanelReferenceGUID].people.set_once(t),this._ignoreTelemetryEnableSettings=!(!u(i)||!E(i))&&i,this.setDefaultParameters(o),this._initialized=!0,s(!0))})}}resetDistinctID(e){if(!1===this._initialized)throw new Error("Telemetry needs to be initialized before changing distinctID");if(c(e))throw new Error("distinctID cannot be null");mixpanel[this._mixpanelReferenceGUID].identify(e),this._defaultProfile.$name=e,mixpanel[this._mixpanelReferenceGUID].people.set_once(this._defaultProfile)}createAlias(e){if(!1===this._initialized)throw new Error("Telemetry needs to be initialized before changing distinctID");if(c(e))throw new Error("distinctID cannot be null");mixpanel[this._mixpanelReferenceGUID].alias(e)}setDefaultParameters(t){d.defaultParametersList.forEach(function(e){if(c(t[e]))throw new Error("could not find mandatory parameter "+e+" in parameters list")});var e,r={};for(e in t){var n=d.defaultParameters[e];if(c(n))throw new Error("Property not found in TelemetryV2Constants.defaultParameters: "+e);c(n.key)||(r[n.key]=t[e])}var i=d.defaultParameters[d.USER_LANGUAGE];return c(r[i.key])&&(r[i.key]=navigator.language),this._defaultParameters=r,mixpanel[this._mixpanelReferenceGUID].register(this._defaultParameters),!0}send(e,t){if(!this._checkTelemetrySettings(e,t,d.MESSAGES.TYPE.TRACK))return!1;if(c(this._defaultParameters))return!1;if(c(e))throw new Error("event is required for sending telemetry events");return mixpanel[this._mixpanelReferenceGUID].track(e,t,e=>{e?h.debug("successfully sent event to mixpanel"):h.debug("error sending event to mixpanel")}),r(this._telemetryParamsQueue)&&0<this._telemetryParamsQueue.length&&this.flushQueue(),!0}setProfile(e){return this._checkTelemetrySettings(null,e,d.MESSAGES.TYPE.SET_PROPERTY)?this._areValidParameters(e,!1,!0)?new Promise(function(t,r){mixpanel[l.telemetryV2._mixpanelReferenceGUID].people.set(e,e=>{e?t("property set successfully"):r("error in setting property")})}):Promise.reject("parameters not valid"):Promise.reject("telemetry settings not enabled or user has explicitly opted out")}incrementProperty(e){if(!this._checkTelemetrySettings(null,e,d.MESSAGES.TYPE.INCREMENT))return Promise.reject("telemetry settings not enabled or user has explicitly opted out");if(!this._areValidParameters(e))return Promise.reject("parameters not valid");for(var t in e)if("number"!==this._getPropertyType(this._defaultProfile[t]))return Promise.reject("Increment method only valid for properties with numeric values.\nInvalid Property: "+t);return new Promise(function(t,r){mixpanel[l.telemetryV2._mixpanelReferenceGUID].people.increment(e,e=>{e?t("property incremented successfully"):r("error in incrementing property")})})}appendPropertyList(e){if(!this._checkTelemetrySettings(null,e,d.MESSAGES.TYPE.APPEND_PROPERTY))return Promise.reject("telemetry settings not enabled or user has explicitly opted out");if(!this._areValidParameters(e))return Promise.reject("parameters not valid");for(var t in e)if("array"!==this._getPropertyType(this._defaultProfile[t]))return Promise.reject("Append method only valid for properties whose value is a list.\nInvalid Property: "+t);return new Promise(function(t,r){mixpanel[l.telemetryV2._mixpanelReferenceGUID].people.append(e,e=>{e?t("property appended successfully"):r("error in appending property")})})}unionPropertyList(e){if(!this._checkTelemetrySettings(null,e,d.MESSAGES.TYPE.UNION_PROPERTY))return Promise.reject("telemetry settings not enabled or user has explicitly opted out");if(!this._areValidParameters(e))return Promise.reject("parameters not valid");for(var t in e)if("array"!==this._getPropertyType(this._defaultProfile[t]))return Promise.reject("Union property only valid for properties whose value is a list.\nInvalid Property: "+t);return new Promise(function(t,r){mixpanel[l.telemetryV2._mixpanelReferenceGUID].people.union(e,e=>{e?t("union on the property list successful"):r("error in performing union operation on the property list")})})}_handleMessage(t,e,r){var n=t.id;if(n===this._message){let e=t.payload;if(!c(e))switch(t.type){case d.MESSAGES.TYPE.TRACK:setTimeout(()=>{this.send(e.event,e.parameters)});break;case d.MESSAGES.TYPE.APPEND_PROPERTY:setTimeout(()=>{this.appendPropertyList(e.parameters)});break;case d.MESSAGES.TYPE.INCREMENT:setTimeout(()=>{this.incrementProperty(e.parameters)});break;case d.MESSAGES.TYPE.UNION_PROPERTY:setTimeout(()=>{this.unionPropertyList(e.parameters)});break;case d.MESSAGES.TYPE.SET_PROPERTY:setTimeout(()=>{this.setProfile(e.parameters)});break;default:h.debug("message type is invalid")}}}processQueueEntry(e){switch(e.type){case d.MESSAGES.TYPE.TRACK:this.send(e.event,e.parameters);break;case d.MESSAGES.TYPE.APPEND_PROPERTY:this.appendPropertyList(e.parameters);break;case d.MESSAGES.TYPE.INCREMENT:this.incrementProperty(e.parameters);break;case d.MESSAGES.TYPE.UNION_PROPERTY:this.unionPropertyList(e.parameters);break;case d.MESSAGES.TYPE.SET_PROPERTY:this.setProfile(e.parameters)}}flushQueue(){setTimeout(()=>{for(var e in this._telemetryParamsQueue){e=this._telemetryParamsQueue[e];this.processQueueEntry(e)}this._telemetryParamsQueue=[]},2e3)}_areValidParameters(t,e=!1,r=!1){if(!f(t))return h.error("parameters must be an object"),!1;for(var n in t){if(c(t[n]))return h.error("Property value can not be null"),!1;if(!e){let e=this._getPropertyType(t[n]);if("object"===e)return h.error("Property type not supported."),!1;var i=this._getPropertyType(this._defaultProfile[n]);if("date"===i&&"string"===e&&(t[n]=new Date(t[n]),e="date",isNaN(t[n].getTime())))return h.error("Invalid value type for given property and operation."),!1;if(!this._defaultProfile.hasOwnProperty(n))return h.error("Property to be modified must exist in default profile during initialization.\nMissing Property: "+n),!1;if((r||"array"!==i)&&e!==i)return h.error("Invalid value type for given property and operation."),!1}}return!0}_getPropertyType(e){let t=typeof e;return t="object"===t&&(Array.isArray(e)&&(t="array"),"[object Date]"===Object.prototype.toString.call(e))?"date":t}_checkTelemetrySettings(e,t,r){return!1===this._ignoreTelemetryEnableSettings&&!1===l.telemetrySettings.isTelemetryEnabled()?(l.telemetrySettings.hasUserRespondedInOptOutPage()||(c(this._telemetryParamsQueue)&&(this._telemetryParamsQueue=[]),this._telemetryParamsQueue.push({event:e,parameters:t,type:r})),!1):!!this._initialized}}})(e.SymBfw)})(window),(e=>{function t(e,t,r,n,i=[],o=[]){if(l(e))throw new Error("A description must be provided.");if(l(t))throw new Error("A type must be provided.");if(l(r))throw new Error("imageUrl must be provided");if(u(i)&&0<i.length&&u(o)&&0<o.length)throw new Error("Cannot set both blockListedUrls and allowListedUrls.");switch(c(n)?this.title=n:this.title="",t){case s.NOTIFICATION.TYPE.QUESTION:case s.NOTIFICATION.TYPE.TIMED:case s.NOTIFICATION.TYPE.WARNING_QUESTION:break;default:throw new Error("The notification type passed was not recognized.")}this.description=e,this.type=t,this.guid=a.utils.createNewGuid(),this.imageUrl=r,this.blockListedUrls=i,this.allowListedUrls=o}var a,s,l,c,u,r;e.SymBfw.Notification=(s=(a=e.SymBfw).constants.uiConstants,l=a.utils.isNil,c=a.utils.isntNil,u=a.utils.isArray,r=a.extensionAdapter,t.prototype.getDescription=function(){return this.description},t.prototype.setID=function(e){this.guid=e},t.prototype.getID=function(){return this.guid},t.prototype.getType=function(){return this.type},t.prototype.getTitle=function(){return this.title},t.prototype.getImage=function(){return r.getExtensionURL(this.imageUrl)},t.prototype.getRelativeImageURL=function(){return this.imageUrl},t.prototype.getBlockListedUrls=function(){return this.blockListedUrls},t.prototype.getAllowListedUrls=function(){return this.allowListedUrls},t.prototype.handleEvent=function(e){},t.prototype.serialize=function(){return{description:this.description,type:this.type,notificationID:this.guid,imageUrl:this.getRelativeImageURL(),title:this.title,blockListedUrls:this.blockListedUrls,allowListedUrls:this.allowListedUrls}},t.prototype.onDisplayed=function(){},t)})(window),(e=>{function t(e,t,r,n,i,o,a=[],s=h.NOTIFICATION.TYPE.QUESTION,l={},c=[]){if(d.call(this,e,s,i,o,a,c),u(s))throw new Error("Notification Type cannot be null");if(Object.values(h.NOTIFICATION.TYPE).indexOf(s)<0)throw new Error("Notification Type not supported");if(u(t))throw new Error("Data cannot be null");if(u(r))throw new Error("Default button text cannot be null.");if(!1===m(n))throw new Error("Default button action cannot be null.");this.data=t,this.defaultButtonText=r,this.defaultButtonAction=n,this.extraMessages=l}var u,r,m,n,d,h;e.SymBfw.QuestionNotification=(u=(e=e.SymBfw).utils.isNil,r=e.utils.isntNil,m=e.utils.isFunction,n=e.logger,d=e.Notification,h=e.constants.uiConstants,(t.prototype=Object.create(d.prototype)).addSecondaryLink=function(e,t){if(u(e))throw new Error("Secondary link text cannot be null.");if(!1===m(t))throw new Error("Secondary link action cannot be null.");this.secondaryLinkText=e,this.secondaryLinkAction=t},t.prototype.addThirdButton=function(e,t){if(u(e))throw new Error("Third button text cannot be null");if(!1===m(t))throw new Error("Third button action cannot be null.");this._thirdButtonText=e,this._thirdButtonAction=t},t.prototype.addCloseButtonAction=function(e){if(!1===m(e))throw new Error("Close button action cannot be null.");this._closeButtonAction=e},t.prototype.getDefaultButtonAction=function(){return this.defaultButtonAction},t.prototype.getSecondaryLinkAction=function(){return this.secondaryLinkAction},t.prototype.getThirdButtonAction=function(){return this._thirdButtonAction},t.prototype.getCloseButtonAction=function(){return this._closeButtonAction},t.prototype.serialize=function(){var e=d.prototype.serialize.call(this);return e.defaultButton=this.defaultButtonText,e.secondaryLink=this.secondaryLinkText,e.thirdButton=this._thirdButtonText,e.line1=this.extraMessages.line1,e.line2=this.extraMessages.line2,e},t.prototype.getData=function(){return this.data},t.prototype.handleEvent=function(e){var t=null;switch(e){case h.NOTIFICATION.MESSAGES.DEFAULT_BUTTON_PRESSED:t=this.getDefaultButtonAction(),h.NOTIFICATION.BUTTON.DEFAULT;break;case h.NOTIFICATION.MESSAGES.SECONDARY_LINK_PRESSED:t=this.getSecondaryLinkAction(),h.NOTIFICATION.BUTTON.SECONDARY;break;case h.NOTIFICATION.MESSAGES.THIRD_BUTTON_PRESSED:t=this.getThirdButtonAction();break;case h.NOTIFICATION.MESSAGES.NOTIFICATION_CLOSED:t=u(this.getCloseButtonAction())?null:this.getCloseButtonAction();break;default:return}e=this.getData();if(r(t))try{t(e)}catch(e){n.error(e)}},t)})(window),(e=>{e.SymBfw.WarningQuestionNotification=(e=>{function t(e,t,r,n,i,o,a=[]){var s=l.NOTIFICATION.TYPE.WARNING_QUESTION;c.call(this,e,t,r,n,i,o,a,s)}let n=e.utils.isString,l=e.constants.uiConstants,c=e.QuestionNotification,i=e.utils.isFunction;return(t.prototype=Object.create(c.prototype)).addPrimaryHeaderTitle=function(e){if(!n(e))throw new Error("Primary Header Title cannot be null.");this.primaryHeaderTitle=e},t.prototype.addSecondaryHeaderTitle=function(e){if(!n(e))throw new Error("Secondary Header Title cannot be null.");this.secondaryHeaderTitle=e},t.prototype.addFocusedTitle=function(e){if(!n(e))throw new Error("Focused Title cannot be null.");this.focusedTitle=e},t.prototype.getExpandableLinkAction=function(){return this.expandableLinkAction},t.prototype.getData=function(){return this.data},t.prototype.addExpandableLinkText=function(e,t,r){if(!n(e))throw new Error("beforeExpand Text Should not be null");if(!n(t))throw new Error("afterExpand Text Should not be null");if(!i(r))throw new Error("expandableLinkAction button action cannot be null");this.expandableLinkTextBeforeExpand=e,this.expandableLinkTextAfterExpand=t,this.expandableLinkAction=r},t.prototype.addLearnMoreDescriptionFirstParagraph=function(e){if(!n(e))throw new Error("learnMoreDescriptionFirstParagraph cannot be null.");this.learnMoreDescriptionFirstParagraph=e},t.prototype.addLearnMoreDescriptionSecondParagraph=function(e){if(!n(e))throw new Error("LearnMoreDescriptionSecondParagraph cannot be null.");this.learnMoreDescriptionSecondParagraph=e},t.prototype.serialize=function(){var e=c.prototype.serialize.call(this);return e.focusedTitle=this.focusedTitle,e.learnMoreDescriptionFirstParagraph=this.learnMoreDescriptionFirstParagraph,e.learnMoreDescriptionSecondParagraph=this.learnMoreDescriptionSecondParagraph,e.expandableLinkTextBeforeExpand=this.expandableLinkTextBeforeExpand,e.expandableLinkTextAfterExpand=this.expandableLinkTextAfterExpand,e.primaryHeaderTitle=this.primaryHeaderTitle,e.secondaryHeaderTitle=this.secondaryHeaderTitle,e},t.prototype.handleEvent=function(e){if(n)switch(e){case l.NOTIFICATION.MESSAGES.RESIZE_IFRAME_HEIGHT:this.getExpandableLinkAction()(this.getData());break;case l.NOTIFICATION.MESSAGES.DEFAULT_BUTTON_PRESSED:case l.NOTIFICATION.MESSAGES.NOTIFICATION_CLOSED:c.prototype.handleEvent.call(this,e)}},t})(e.SymBfw)})(window),(e=>{function t(e,t,r){n.call(this,e,i.NOTIFICATION.TYPE.TIMED,t,r)}var r,n,i;e.SymBfw.TimedNotification=((r=e.SymBfw).utils.isNil,r.utils.isntNil,r.utils.isFunction,n=r.Notification,i=r.constants.uiConstants,(t.prototype=Object.create(n.prototype)).onDisplayed=function(){var e=this.getID();setTimeout(function(){r.notificationCenter.removeNotification(e)},this._timeout||i.NOTIFICATION.DEFAULT_TIMEOUT)},t.prototype.setOnClickedListener=function(e){this._onClickedListener=e},t.prototype.setOnClosedListener=function(e){this._onClosedListener=e},t.prototype.setTimeout=function(e){this._timeout=e},t.prototype.getOnClickedListener=function(){return this._onClickedListener},t.prototype.getOnClosedListener=function(){return this._onClosedListener},t.prototype.getTimeout=function(){return this._timeout},t)})(window),(e=>{e.SymBfw.notificationSettings=(e=>{let{constants:{uiConstants:r},logger:i,settings:t,utils:{isArray:n,isFunction:o,isNil:a}}=e,s={settingsContainer:null,intializeNotificationSettings:function(){return new Promise((t,r)=>{try{s.init(function(e){!0===e?t("notification settings initialized"):r("Failed to initialize notification settings")})}catch(e){r("Failed to initialize notification settings. "+e)}})},init:function(n){if(!o(n))throw new Error("callback must be a function");t.loadSettingsContainer(r.NOTIFICATION.BFW_NOTIFICATION_SETTINGS_CONTAINER,!0,function(e,t,r){!1===e||a(t)?(i.error("failed to load BFW_NOTIFICATION_SETTINGS_CONTAINER"),n(!1)):(s.settingsContainer=t,n(!0))})},setNotification:function(t){if(a(this.settingsContainer))i.log("Settings not initialized");else{let e=this.settingsContainer.getObject(r.NOTIFICATION.NOTIFICATION_QUEUE);(e=a(e)?[]:e).push(t),this.settingsContainer.setObject(r.NOTIFICATION.NOTIFICATION_QUEUE,e)}},replaceNotification:function(e){a(this.settingsContainer)?i.log("Settings not initialized"):n(e)?this.settingsContainer.setObject(r.NOTIFICATION.NOTIFICATION_QUEUE,e):i.log("Parameter must be of type array")},getNotification:function(){if(!a(this.settingsContainer))return this.settingsContainer.getObject(r.NOTIFICATION.NOTIFICATION_QUEUE);i.log("Settings not initialized")}};return s})(e.SymBfw)})(window),(e=>{e.SymBfw.notificationCenter=(s=>{var l=s.utils.isNil,c=(s.utils.isntNil,s.logger),u=s.extensionAdapter,m=s.constants.uiConstants;let i=s.notificationSettings,o=s.utils.isNotification;var d={queue:[],_idToNotificationMap:{},_isListenersInited:!1,addNotification:function(r){if(l(r))throw new Error("Notification cannot be null");var e=r.getType();switch(e){case m.NOTIFICATION.TYPE.TIMED:return d._addListeners(),void chrome.notifications.create({type:"basic",iconUrl:r.getImage(),title:r.getTitle(),message:r.getDescription()},function(e){r.setID(e),r.onDisplayed();var t=r.getOnClickedListener();s.utils.isFunction(t)&&(d._idToNotificationMap[e]=r)});case m.NOTIFICATION.TYPE.QUESTION:case m.NOTIFICATION.TYPE.WARNING_QUESTION:u.isManifestV3Extension()?i.setNotification(r.serialize()):this.queue.push(r),d.refreshQueue();break;default:throw new Error("Unsupported notification type: "+e)}},removeNotification:function(e){if(l(e))throw new Error("NotificationID cannot be null");for(var t in this.queue)if(this.queue[t].getID()===e){this.queue.splice(t,1);break}!0===s.utils.isntNil(d._idToNotificationMap[e])&&delete d._idToNotificationMap[e];try{chrome.notifications.clear(e)}catch(e){c.info(e)}finally{d.refreshQueue()}},removeNotificationManifestV3:async function(t){if(l(t))throw new Error("NotificationID cannot be null");await s.notificationSettings.intializeNotificationSettings();let e=i.getNotification();e=e.filter(e=>e.notificationID!=t),i.replaceNotification(e),d.refreshQueue()},getNotification:function(e){if(l(e))throw new Error("NotificationID cannot be null");let t=this.queue;for(var r in t=s.extensionAdapter.isManifestV3Extension()?i.getNotification():t)if((t[r].notificationID||t[r].guid)===e)return t[r]}};return d.refreshQueue=function(){u.getActiveTab(function(r){if(!l(r)){let e=[],t=d.queue;for(var n in t=u.isManifestV3Extension()?i.getNotification():t){n=t[n],n=o(n)?n.serialize():n;e.push(n)}u.sendMessageToTab(r,{id:m.NOTIFICATION.MESSAGES.DEFAULT_MESSAGE,payload:{eventID:m.NOTIFICATION.MESSAGES.NOTIFICATION_QUEUE_MESSAGE,notificationArray:e}},null,{frameId:0})}})},d.handleActivate=function(){u.getAllTabs(function(e){e.forEach(function(e){u.sendMessageToTab(e,{id:m.NOTIFICATION.MESSAGES.DEFAULT_MESSAGE,payload:{eventID:m.NOTIFICATION.MESSAGES.HIDE_NOTIFICATIONS}})}),d.refreshQueue()})},d.handleMessage=function(e,t){if(!l(e)){var r=e.eventID;if(!l(r)){var n=e.notificationID,i=null;switch(r){case m.NOTIFICATION.MESSAGES.DEFAULT_BUTTON_PRESSED:case m.NOTIFICATION.MESSAGES.SECONDARY_LINK_PRESSED:case m.NOTIFICATION.MESSAGES.THIRD_BUTTON_PRESSED:case m.NOTIFICATION.MESSAGES.NOTIFICATION_CLOSED:if(l(n))return void c.warn("Notification ID cannot be null when eventID is "+m.NOTIFICATION.MESSAGES.DEFAULT_BUTTON_PRESSED);if(u.isManifestV3Extension())return s.utils.createCustomHTMLEvent(m.NOTIFICATION.NOTIFICATION_EVENT,{eventID:r,notificationID:n}),void d.removeNotificationManifestV3(n);if(i=d.getNotification(n),l(i))return;i.handleEvent(r),d.removeNotification(n);break;case m.NOTIFICATION.MESSAGES.NOTIFICATION_QUEUE_MESSAGE:d.refreshQueue();break;case m.NOTIFICATION.MESSAGES.NOTIFICATIONS_SHOWN:var o,a=e.notificationArray;for(o in a)n=a[o],i=d.getNotification(n),l(i)||i.onDisplayed&&i.onDisplayed();break;case m.NOTIFICATION.MESSAGES.HIDE_NOTIFICATIONS:u.sendMessageToTab(t,{id:m.NOTIFICATION.MESSAGES.DEFAULT_MESSAGE,payload:{eventID:m.NOTIFICATION.MESSAGES.HIDE_NOTIFICATIONS}});break;case m.NOTIFICATION.MESSAGES.RESIZE_IFRAME_HEIGHT:if(l(n))return void c.error("Notification ID cannot be null when eventID is "+m.NOTIFICATION.MESSAGES.RESIZE_IFRAME_HEIGHT);if(i=d.getNotification(n),l(i))return;i.handleEvent(r),u.sendMessageToTab(t,{id:m.NOTIFICATION.MESSAGES.DEFAULT_MESSAGE,payload:e});break;case m.NOTIFICATION.MESSAGES.FIXED_IFRAME_HEIGHT:u.sendMessageToTab(t,{id:m.NOTIFICATION.MESSAGES.DEFAULT_MESSAGE,payload:e})}}}},d.getSerializedNotifications=function(){var e,t=[];for(e in d.queue){var r=d.queue[e];t.push(r)}return t},d.init=()=>{var e=()=>{d.handleActivate()};u.addWindowFocusedEventListener(e),u.addTabActivatedEventListener(e),u.addMessageListener(function(e,t,r){if(!l(e)&&!l(e.id))switch(e.id){case m.NOTIFICATION.MESSAGES.UI_INIT:return e.id=m.NOTIFICATION.MESSAGES.UI_INIT_PROXY,s.extensionAdapter.sendMessageToTab(r,e,function(e){t(e)}),!0;case m.NOTIFICATION.MESSAGES.DEFAULT_MESSAGE:return d.handleMessage(e.payload,r);default:return}})},d._addListeners=function(){!0!==d._isListenersInited&&(chrome.notifications.onClicked.addListener(d._addOnClickedListener),chrome.notifications.onClosed.addListener(d._addOnClosedListener),d._isListenersInited=!0)},d._addOnClickedListener=function(e){try{var t;!1!==d._idToNotificationMap.hasOwnProperty(e)&&(t=d._idToNotificationMap[e].getOnClickedListener(),!1!==s.utils.isFunction(t))&&(delete d._idToNotificationMap[e],setTimeout(function(){t()},1))}finally{d._clearNotificationWithId(e)}},d._clearNotificationWithId=function(e){try{chrome.notifications.clear(e)}catch(e){c.info(e)}},d._addOnClosedListener=function(e){var t;!1!==d._idToNotificationMap.hasOwnProperty(e)&&(t=d._idToNotificationMap[e].getOnClosedListener(),delete d._idToNotificationMap[e],!1!==s.utils.isFunction(t))&&setTimeout(function(){t()},1)},d.init(),d})(e.SymBfw)})(window),(e=>{function r(e){if(u(e))throw new Error("component cannot be null");this.component=e,this.start=Date.now(),this.subComponents={},this.tldReports={}}var u,i,t,m,d;e.SymBfw.performanceReporterFactory=(u=(e=e.SymBfw).utils.isNil,i=e.utils.isntNil,t=e.extensionAdapter,m=e.constants.performanceReporter.MESSAGES,d={_reporters:{},AUTOMATION_MODE:!1},r.prototype._reportStart=function(e){if(i(this.subComponents[e]))throw new Error("type already exists");this.subComponents[e]={},this.subComponents[e].start=Date.now()},r.prototype._reportEnd=function(e){if(u(this.subComponents[e]))throw new Error("type does NOT exists");var t,r;i(this.subComponents[e].stop)?console.warn("already reported this type"):(r=(t=Date.now())-this.subComponents[e].start,this.subComponents[e].stop=t,this.subComponents[e].timeTaken=r)},r.prototype._reportStartFromProxy=function(e,t,r,n){if(u(e))throw new Error("type cannot be null");if(u(t))throw new Error("domain cannot be null");if(u(r))throw new Error("frameURL cannot be null");if(u(n))throw new Error("frameGUID cannot be null");r=this.tldReports[t][n].subComponents;if(i(r[e]))throw new Error("Sub-component Type already started");r[e]={},r[e].start=Date.now()},r.prototype._reportEndFromProxy=function(e,t,r,n){if(u(e))throw new Error("type cannot be null");if(u(t))throw new Error("domain cannot be null");if(u(r))throw new Error("frameURL cannot be null");if(u(n))throw new Error("frameGUID cannot be null");if(u(this.tldReports[t]))throw new Error("Component for TLD not properly initialized");if(u(this.tldReports[t][n]))throw new Error("Component for TLD - frameGUID, not properly initialized");r=this.tldReports[t][n].subComponents;if(u(r[e].start))throw new Error("type did not start");i(r[e].stop)?console.warn("Sub-component Type already ended"):(r[e].stop=Date.now(),r[e].timeTaken=r[e].stop-r[e].start)},r.prototype._createOrGetTLDDict=function(e,t,r){if(u(e))throw new Error("domain cannot be NULL");if(u(t))throw new Error("frameURL cannot be NULL");if(u(r))throw new Error("frameGUID cannot be NULL");u(this.tldReports[e])&&(this.tldReports[e]={}),u(this.tldReports[e][r])&&(this.tldReports[e][r]={},this.tldReports[e][r].start=Date.now(),this.tldReports[e][r].frameURL=t,this.tldReports[e][r].subComponents={})},r.prototype.serialize=function(){var e,t={};for(e in t[this.component]={},t[this.component].start=this.start,t[this.component].stop=Date.now(),t[this.component].timeTaken=t[this.component].stop-this.start,t[this.component].subComponents=this.subComponents,this.tldReports)t[this.component][e]=this.tldReports[e];return t},d.serialize=function(){var e,t=[];for(e in this._reporters){var r=this._reporters[e].serialize();t.push(r)}return t},d._getPerformanceReporter=function(e){var t=d._reporters[e];return i(t)||(t=new r(e),d._reporters[e]=t),t},d.reportStartForComponent=function(e,t){if(!1!==d.AUTOMATION_MODE){if(u(e))throw new Error("component cannot be NULL");if(u(t))throw new Error("type cannot be NULL");d._getPerformanceReporter(e)._reportStart(t)}},d.reportStopForComponent=function(e,t){if(!1!==d.AUTOMATION_MODE){if(u(e))throw new Error("component cannot be NULL");if(u(t))throw new Error("type cannot be NULL");d._getPerformanceReporter(e)._reportEnd(t)}},d._getPerformanceReporterFromProxy=function(e,t,r,n){if(u(r))throw new Error("domain cannot be null");if(u(n))throw new Error("frameURL cannot be null");if(u(t))throw new Error("frameGUID cannot be null");e=d._getPerformanceReporter(e);return e._createOrGetTLDDict(r,n,t),e},d.handleMessage=function(e,t,r){if(!1!==d.AUTOMATION_MODE&&!u(e)){var n=e.id,i=e.payload,o=null,a=null,s=null,l=null,c=null;switch(n){case m.REPORT_START:o=i.component,l=i.guid,c=i.frameURL,s=d._getPerformanceReporterFromProxy(o,l,r.url,c),a=i.type,s._reportStartFromProxy(a,r.url,c,l);break;case m.REPORT_END:o=i.component,l=i.guid,c=i.frameURL,s=d._getPerformanceReporter(o),a=i.type,s._reportEndFromProxy(a,r.url,c,l);break;default:return}}},t.addMessageListener(d.handleMessage),d.PerformanceReporter=r,d)})(window),(e=>{e.SymBfw.certHandler=(e=>{var o={};let n=e.constants;return o.validateCertAndGetPublicKey=function(e,t,r){try{var n,i=forge.pki.certificateFromPem(e);return forge.pki.certificateFromPem(t).verify(i)?!o._isCertExpired(i.validity.notAfter)&&o._verifyCertInfo(i,r)?(n=i.publicKey,forge.pki.publicKeyToPem(n)):null:null}catch(e){return null}},o._verifyCertInfo=function(e,t){var r=e.issuer.getField(n.CERT_COMMON_NAME).value===t.CERT_ISSUER_NAME,e=e.subject.getField(n.CERT_COMMON_NAME).value===t.CERT_ISSUED;return r&&e},o._isCertExpired=function(e){e=e.getTime();return!((new Date).getTime()<e)},o})(e.SymBfw)})(window),(e=>{e.SymBfw.cdnFileDownloader=(e=>{var t={};let o=e.constants,a=e.utils,s=e.certHandler,l=o.CDN_FILE_DOWNLOADER;return t._downloadAndValidateCdnFile=function(e,n,i){return a.safeFetch(e).then(e=>{if(a.isSuccessCodeLocalFile(e.status))return e.json();throw l.RESPONSE_STATUS.UNSUCCESSFUL_RESPONSE+" "+e.status}).then(e=>{var{payload:e={},JWT:t="",CERT:r=""}=e,r=s.validateCertAndGetPublicKey(r,n,i);if(a.isNil(r))throw l.RESPONSE_STATUS.PUBLIC_KEY_NOT_VERIFIED;if(a.verifyJson(e,t,r,[o.CDN_FILE_DOWNLOADER.ENCRYPTION_METHOD]))return e;throw l.RESPONSE_STATUS.FILE_TAMPERED}).catch(e=>{throw e})},t.getPayloadFromCdnFile=function(e,t,r){return this._isValidUrl(e)&&!a.isNil(t)&&this._isValidCertInfo(r)?this._downloadAndValidateCdnFile(e,t,r).then(e=>e).catch(e=>{throw e}):Promise.reject(l.RESPONSE_STATUS.INVALID_PARAMETERS)},t._isValidCertInfo=function(e){var t;return!a.isEmptyObject(e)&&(t=e.hasOwnProperty(l.CERT_ISSUER_NAME),e=e.hasOwnProperty(l.CERT_ISSUED),t)&&e},t._isValidUrl=function(e){var t;return!!a.isString(e)&&(t=a.urlProtocol(e),e=a.getFileNameExtension(e),l.SUPPORTED_PROTOCOL===t)&&l.SUPPORTED_FILEFORMATS.includes(e)},t})(e.SymBfw)})(window),(e=>{e.SymBfw.InternetChecker=(e=>{let r=e.utils,n=e.extensionAdapter,t=e.logger;function i(e,t){this._pingUrl=t,this._filterList=e,this._deviceConnectedBinding=this._deviceConnectedHandler.bind(this),this._deviceDisconnectedBinding=this._deviceDisconnectedHandler.bind(this),this._webRequestErrorBinding=this._startPolling.bind(this)}return i.prototype={_filterList:[],_pingUrl:null,_state:null,_eventTarget:new EventTarget,_timerId:null,_deviceConnectedBinding:null,_deviceDisconnectedBinding:null,_webRequestErrorBinding:null,timeout:3e4,_deviceConnectedHandler:function(){this._startPolling()},_deviceDisconnectedHandler:function(){this._stopPolling()},_isSetTimer(){return null!=this._timerId},_resetTimer(){this._isSetTimer()&&(window.clearTimeout(this._timerId),this._timerId=null)},_startPolling:function(){this._isSetTimer()||(n.removeWebRequestErrorListener(this._webRequestErrorBinding),!0===window.navigator.onLine?this._pollInternetState():this._setState(!1))},_pollInternetState:function(){this._getInternetState().then(function(e){if(200!==e.status)throw new Error("no internet");n.addWebRequestErrorListener(this._webRequestErrorBinding,this._filterList),this._setState(!0),this._timerId=null}.bind(this)).catch(function(e){t.debug("Internet ping failed. Ping again after some time."),this._setState(!1),this._timerId=window.setTimeout(()=>{this._pollInternetState()},this.timeout)}.bind(this))},_getInternetState:function(){return r.safeFetch(this._pingUrl+"/?ts="+Date.now(),{},5e3)},_setState:function(e){var t=this._state!==e;this._state=e,t&&this._emit()},_stopPolling:function(){this._resetTimer(),n.removeWebRequestErrorListener(this._webRequestErrorBinding),this._setState(!1)},_emit:function(){var e=this._state?"online":"offline",e=new CustomEvent(e);this._eventTarget.dispatchEvent(e)},addListeners:function(e,t){if(!r.isFunction(e)||!r.isFunction(t))throw new Error("Parameters - onLineCallback and offLineCallback should be functions");this._eventTarget.addEventListener("online",e),this._eventTarget.addEventListener("offline",t),n.addWebRequestErrorListener(this._webRequestErrorBinding,this._filterList),window.addEventListener("online",this._deviceConnectedBinding),window.addEventListener("offline",this._deviceDisconnectedBinding),this._startPolling()},removeListeners:function(e,t){if(!r.isFunction(e)||!r.isFunction(t))throw new Error("Parameters - onLineCallback and offLineCallback should be functions");this._eventTarget.removeEventListener("online",e),this._eventTarget.removeEventListener("offline",t),n.removeWebRequestErrorListener(this._webRequestErrorBinding),window.removeEventListener("online",this._deviceConnectedBinding),window.removeEventListener("offline",this._deviceDisconnectedBinding),this._stopPolling()}},i})(e.SymBfw)})(window),(e=>{(e.SymBfw=e.SymBfw||{}).cookies=(e=>{var t={};let i=e.utils.isString,r=e.utils.isArray;return t.set=function(e,t,r=!1){if(!i(e))throw new Error("Key cannot be null");if(!i(t))throw new Error("Value cannot be null");let n=e+"="+t;r&&((e=new Date).setDate(e.getDate()+3650),n+=";expires="+e.toUTCString()),document.cookie=n},t.get=function(e){if(!i(e))throw new Error("Key cannot be null");let t=new RegExp(e+"\\s*=[^;]*").exec(document.cookie);if(r(t)&&0!==t.length)return t=t[0].split("=")[1].trim()},t})(e.SymBfw)})(window),(e=>{let n=e.SymBfw.utils.isString;class i{constructor(e,t=!0,r=!0,n){this._map=new Map,this._name=e,this._isSerializable=t,this._isAutoSave=r}async has(e){return this._map.has(e)}async get(e){return this._map.get(e)}async set(e,t){this._map.set(e,t)}async delete(e){return this._map.delete(e)}async clear(){return this._map.clear()}async isSerializable(){return this._isSerializable}async isAutoSave(){return this._isAutoSave}async serialize(){}}e.SymBfw.memoryFactory=new class{constructor(){this._memoryStores=new Map}async init(){}async get(e,t=!0,r=!0){if(n(e))return this._memoryStores.has(e)?this._memoryStores.get(e):(t=new i(e,t,r),this._memoryStores.set(e,t),t);throw new Error("Container name cannot be null or is not a string")}async delete(e){return this._memoryStores.delete(e)}async clear(){return this._memoryStores.clear()}},e.SymBfw.Memory=i})(window),(e=>{let t=SymBfw.utils;e.SymBfw.ObfuscationKeyManager=class{constructor(){this._obfuscationKey=null,this.initialize=this.initialize.bind(this),this.getObfuscationKey=this.getObfuscationKey.bind(this),this.clearObfuscationKey=this.clearObfuscationKey.bind(this),this.generateObfuscationKey=this.generateObfuscationKey.bind(this),this.initialize()}initialize(){this._obfuscationKey=t.createNewGuid()}getObfuscationKey(){return this._obfuscationKey}clearObfuscationKey(){this._obfuscationKey=null}generateObfuscationKey(){this._obfuscationKey=t.createNewGuid()}}})(window),(e=>{var t=e.SymBfw;let{utils:{isNil:r,isFunction:n,isString:i,isntNil:o},extensionAdapter:a,logger:s}=t;e.SymBfw.alarmHelper=new class{constructor(){this._alarmListeners=[],this.handleAlarm=this.handleAlarm.bind(this)}async setAlarm(e,t){r(e)||r(t)||(await a.getAlarm(e)?s.debug(`Alarm ${e} is already created`):a.createAlarm(e,t))}async clearAlarm(t){if(!r(t)){var e=await a.getAlarm(t);if(r(e))s.debug(`Alarm ${t} does not exists`);else try{await a.clearAlarm(t)}catch(e){s.debug("Failed to clear alarm "+t)}}}registerAlarmListener(e){n(e)&&this._alarmListeners.push(e)}handleAlarm(t){t&&t.name&&this._alarmListeners.forEach(e=>{e(t)})}async doesAlarmExist(e){return!!i(e)&&(e=await a.getAlarm(e),!!o(e))}},a.addAlarmListener(t.alarmHelper.handleAlarm)})(window),(e=>{let{extensionAdapter:a,logger:s,utils:t,constants:l}=e.SymBfw,{isNil:c,isntNil:u}=t;if(a.isManifestV3Extension())if(c(chrome)||c(chrome.scripting))s.debug("Please add scripting permission before using this class");else{let o={_connectFromCS:function(e,t){let r=chrome.runtime.connect({name:t});setTimeout(()=>{r&&(r.disconnect(),r=null)},e)},startKeepAliveConnection:function(r,n,i=!1){if(c(r))throw new Error("tabId should not be null or undefined");if(c(n))throw new Error("connectionTime should not be null or undefined");if(n>=l.KEEP_BG_ALIVE.MAX_BROWSER_CONNECTION_TIME)throw new Error("Connection time should be less than MAX_BROWSER_CONNECTION_TIME");chrome.scripting.executeScript({target:{tabId:r},func:o._connectFromCS,args:[n,l.KEEP_BG_ALIVE.PORT_NAME]},e=>{var t=a.getLastError();c(t)&&u(e)?s.debug("Function _connectFromCS executed in CS successfully"):i?s.error("Error in executing function in CS to establish a connection to BG - "+t):o.startKeepAliveConnection(r,n,!0)})},handleOnConnectEvent:function(e){e.name===l.KEEP_BG_ALIVE.PORT_NAME&&(s.debug("Connection established between CS and BG"),e.onDisconnect.addListener(e=>{a.getLastError()?s.error("Port got disconnected due to error"):s.debug("Port got disconnected")}))}};e.SymBfw.serviceWorkerKeepAlive=o,chrome.runtime.onConnect.addListener(e.SymBfw.serviceWorkerKeepAlive.handleOnConnectEvent)}else s.debug("Returing since extension is not mv3")})(window),(e=>{var t=e.SymBfw;let{alarmHelper:r,constants:n,cdnFileDownloader:i,extensionAdapter:o,logger:a,utils:{isString:s,isFunction:l,isObject:c,isNumber:u}}=t;e.SymBfw.jsonDownloader=new class{constructor(){this._appConfigs={},this.handleAlarm=this.handleAlarm.bind(this)}_clearRetryAlarm(e){e=this._getAppSpecificAlarmName(e,!0);r.clearAlarm(e)}async _fetchJsonAndRegisterScheduler(t){try{var e=await i.getPayloadFromCdnFile(t.cdnUrl,n.JSON_DOWNLOADER.ROOT_CA,n.JSON_DOWNLOADER.CERT_INFO);t.onDownloadedCallback(e),this._clearRetryAlarm(t.appName),this._registerScheduler(t.appName,t.schedulerIntervalInMins)}catch(e){a.error("Fetching json from CDN failed for "+t.appName,e),t.retryIntervalInMins&&this._registerRetryScheduler(t.appName,t.retryIntervalInMins)}}async _registerRetryScheduler(e,t){e=this._getAppSpecificAlarmName(e,!0);await r.setAlarm(e,{delayInMinutes:t})}async _registerScheduler(e,t){e=this._getAppSpecificAlarmName(e);await r.setAlarm(e,{periodInMinutes:t})}_isValidConfig(e){return!!c(e)&&!!(s(e.appName)&&s(e.cdnUrl)&&l(e.onDownloadedCallback)&&u(e.schedulerIntervalInMins))}async _isImmediateDownloadRequired(e){return!await o.getAlarm(e+"_"+n.JSON_DOWNLOADER.JSON_DOWNLOADER_ALARM)}handleAlarm(e){var t;e.name.includes(n.JSON_DOWNLOADER.JSON_DOWNLOADER_ALARM)&&(t=e.name.includes(n.JSON_DOWNLOADER.RETRY_JSON_DOWNLOADER_ALARM)?n.JSON_DOWNLOADER.RETRY_JSON_DOWNLOADER_ALARM:n.JSON_DOWNLOADER.JSON_DOWNLOADER_ALARM,e=e.name.split("_"+t)[0],t=this._appConfigs[e],this._fetchJsonAndRegisterScheduler(t))}_getAppSpecificAlarmName(e,t=!1){return t?e+"_"+n.JSON_DOWNLOADER.RETRY_JSON_DOWNLOADER_ALARM:e+"_"+n.JSON_DOWNLOADER.JSON_DOWNLOADER_ALARM}async init(e){if(!this._isValidConfig(e))throw new Error("Invalid config, initialization failed");this._appConfigs[e.appName]=e,await this._isImmediateDownloadRequired(e.appName)&&await this._fetchJsonAndRegisterScheduler(e)}},t.alarmHelper.registerAlarmListener(t.jsonDownloader.handleAlarm)})(window),(e=>{var t=e.SymBfw;let{alarmHelper:r,constants:n,utils:{isFunction:i,isString:o,isObject:a,isNumber:s}}=t;e.SymBfw.scheduledEventsManager=new class{constructor(){this.eventConfigs={},this.handleAlarm=this.handleAlarm.bind(this)}_clearRetryAlarm(e){e=this.getAlarmName(e,!0);o(e)&&r.clearAlarm(e)}_isValidConfig(e){return!(!a(e)||!o(e.eventName)||!i(e.callback)||!s(e.schedulerIntervalInMins)||e.retryIntervalInMins&&!s(e.retryIntervalInMins))}init(e){this._isValidConfig(e)&&(this.eventConfigs[e.eventName]=e)}async createScheduledEvent(e){o(e)&&a(this.eventConfigs[e])&&await r.setAlarm(this.getAlarmName(e),{periodInMinutes:this.eventConfigs[e].schedulerIntervalInMins})}async _createRetryAlarm(e){await r.setAlarm(this.getAlarmName(e,!0),{delayInMinutes:this.eventConfigs[e].retryIntervalInMins})}_getEventConfigs(e){var t=e.includes(n.EVENT_ALARM_SUFFIX)?n.EVENT_ALARM_SUFFIX:n.EVENT_ALARM_RETRY_SUFFIX,e=e.split("-"+t)[0];return this.eventConfigs[e]}handleAlarm(e){(e.name.includes(n.EVENT_ALARM_SUFFIX)||e.name.includes(n.EVENT_ALARM_RETRY_SUFFIX))&&this._executeEventCallback(e.name)}async _executeEventCallback(t){t=this._getEventConfigs(t);if(a(t))try{await t.callback(),this._clearRetryAlarm(t.eventName)}catch(e){t.retryIntervalInMins&&this._createRetryAlarm(eventName)}}getAlarmName(e,t=!1){if(o(e))return e+"-"+(t?n.EVENT_ALARM_RETRY_SUFFIX:n.EVENT_ALARM_SUFFIX)}},t.alarmHelper.registerAlarmListener(t.scheduledEventsManager.handleAlarm)})(window),(e=>{let{extensionAdapter:i,utils:{isNil:t,isntNil:o,isFunction:r}}=e.SymBfw;e.SymBfw.bookmarksHandler=new class{getBookmarksTree(){return new Promise((r,n)=>{t(chrome)||t(chrome.bookmarks)?n("chrome is null or chrome.bookmarks is null"):chrome.bookmarks.getTree(e=>{var t=i.getLastError();if(!o(t))return r(e);n(t)})})}addOnChangedEventListener(e){if(t(chrome)||t(chrome.bookmarks))throw new Error("chrome is null or chrome.bookmarks is null");if(!r(e))throw new Error("onChange event listener needs a callback");chrome.bookmarks.onChanged.addListener(e)}addOnChildrenReorderedEventListener(e){if(t(chrome)||t(chrome.bookmarks))throw new Error("chrome is null or chrome.bookmarks is null");if(!r(e))throw new Error("onChildrenReordered event listener needs a callback");chrome.bookmarks.onChildrenReordered.addListener(e)}addOnCreatedEventListener(e){if(t(chrome)||t(chrome.bookmarks))throw new Error("chrome is null or chrome.bookmarks is null");if(!r(e))throw new Error("onCreated event listener needs a callback");chrome.bookmarks.onCreated.addListener(e)}addOnImportEndedEventListener(e){if(t(chrome)||t(chrome.bookmarks))throw new Error("chrome is null or chrome.bookmarks is null");if(!r(e))throw new Error("onImportEnded event listener needs a callback");chrome.bookmarks.onImportEnded.addListener(e)}addOnMovedEventListener(e){if(t(chrome)||t(chrome.bookmarks))throw new Error("chrome is null or chrome.bookmarks is null");if(!r(e))throw new Error("onMoved event listener needs a callback");chrome.bookmarks.onMoved.addListener(e)}addOnRemovedEventListener(e){if(t(chrome)||t(chrome.bookmarks))throw new Error("chrome is null or chrome.bookmarks is null");if(!r(e))throw new Error("onRemoved event listener needs a callback");chrome.bookmarks.onRemoved.addListener(e)}}})(window),(e=>{let{extensionAdapter:i,utils:{isNil:t,isntNil:o}}=e.SymBfw;e.SymBfw.topSitesHandler=new class{getTopSites(){return new Promise((r,n)=>{t(chrome)||t(chrome.topSites)?n("chrome is null or chrome.topSites is null"):chrome.topSites.get(e=>{var t=i.getLastError();if(!o(t))return r(e);n(t)})})}getTopSitesWithIcons(){return new Promise((r,n)=>{t(chrome)||t(chrome.topSites)?n("chrome is null or chrome.topSites is null"):chrome.topSites.get({includeFavicon:!0},e=>{var t=i.getLastError();if(!o(t))return r(e);n(t)})})}}})(window);