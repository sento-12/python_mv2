(e=>{let{extensionAdapter:A,utils:{isntNil:s,isString:n}}=SymBfw,{constants:_,uiConstants:l,globalSettings:E,helperUtils:p}=NSSS;var S=_.SEARCH_RESULT_METADATA.yahoo;let R=_.SEARCH_RESULT_METADATA.ask;S.separator,(e.NSSS=e.NSSS||{}).searchQuery=new class{launchTabwithSearchQuery(e,S){let a="",t="",r=!0,n=(NSSS.constants.VENDOR===NSSS.constants.IAC&&(t=R.searchUrl,a=this._getParamsForAskHomePage(e,S),r=E.getNewTabForSearchResultsEnabled()),""+t+a);r?(A.createTab(n),NSSS.activeUserSearch.incrementSearchCount()):A.getActiveTab(e=>{s(e)&&(A.updateTabUrl(e.id,n),NSSS.activeUserSearch.incrementSearchCount())})}_getProdValue(){return p.getAndSetMediaDotNetFlavorApplicable()?l.PROD_MEDIA_DOT_NET:SymBfw.utils.isExtnRunningInNSB()?NSSS.constants.SECURE:l.HOMEPAGE_EXTENSION.toUpperCase()}_getParamsForAskHomePage(e,S){var a=new URLSearchParams(p.getQueryTemplate(NSSS.constants.DHP_OCODE)),t=SymBfw.localizer.getNavigatorLanguage().replace("-","_"),r=this._getProdValue(),e=(a.append(_.URL_PARAMS_KEY.IAC_QUERY,e),a.append(_.URL_PARAMS_KEY.GEO_CODE,t),a.append(_.URL_PARAMS_KEY.CUSTOMER_TYPE,""),S||!1),t=(a.append(l.DARK_MODE_PARAM,e),a.append(l.SAME_TAB_LAUNCH_SERP_PARAM,!E.getNewTabForSearchResultsEnabled()),a.append(_.BROWSER,NSSS.NSSSHelper.getBrowserValue()),a.append(_.PROD,r),a.append(_.URL_PARAMS_KEY.INSTALL_SOURCE,NSSS.NSSSHelper.getInstallSource()),NSSS.NSSSHelper.getCampaignCode()),S=(n(t)&&a.append(_.URL_PARAMS_KEY.CAMPAIGN_NAME,t),E.getTrackValue()),e=(NSSS.NSSSHelper.isValidTrackValue(S)&&a.append(_.URL_PARAMS_KEY.TRACK,S),E.getInstallDate());return a.append(_.URL_PARAMS_KEY.DATE_OF_INSTALL,e),a.toString()}}})(executionContext);