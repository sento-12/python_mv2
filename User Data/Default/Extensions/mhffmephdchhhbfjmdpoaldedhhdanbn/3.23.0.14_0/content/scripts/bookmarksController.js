(()=>{let{extensionAdapter:e,bookmarksHandler:r,utils:{isArray:s}}=SymBfw;var{}=NSSS.uiConstants;NSSS.bookmarksController=new class{async hasBookmarksPermission(){return await e.hasPermissions(["bookmarks","favicon"])}async requestBookmarksPermission(){return await e.requestPermissions({permissions:["bookmarks","favicon"]})}async getBookmarksData(){if(!await this.hasBookmarksPermission())return null;var e=await r.getBookmarksTree();if(s(e)&&0!==e.length){e=e[0].children;let s={bookmarksBarItems:[],otherBookmarksItems:[]};return e.forEach(e=>{var r;"1"===e.id?s.bookmarksBarItems.push(...e.children):((r={}).children=e.children,r.title=e.title,s.otherBookmarksItems.push(r))}),s}}addEventListeners(e){r.addOnChangedEventListener(e),r.addOnChildrenReorderedEventListener(e),r.addOnCreatedEventListener(e),r.addOnImportEndedEventListener(e),r.addOnMovedEventListener(e),r.addOnRemovedEventListener(e)}}})();