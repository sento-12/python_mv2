(e=>{(e.NSSS=e.NSSS||{}).portalInstallFlowCS=((n,e)=>{var a=e.NSSSHelper.getCurrentWindowLocation();if(e.NSSSHelper.isLandingPageURL(a)){let t={},s=n.utils.isNil,{uiConstants:{MESSAGES:o},NSSSHelper:l}=e;return t.constants={loadStr:"load",closeStr:"close"},t._handleLoadEvent=e=>{var a={name:o.LOAD_STORE_URL,message:e};n.utils.isStorePageURL(e)?(n.extensionAdapter.sendMessage(a),n.globals.BROWSER!==n.constants.BROWSER_TYPE.EDGE_CHROMIUM&&window.removeEventListener("message",t._handleEventFromPortal)):l.isChromeInterstitialPageURL(e)?n.extensionAdapter.sendMessage(a):window.removeEventListener("message",t._handleEventFromPortal)},t._handleCloseEvent=()=>{n.extensionAdapter.sendMessage({name:o.CLOSE_STORE_PAGE}),n.globals.BROWSER!==n.constants.BROWSER_TYPE.EDGE_CHROMIUM&&window.removeEventListener("message",t._handleEventFromPortal)},t._handleEventFromPortal=e=>{if(l.isLandingPageURL(e.origin)&&!s(e.data)){var a=t.constants;switch(e.data.action){case o.LOAD_STORE_URL:case a.loadStr:var n=e.data.url;s(n)||t._handleLoadEvent(n);break;case o.CLOSE_STORE_PAGE:case a.closeStr:t._handleCloseEvent()}}},t}})(e.SymBfw,e.NSSS)})(executionContext),window.addEventListener("message",NSSS.portalInstallFlowCS._handleEventFromPortal);