(i=>{var o,n,s,a,r,l,e,c;i.SymBfw.notificationCenterProxy=(o=(i=i.SymBfw).utils.isNil,n=i.utils.isntNil,s=i.logger,a=i.constants.uiConstants.NOTIFICATION,r=i.uiUtils,l=i.utils.isArray,e=i.extensionAdapter,c={timeoutShowNotification:null,getNotificationIframeID:function(){return a.IFRAME_ID+"-"+e.getExtensionId()},closeNotifications:function(){var i=c.getNotificationIframeID(),t=document.querySelectorAll("[id='"+i+"']");if(n(t))for(var e=0;e<t.length;e++){var o=t[e];document.documentElement.removeChild(o)}},handleMessage:function(i){switch(i.eventID){case a.MESSAGES.NOTIFICATION_QUEUE_MESSAGE:l(i.notificationArray)?(n(c.timeoutShowNotification)&&clearTimeout(c.timeoutShowNotification),c.timeoutShowNotification=setTimeout(function(){c.notificationArray=i.notificationArray,0===c.notificationArray.length?c.closeNotifications():(c.setIsAllowed(c.notificationArray),c.showNotifications(),c.timeoutShowNotification=null)},100)):s.log("unexpected payload for NOTIFICATION_QUEUE_MESSAGE");break;case a.MESSAGES.HIDE_NOTIFICATIONS:c.closeNotifications();break;case a.MESSAGES.RESIZE_IFRAME_HEIGHT:var t=c.getNotificationIframeID(),e=document.getElementById(t),o=parseFloat(e.height);e.height=o+i.iframeHeight;break;case a.MESSAGES.FIXED_IFRAME_HEIGHT:t=c.getNotificationIframeID();(e=document.getElementById(t)).height=i.iframeHeight}},setIsAllowed:function(i){for(var t of i)c.isEmptyList(t.allowListedUrls)&&c.isEmptyList(t.blockListedUrls)?t.isAllowed=!0:c.isEmptyList(t.allowListedUrls)?t.isAllowed=!c.isPageUrlInList(t.blockListedUrls):t.isAllowed=c.isPageUrlInList(t.allowListedUrls)},isPageUrlInList:function(i){return!(c.isEmptyList(i)||!i.some(i=>i.startsWith(document.location.origin)))},isEmptyList:function(i){return!l(i)||0===i.length},showNotifications:function(){c.closeNotifications();var i=e.getExtensionURL(a.HTML),t=e.getExtensionURL(a.STYLE),t=(r.injectStyle(t),a.IFRAME_ID+"-"+e.getExtensionId());r.createFrame(t,i,a.HEIGHT,a.WIDTH)},addEventListener:function(){e.addContentScriptMessageListener(function(i,t,e){switch(i.id){case a.MESSAGES.DEFAULT_MESSAGE:return o(i.payload)?void 0:c.handleMessage(i.payload);case a.MESSAGES.UI_INIT_PROXY:return t({notifications:c.notificationArray,direction:r.getDirection()});default:return}})},initialize:function(){r.isTopLevelWindow()&&(c.addEventListener(),e.sendMessage({id:a.MESSAGES.DEFAULT_MESSAGE,payload:{eventID:a.MESSAGES.NOTIFICATION_QUEUE_MESSAGE}}))}},window.addEventListener("pageshow",function(i){i.persisted&&c.initialize()}),c.initialize(),c)})(window);