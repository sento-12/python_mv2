(e=>{var t;(e.NSSS=e.NSSS||{}).constants=(e=e.SymBfw,(t={DEFAULT_HOMEPAGE:"defaultHomepage",DEFAULT_SEARCH:"defaultSearch",TAB_OVERALLSTATUS:"tabstatus",TABID:"tabID",SESSION_CONTAINERS:"SESSION_CONTAINERS"}).TAB_OVERALLSTATUS="tabstatus",t.DID_ONBOARDINGFLOW="didOnBoardingFlow",t.SHOW_FULLREPORT="showFullReport",t.SHOW_REPORTSITE="showReportSite",t.NSSS_GLOBAL_SETTINGS_CONTAINER="44CB4D75-FAD1-449D-9C9E-B0A3090B18B8",t.NSSS_SESSION_SETTINGS_CONTAINER="ef00d2d7-4d47-403b-9491-ce8fafa0bbe6",t.NSSS_INSTALLDATEKEY="extensionInstalldate",t.NSSS_INSTALLATION_PAGE_URL_KEY="09C42F0E-C1F7-4FBE-B76D-DF39F909BFE9",t.BLOCKPAGE="blockPage",t.CGUIDKEY="cutomerGuid",t.PARAMSTRINGKEY="paramstring",t.VENDORKEY="vendor",t.DS_OCODE="APN12174",t.DHP_OCODE="APN12175",t.SEARCH_OCODE="APN12173",t.BLOCKEDPAGE_SEARCH_OCODE="15528",t.TPR="111",t.PRT="SSS",t.VERSION="3.23.0.14",t.BUILD_CONFIG="release",t.PARTNERIDKEY="chn",t.CAMPAIGN_MEDIUM="campaignMedium",t.IS_FLAVORIZED="flavorized",t.DEFAULT_PARTNER_ID="store",t.PRODUCT_NAME="Norton Home Page",t.TELEMETRY_TRACKING_ID="UA-12436054-58",t.BACKUP_HOMEPAGE="backupHomePage",t.PRODUCT_LABEL=e.extensionAdapter.getExtensionId()+"-"+t.VERSION,t.TELEMETRY_OPTOUT_URL="https://##TELEMETRY_OPTOUT_URI##.norton.com/xbp-tour",t.TELEMETRY_OPTOUT_TIMEOUT="##TELEMETRYTIMEOUT##",t.DEFAULT_INFO_ICON="ic-homepage-info-50.svg",t.IS_HP_FIRST_LAUNCH="isHPFirstLaunch",t.IS_DSP_FIRST_LAUNCH="isDSPFirstLaunch",t.HP_ID="ophopjonlomiomjdjphigoapegkicmih",t.MYWAY_SECURE_SEARCH_CHROME_EXTN_ID="aipacdclkmcnfkfoiebiokfemanllgag",t.MYWAY_IFRAME_HP_URL="https://hp.norton.myway.com/norton/",t.MYWAY_IFRAME_HP_URL_FF="https://ak.staticimgfarm.com/images/webtooltab/ttdetect-2/prd/ttdetect.html#https://hp.norton.myway.com",t.MYWAY_CHROME_EXTN_PAGE_URL="chrome-extension://"+t.MYWAY_SECURE_SEARCH_CHROME_EXTN_ID,t.CHROME_NEW_TAB_URL="chrome://newtab/",t.FIREFOX_EXTN_URL_START_KEYWORD="moz-extension://",t.FIREFOX_EXTN_NEW_DYNAMIC_TAB_HTML="dynamicNewTab.html",t.FIREFOX_EXTN_NEW_DYNAMIC_HOMEPAGE_HTML="dynamicHomePage.html",t.SHOULD_BLOCK_KEY="shouldBlock",t.CONTINUE_SITE_LOADED_KEY="blockedSiteLoaded",t.NORTONSAFE_HOSTNAME="",t.SAFE_WEB_EXTENSION="Norton Safe Web",t.HOME_PAGE_EXTENSION="Norton Home Page",t.DEFAULT_SEARCH_EXTENSION="Norton Safe Search",t.SEARCHBOX_VISIBLE="##SEARCHBOX_VISIBLE##",t.NATIVE_TAB_PREFIX=["chrome://","about:"],t.ABOUT_BLANK="about:blank",t.POPUP_PAGE="/content/ui/popup.html",t.SETTINGS_PAGE="/content/ui/settings.html",t.HOME_PAGE="homePage.html",t.BUTTON_GLOBAL_CHECKED="../images/btn-global-checked.svg",t.BUTTON_GLOBAL_UNCHECKED="../images/btn-global-unchecked.svg",t.DEFAULT_COUNTRY="US",t.CAUTION_IMAGE="##CAUTION_IMAGE##",t.WARNING_IMAGE="##WARNING_IMAGE##",t.FORMJACK_IMAGE="##FORMJACK_IMAGE##",t.SUSPICIOUS_IMAGE="##SUSPICIOUS_IMAGE##",t.UNTESTED_IMAGE="##UNTESTED_IMAGE##",t.SAFE_IMAGE="##SAFE_IMAGE##",t.RETINAL_UNTESTED_IMAGE="##RETINAL_UNTESTED_IMAGE##",t.RETINAL_SAFE_IMAGE="##RETINAL_SAFE_IMAGE##",t.SETTINGS_KEY_DS="defaultSearchEnabled",t.HOME_PAGE_URL="",t.SEARCH_URL="##SEARCH_URL##",t.VENDOR="ask",t.VENDOR_MIGRATION="##VENDOR_MIGRATION##",t.STORE_URL_NAME="##STORE_URL_NAME##",t.PORTAL_URL="https://search.norton.com",t.SHOW_CONSENT_UI_UPDATE_FLOW="##SHOW_CONSENT_UI_UPDATE_FLOW##",t.ALLOW_SUSPICIOUS_BLOCK_LIST="allowSuspiciousBlockList",t.ALLOW_SUSPICIOUS_BLOCK_DURATION=18e5,t.MYWAY="myway",t.IAC="ask",t.YAHOO="yahoo",t.VENDOR_IS_PRESENT="vendorIsPresent",t.GET_INSTALL_DATE="getInstallDate",t.GET_ASSOCIATION_DATE="getAssociationDate",t.IAC="ask",t.YAHOO="yahoo",t.ACTUAL_HREF="actualhref",t.REPLACED_HREF="replacedhref",t.CLICK_PREVENTION_GUID="clickPreventionGUID",t.CLICK_PREVENTION_NODE_LIST="clickPreventionNodeList",t.URL_IDENTIFIER="urlIdentifier",t.subLinksURLIdentifiers="sublinksURLIdentifiers",t.FINAL_REDIRECTED_TAB_URL="finalRedirectedTabUrl",t.ENGLISH="en",t.LAUNCHED_ON_EXTENSION_CLICK="launchedOn=extensionClick",t.SETTINGS_CLICK="settingsClick",t.LAUNCHED_ON="launchedOn",t.YAHOO_VENDOR_LOCALES=["en-US","en-CA","fr-CA"],t.GEO_LOCATION_KEY="geo_location",t.CUSTOM_CHICKLETS_KEY="customChicklets",t.events={CLICK:"click",MOUSE_DOWN:"mousedown"},t.SHOW_TWITTER_SECTION="showTwitterSection",t.SHOW_SECURITY_CENTER_SECTION="showSecurityCenterSection",t.CONSENT_IN_PROGRESS_IMAGE="sw-red@3x",t.PRIVACY_CONSENT_ACCEPT_CLICK="privacyConsentAcceptClick",t.ENABLE_BOOKMARKS_TOOLBAR="enableToolbar",t.ENABLE_NEW_TAB_FOR_SEARCH_RESULTS="enableNewTabForSearchResults",t.ENABLE_MOST_VISITED_SITES="enableMostVisitedSites",t.ENABLE_WHEATHER_WIDGET="enableWheatherWidget",t.ENABLE_TIMER_WIDGET="enableTimerWidget",t.ENABLE_BACKGROUND_IMAGE="enableBackgroundImage",t.ZDEFAULT_TRIGGER="zdefaulttrigger",t.NEWINST="newinst",t.HP={Chrome:{[t.YAHOO]:"mhffmephdchhhbfjmdpoaldedhhdanbn",[t.IAC]:null},Firefox:{[t.YAHOO]:"nortonhomepage_ven_y@symantec.com",[t.IAC]:null},"Edge-Chromium":{[t.YAHOO]:"piogpjkklafcodjjjoincimjjeciecnk",[t.IAC]:null}},t.DS={Chrome:{[t.YAHOO]:"mpnlkmlkncncpgnnkmkgoobfpnjmblnk",[t.IAC]:null},Firefox:{[t.YAHOO]:"nortonsafesearch_ul_ven_y_2@symantec.com",[t.IAC]:null},"Edge-Chromium":{[t.YAHOO]:"blbchkkacgjbiiobglcjcmbdhnnnokef",[t.IAC]:null}},t.EXTENSION_PAIR_IDS={"Norton Safe Search":t.HP,"Norton Home Page":t.DS},t.EXTENSION_PAIR_IDS={"Norton Safe Search":t.HP,"Norton Home Page":t.DS},t.CLICK_PREVENTION_MAP="clickPreventionMap",t.CLICK_PREVENTED_TAB="clickPreventedTab",t.PRIVACY_POLICY_SSDCAT=150,t.LEGAL_SSDCAT=151,t.DEFAULT_ORIGIN_VALUE="nsss",t.NEWFEATURE_ORIGIN_VALUE="NewFeature",t.IPS_LEARN_MORE_SSDCAT=137,t.SITE_DIRECTOR_URL="http://sitedirector.norton.com/932743328?ssdcat=SSDCAT_VALUE&env=prod&origin=ORIGIN&displang=iso3:ISO3_LAN_CODE&displocale=iso3:ISO3_COUNTRY_CODE&dest=DESTINATION",t.DEST_PARAM_PRIVACY="privacy",t.DEST_PARAM_LEGAL="legal",t.SITE_DIRECTOR_IPS_URL="http://sitedirector.norton.com/932743328?ssdcat=SSDCAT_VALUE&env=prod&origin=ORIGIN&lang=LAN_CODE",t.SITE_DIRECTOR_ADDITIONAL_PARAM="&layouttype=LAYOUT_TYPE&partnerid=PARTNERID&puid=PUID",t.ISPID="&ispid=55555",t.ISO2_ISO3_LANGUAGE={AB:"ABK",AA:"AAR",AF:"AFR",AK:"AKA",SQ:"SQI",AM:"AMH",AR:"ARA",AN:"ARG",HY:"HYE",AS:"ASM",AV:"AVA",AE:"AVE",AY:"AYM",AZ:"AZE",BM:"BAM",BA:"BAK",EU:"EUS",BE:"BEL",BN:"BEN",BH:"BIH",BI:"BIS",BS:"BOS",BR:"BRE",BG:"BUL",MY:"MYA",CA:"CAT",CH:"CHA",CE:"CHE",NY:"NYA",ZH:"ZHO",CV:"CHV",KW:"COR",CO:"COS",CR:"CRE",HR:"HRV",CS:"CES",DA:"DAN",DV:"DIV",NL:"NLD",DZ:"DZO",EN:"ENG",EO:"EPO",ET:"EST",EE:"EWE",FO:"FAO",FJ:"FIJ",FI:"FIN",FR:"FRA",FF:"FUL",GL:"GLG",KA:"KAT",DE:"DEU",EL:"ELL",GN:"GRN",GU:"GUJ",HT:"HAT",HA:"HAU",HE:"HEB",HZ:"HER",HI:"HIN",HO:"HMO",HU:"HUN",IA:"INA",ID:"IND",IE:"ILE",GA:"GLE",IG:"IBO",IK:"IPK",IO:"IDO",IS:"ISL",IT:"ITA",IU:"IKU",JA:"JPN",JV:"JAV",KL:"KAL",KN:"KAN",KR:"KAU",KS:"KAS",KK:"KAZ",KM:"KHM",KI:"KIK",RW:"KIN",KY:"KIR",KV:"KOM",KG:"KON",KO:"KOR",KU:"KUR",KJ:"KUA",LA:"LAT",LB:"LTZ",LG:"LUG",LI:"LIM",LN:"LIN",LO:"LAO",LT:"LIT",LU:"LUB",LV:"LAV",GV:"GLV",MK:"MKD",MG:"MLG",MS:"MSA",ML:"MAL",MT:"MLT",MI:"MRI",MR:"MAR",MH:"MAH",MN:"MON",NA:"NAU",NV:"NAV",ND:"NDE",NE:"NEP",NG:"NDO",NB:"NOB",NN:"NNO",NO:"NOR",II:"III",NR:"NBL",OC:"OCI",OJ:"OJI",CU:"CHU",OM:"ORM",OR:"ORI",OS:"OSS",PA:"PAN",PI:"PLI",FA:"FAS",PL:"POL",PS:"PUS",PT:"POR",QU:"QUE",RM:"ROH",RN:"RUN",RO:"RON",RU:"RUS",SA:"SAN",SC:"SRD",SD:"SND",SE:"SME",SM:"SMO",SG:"SAG",SR:"SRP",GD:"GLA",SN:"SNA",SI:"SIN",SK:"SLK",SL:"SLV",SO:"SOM",ST:"SOT",ES:"SPA",SU:"SUN",SW:"SWA",SS:"SSW",SV:"SWE",TA:"TAM",TE:"TEL",TG:"TGK",TH:"THA",TI:"TIR",BO:"BOD",TK:"TUK",TL:"TGL",TN:"TSN",TO:"TON",TR:"TUR",TS:"TSO",TT:"TAT",TW:"TWI",TY:"TAH",UG:"UIG",UK:"UKR",UR:"URD",UZ:"UZB",VE:"VEN",VI:"VIE",VO:"VOL",WA:"WLN",CY:"CYM",WO:"WOL",FY:"FRY",XH:"XHO",YI:"YID",YO:"YOR",ZA:"ZHA",ZU:"ZUL"},t.FIREGLASS_SUPPORTED_LAYOUTS=["RETAIL","ESD"],t.BT_LAYOUT_PARTNERID="1003610",t.BT_EE_PARTNERID="1053960",t.BT_EE_PUID="17523",t.ISO2_ISO3_COUNTRY={AX:"ALA",AF:"AFG",AL:"ALB",DZ:"DZA",AS:"ASM",AD:"AND",AO:"AGO",AI:"AIA",AQ:"ATA",AG:"ATG",AR:"ARG",AM:"ARM",AW:"ABW",AU:"AUS",AT:"AUT",AZ:"AZE",BS:"BHS",BH:"BHR",BD:"BGD",BB:"BRB",BY:"BLR",BE:"BEL",BZ:"BLZ",BJ:"BEN",BM:"BMU",BT:"BTN",BO:"BOL",BA:"BIH",BW:"BWA",BV:"BVT",BR:"BRA",IO:"IOT",BN:"BRN",BG:"BGR",BF:"BFA",BI:"BDI",KH:"KHM",CM:"CMR",CA:"CAN",CV:"CPV",KY:"CYM",CF:"CAF",TD:"TCD",CL:"CHL",CN:"CHN",CX:"CXR",CC:"CCK",CO:"COL",KM:"COM",CD:"COD",CG:"COG",CK:"COK",CR:"CRI",CI:"CIV",HR:"HRV",CU:"CUB",CY:"CYP",CZ:"CZE",DK:"DNK",DJ:"DJI",DM:"DMA",DO:"DOM",EC:"ECU",EG:"EGY",SV:"SLV",GQ:"GNQ",ER:"ERI",EE:"EST",ET:"ETH",FK:"FLK",FO:"FRO",FJ:"FJI",FI:"FIN",FR:"FRA",GF:"GUF",PF:"PYF",TF:"ATF",GA:"GAB",GM:"GMB",GE:"GEO",DE:"DEU",GH:"GHA",GI:"GIB",GR:"GRC",GL:"GRL",GD:"GRD",GP:"GLP",GU:"GUM",GT:"GTM",GN:"GIN",GW:"GNB",GY:"GUY",HT:"HTI",HM:"HMD",HN:"HND",HK:"HKG",HU:"HUN",IS:"ISL",IN:"IND",ID:"IDN",IR:"IRN",IQ:"IRQ",IE:"IRL",IL:"ISR",IT:"ITA",JM:"JAM",JP:"JPN",JO:"JOR",KZ:"KAZ",KE:"KEN",KI:"KIR",KP:"PRK",KR:"KOR",KW:"KWT",KG:"KGZ",LA:"LAO",LV:"LVA",LB:"LBN",LS:"LSO",LR:"LBR",LY:"LBY",LI:"LIE",LT:"LTU",LU:"LUX",MO:"MAC",MK:"MKD",MG:"MDG",MW:"MWI",MY:"MYS",MV:"MDV",ML:"MLI",MT:"MLT",MH:"MHL",MQ:"MTQ",MR:"MRT",MU:"MUS",YT:"MYT",MX:"MEX",FM:"FSM",MD:"MDA",MC:"MCO",MN:"MNG",MS:"MSR",MA:"MAR",MZ:"MOZ",MM:"MMR",NA:"NAM",NR:"NRU",NP:"NPL",NL:"NLD",AN:"ANT",NC:"NCL",NZ:"NZL",NI:"NIC",NE:"NER",NG:"NGA",NU:"NIU",NF:"NFK",MP:"MNP",NO:"NOR",OM:"OMN",PK:"PAK",PW:"PLW",PS:"PSE",PA:"PAN",PG:"PNG",PY:"PRY",PE:"PER",PH:"PHL",PN:"PCN",PL:"POL",PT:"PRT",PR:"PRI",QA:"QAT",RE:"REU",RO:"ROU",RU:"RUS",RW:"RWA",SH:"SHN",KN:"KNA",LC:"LCA",PM:"SPM",VC:"VCT",WS:"WSM",SM:"SMR",ST:"STP",SA:"SAU",SN:"SEN",CS:"SCG",SC:"SYC",SL:"SLE",SG:"SGP",SK:"SVK",SI:"SVN",SB:"SLB",SO:"SOM",ZA:"ZAF",GS:"SGS",ES:"ESP",LK:"LKA",SD:"SDN",SR:"SUR",SJ:"SJM",SZ:"SWZ",SE:"SWE",CH:"CHE",SY:"SYR",TW:"TWN",TJ:"TJK",TZ:"TZA",TH:"THA",TL:"TLS",TG:"TGO",TK:"TKL",TO:"TON",TT:"TTO",TN:"TUN",TR:"TUR",TM:"TKM",TC:"TCA",TV:"TUV",UG:"UGA",UA:"UKR",AE:"ARE",GB:"GBR",US:"USA",UM:"UMI",UY:"URY",UZ:"UZB",VU:"VUT",VA:"VAT",VE:"VEN",VN:"VNM",VG:"VGB",VI:"VIR",WF:"WLF",EH:"ESH",YE:"YEM",ZM:"ZMB",ZW:"ZWE"},t.ONBOARDING_URL="https://identitysafe.norton.com/",t.URL_PARAMS_KEY={PARTNERID:"partnerid",CGUID:"guid",DATE_OF_INSTALL:"doi",DATE_OF_ASSOCIATION:"doa",OCODE:"o",PRT:"prt",VERSION:"ver",TPR:"tpr",PARTNER_UNIT_ID:"puid",PRODUCT_NAME:"product",LAYOUT_TYPE:"layouttype",TRACK_ID:"trackId",TYPE:"type",GEO_CODE:"geo",CUSTOMER_TYPE:"ctype",FEATURE:"feature",BROWSER:"browser",BROWSER:"browser",CAMPAIGN_CODE:"cmpgnCode",CAMPAIGN_NAME:"cmpgn",INSTALL_SOURCE:"installSource",FULL_VERSION:"version",CHN:"chn",WEEK_OF_ASSOCIATION:"weekOfAssociation",YEAR_OF_ASSOCIATION:"yearOfAssociation",IAC_QUERY:"q",YAHOO_QUERY:"p",HL:"hl",COMMAND:"command",VENDOR_OFFERED:"vendorOffered",VENDOR_OFFERED_ALIAS:"vo",VENDOR_OFFERED_MAPPING:{y:t.YAHOO,i:t.IAC},TEST_ELIGIBILITY:"testEligible",GEO_LOCATION:"geoLoc",GEO_LOCATION_ALIAS:"gl",VENDOR_CONFIGURED:"vendorConfigured",BEACONPARAM:{PARAM1:"param1",PARAM2:"param2",PARAM3:"param3",PARAM4:"param4"},MIGRATION_TYPE:"mType",ANNOTATION:"annot",TRACK:"track"},t.IS_SERP_CAMPAIGN_ENABLED=!0,t.SERP_SESSION={BLOCK_BY_SERP_CAMPAIGN:"blockedBySerp",OPENER_TAB_ID:"serpOpenerTabId"},t.SERP_CAMPAIGN_SUPPORTED_DOMAIN={"yahoo.com":"YAHOO","ask.com":"ASK"},t.YAHOO_DOMAIN_NAME="yahoo.com",t.SERP_CAMPAIGN_PARAM={ASK:{CAMPAIGN_NAME:"cmpgn",CAMPAIGN_VALUE:"medici"},YAHOO:{CAMPAIGN_NAME:"type",CAMPAIGN_VALUE:"medici"}},t.SERP_RESULT_CLICKED="03d4787f-800c-486c-be47-bbf38fd426d8",t.ONBOARDING_PORTAL_DOMAIN_MAP={"norton.com":["identitysafe","search","searchsafe"],"myway.com":["secure.norton"]},t.ONBOARDING_PORTAL_URL_PATHS_MAP={"norton.com":{search:["/migration","/protect","/nsssOnboarding","/safewebOnboarding","/mnOnboarding","/mn1Onboarding","/protect/npt","/protect/cpt"],searchsafe:["/protect"]}},t.telemetryOptOut={REOFFER_TIME_WINDOW:7776e6,NOTIFICATION_LEEWAY:12e4,NOTIFICATION_LEEWAY_FIREFOX:6e4,NOTIFICATION_AUTOHIDE_DURATION_IN_MILLI_SEC:3e4,NOTIFICATION_ALARM_DUE_CHECK_WAKEUP_DURATION_IN_MINUTES:60,NOTIFICATION_REOFFER_DELAY_DURATION_IN_MILLI_SEC:1728e5},t.IS_WCID_HEURISTICS_LOW_PRIORITY=!0,t.BLOCK_PAGE_PATH="content/ui/blockedPage.html",t.FORMJACK_PROTECTION_BLOCK_PAGE="/content/ui/formjackProtectionBlockPage.html",t.FORMJACK_PROTECTION_LEARN_MORE="/content/ui/formjackProtectionLearnMore.html",t.FORMJACK_PROTECTION_LEARN_TECHNICAL_DETAILS="https://www.nortonlifelock.com/blogs/norton-labs/credit-card-skimmers",t.webProtectionPolicy={WEB_PROTECTION_POLICY_CONTAINER:"62517E4C-BFAD-46DE-977B-1A388E5399C7",SAFEWEB_STATUS:"AEE8B6DB-FB95-46D2-9C21-B594440BDF91",WCID_HEURISTICS_STATUS:"B0E77D14-7B68-477E-981C-21EB2E65A7C9",WCID_CHECK_URL_STATUS:"4621C921-C4C1-4813-9F24-83FF7800471F",IPS_STATUS:"A81DABD1-935C-4504-91C8-90BC99EE4E29",FORMJACK_STATUS:"8652E2F2-D7B3-4CF3-8293-E0360E33C6DA"},t.IPS={SITE_RATING:{IPS_STATE:16},RATING_TYPE:{IPS:"BBF78165-B712-4E8A-A720-02F3D6C07CC5"},SUPPORTED_BROWSERS:["Chrome","Firefox","Edge","Edge-Chromium"]},t.FORMJACK_PROTECTION={SITE_RATING:{FORMJACK_STATE:18},RATING_TYPE:{FORMJACK_TYPE:"A1F7E523-B6B5-4C81-AEC5-96C4C5A53441"}},t.performanceReporter={NSSS:"NSSS"},t.yahooVendorConstants={HSPART:"hspart",HSPART_VALUE:"norton",HSIMP:"hsimp",HSIMP_VALUE:"yhs-ext_onb",HSIMP_VALUE_THREE_IN_ONE:"yhs-ext_safe",HSIMP_VALUE_EDGE_CHROMIUM:"yhs-edge",HSPART_VALUE_LEGACY:"symantec"},t.WCID_ANALYSIS_WAIT_TIME=2e3,t.CHROME_STORE_URL="https://chrome.google.com/webstore/detail/",t.HEARTBEAT_CONFIG={HEARTBEAT_SDK_PING_INTERVAL:864e5,HEARTBEAT_SDK_PING_INTERVAL_48_HOURS:1728e5,DATA_SOURCE:"extension"},t.TIME={THIRTY_MINUTES:18e5},t.GEO_LOCATION_API_URL="https://cloudconnect2.norton.com/v1/geolocationapi/location/countryembargoinformation/",t.YAHOO_VENDOR_OFFERING={supportedCountry:["US","CA"]},t.WEATHER_FARENHEIT_COUNTRY_CODES=["US","BZ","PW","BS","KY","CA"],t.UNINSTALL_SURVEY_URL="https://gendigital.qualtrics.com/jfe/form/SV_eM0Jz36NWeBBkeG?Brand=Norton",t.UNINSTALL_SURVEY_PARAMS={MID:"mid",VERSION:"version",SOURCE:"source",DOI:"doi",LANGUAGE:"Q_Language"},t.SEARCH_SUGGESTION_METADATA={ask:{suggestionUrl:"https://ss-sym.search.ask.com/ss?",queryParams:{limit:10,li:"ff",hl:"",q:""}},yahoo:{suggestionUrl:{"en-us":"https://us.search.yahoo.com/sugg/gossip/gossip-us-partner?","fr-ca":"https://qc.search.yahoo.com/sugg/gossip/gossip-qc-partner?","en-ca":"https://ca.search.yahoo.com/sugg/gossip/gossip-ca-partner?"},defaultSuggestionCountryCode:"en-us",queryParams:{output:"fxjson",appid:"sym",command:""}},defaultLangCode:"en",defaultCountryCode:"us"},t.SEARCH_RESULT_METADATA={yahoo:{defaultSERPCampaignCode:"medici",weekKeyword:"wk",separator:"_",browserNameShortForm:{Chrome:"cr",Firefox:"ff",Edge:"ed",IE:"ie",Safari:"sf",Opera:"op"},searchUrl:{"en-us":"https://search.yahoo.com/yhs/search?","fr-ca":"https://qc.search.yahoo.com/yhs/search?","en-ca":"https://ca.search.yahoo.com/yhs/search?"},defaultCountryCode:"en-us",defaultExtensionCode:"hp"},ask:{searchUrl:"https://nortonsafe.search.ask.com/web?"}},t.GEO_LOCATION_SUBDOMAIN_MAP={us:{default:""},gb:{default:"uk"},au:{default:"au"},ca:{en:"ca",fr:"qc",default:"ca"},br:{default:"br"},fr:{default:"fr"},it:{default:"it"},de:{default:"de"},nl:{default:"nl"},es:{default:"es"},mx:{default:"mx"},in:{default:"in"},se:{default:"se"},ch:{de:"ch",fr:"chfr",it:"chit",default:"ch"},nz:{default:"nz"},dk:{default:"dk"},sg:{default:"sg"},ar:{default:"ar"},at:{default:"at"},hk:{default:"hk"},co:{default:"co"},no:{default:"no"},ie:{default:"uk"},cl:{default:"cl"},fi:{default:"fi"}},t.YAHOO_URL_PATTERN="https://subdomain.search.yahoo.com/",t.SUBDOMAIN="subdomain",t.REPLACE_STRING_FOR_US="subdomain.",t.SEARCH_URL_PATHNAME="yhs/search?",t.SEARCH_SUGGESTIONS_URL_PATHNAME="sugg/gossip/gossip-geo_location-partner?",t.QUICKLINKS_CDN_URL="https://static.nortoncdn.com/nortonsafesearch/quickLinks/",t.TWITTER_FEEDS_CDN_URL="https://static.nortoncdn.com/nortonextensionhomepage/nloktweets.json",t.twitterFeedsJsonRootCA=`
    -----BEGIN CERTIFICATE-----
    MIIEvjCCA6agAwIBAgIQBtjZBNVYQ0b2ii+nVCJ+xDANBgkqhkiG9w0BAQsFADBh
    MQswCQYDVQQGEwJVUzEVMBMGA1UEChMMRGlnaUNlcnQgSW5jMRkwFwYDVQQLExB3
    d3cuZGlnaWNlcnQuY29tMSAwHgYDVQQDExdEaWdpQ2VydCBHbG9iYWwgUm9vdCBD
    QTAeFw0yMTA0MTQwMDAwMDBaFw0zMTA0MTMyMzU5NTlaME8xCzAJBgNVBAYTAlVT
    MRUwEwYDVQQKEwxEaWdpQ2VydCBJbmMxKTAnBgNVBAMTIERpZ2lDZXJ0IFRMUyBS
    U0EgU0hBMjU2IDIwMjAgQ0ExMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKC
    AQEAwUuzZUdwvN1PWNvsnO3DZuUfMRNUrUpmRh8sCuxkB+Uu3Ny5CiDt3+PE0J6a
    qXodgojlEVbbHp9YwlHnLDQNLtKS4VbL8Xlfs7uHyiUDe5pSQWYQYE9XE0nw6Ddn
    g9/n00tnTCJRpt8OmRDtV1F0JuJ9x8piLhMbfyOIJVNvwTRYAIuE//i+p1hJInuW
    raKImxW8oHzf6VGo1bDtN+I2tIJLYrVJmuzHZ9bjPvXj1hJeRPG/cUJ9WIQDgLGB
    Afr5yjK7tI4nhyfFK3TUqNaX3sNk+crOU6JWvHgXjkkDKa77SU+kFbnO8lwZV21r
    eacroicgE7XQPUDTITAHk+qZ9QIDAQABo4IBgjCCAX4wEgYDVR0TAQH/BAgwBgEB
    /wIBADAdBgNVHQ4EFgQUt2ui6qiqhIx56rTaD5iyxZV2ufQwHwYDVR0jBBgwFoAU
    A95QNVbRTLtm8KPiGxvDl7I90VUwDgYDVR0PAQH/BAQDAgGGMB0GA1UdJQQWMBQG
    CCsGAQUFBwMBBggrBgEFBQcDAjB2BggrBgEFBQcBAQRqMGgwJAYIKwYBBQUHMAGG
    GGh0dHA6Ly9vY3NwLmRpZ2ljZXJ0LmNvbTBABggrBgEFBQcwAoY0aHR0cDovL2Nh
    Y2VydHMuZGlnaWNlcnQuY29tL0RpZ2lDZXJ0R2xvYmFsUm9vdENBLmNydDBCBgNV
    HR8EOzA5MDegNaAzhjFodHRwOi8vY3JsMy5kaWdpY2VydC5jb20vRGlnaUNlcnRH
    bG9iYWxSb290Q0EuY3JsMD0GA1UdIAQ2MDQwCwYJYIZIAYb9bAIBMAcGBWeBDAEB
    MAgGBmeBDAECATAIBgZngQwBAgIwCAYGZ4EMAQIDMA0GCSqGSIb3DQEBCwUAA4IB
    AQCAMs5eC91uWg0Kr+HWhMvAjvqFcO3aXbMM9yt1QP6FCvrzMXi3cEsaiVi6gL3z
    ax3pfs8LulicWdSQ0/1s/dCYbbdxglvPbQtaCdB73sRD2Cqk3p5BJl+7j5nL3a7h
    qG+fh/50tx8bIKuxT8b1Z11dmzzp/2n3YWzW2fP9NsarA4h20ksudYbj/NhVfSbC
    EXffPgK2fPOre3qGNm+499iTcc+G33Mw+nur7SpZyEKEOxEXGlLzyQ4UfaJbcme6
    ce1XR2bFuAJKZTRei9AqPCCcUZlM51Ke92sRKw2Sfh3oius2FkOH6ipjv3U/697E
    A7sKPPcw7+uvTPyLNhBzPvOk
    -----END CERTIFICATE-----
    `,t.CERT_INFO={CERT_ISSUER_NAME:"DigiCert TLS RSA SHA256 2020 CA1",CERT_ISSUED:"static.nortoncdn.com"},t.TWITTER_FEEDS_CDN_FETCH_LAST_TIMESTAMP_KEY="TweetsFetchedTimeStamp",t.TWITTER_FEEDS_DATA_KEY="TweetsData",t.TWITTER_FEEDS_CDN_FETCH_DELAY=288e5,t.TWITTER_FEEDS_TIMER_DELAY=18e5,t.TWITTER_FEEDS_PERIOD_IN_MINUTES=30,t.NORTON_HP_EXTENSION_IDS=["mhffmephdchhhbfjmdpoaldedhhdanbn","embphknneakipabfiipdgklmpllaibmh"],t.NORTON_DS_EXTENSION_IDS=["eogpedgkejfmehnklhahflpmplhiceal","mpnlkmlkncncpgnnkmkgoobfpnjmblnk"],t.NORTON_SW_EXTENSION_IDS=["fnpbeacklnhmkkilekogeiekaglbmmka"],t.NORTON_THREE_IN_ONE_EXTENSION_IDS=["eoigllimhcllmhedfbmahegmoakcdakd","gkjahlcnbjiangkneanonnndppicobbd"],t.NORTON_TWO_IN_ONE_EXTENSION_IDS=["gojjgcbbgphdindfmmaipdponknepdbi"],t.NORTON_MEDIA_DOT_NET_EXTENSION_IDS=["gojjgcbbgphdindfmmaipdponknepdbi"],t.HOMEPAGE_TOUR_LAST_SHOWN_TIMESTAMP_KEY="HomepageTourLastShownTimeStamp",t.CHICKLET_TOUR_LAST_SHOWN_TIMESTAMP_KEY="ChickletTourLastShownTimeStamp",t.NORTON_EXTENSION_IDS=[...t.NORTON_HP_EXTENSION_IDS,...t.NORTON_DS_EXTENSION_IDS,...t.NORTON_SW_EXTENSION_IDS,...t.NORTON_THREE_IN_ONE_EXTENSION_IDS,...t.NORTON_TWO_IN_ONE_EXTENSION_IDS],t.SOS_LAYOUT="SOS",t.UNINSTALL_SURVEY_SUPPORTED_EXTENSIONS=[],t.UNINSTALL_SURVEY_SUPPORTED_LAYOUTS=["ESD","RETAIL","OEM"],t.EXTENSIONS_MAP={hp:{ask:"generic",yahoo:"repetitive"},ds:{ask:"repetitive",yahoo:"generic"},"three-in-one":{ask:"repetitive",yahoo:"generic"}},t.VENDOR_LIST=[t.IAC],t.ocodeMap={[t.IAC]:{hp:t.DHP_OCODE,ds:t.DS_OCODE}},t.HOST_NAME={ask:"nortonsafe.search.ask.com",yahoo:"search.yahoo.com"},t.PRIVACY_PROMPT={},t.PRIVACY_PROMPT.SETTINGS_CONTAINER="083D0A7D-C9CB-4012-8CDF-86336ABF089C",t.PRIVACY_PROMPT.PRIVACY_CONSENT="privacyConsent",t.PRIVACY_PROMPT.BROWSER_RESTART_TIMES="browserRestartTimes",t.PRIVACY_PROMPT.REMOVE_NSW_URL="https://addons.mozilla.org/LOCALE_LANG/firefox/addon/norton-safe-web",t.PRIVACY_PROMPT.FF_AMO_GLOBAL_PRIVACY_STMT_URL={sw:"https://addons.mozilla.org/en-US/firefox/addon/norton-safe-web/privacy",hp:"https://www.gendigital.com/privacy/product-privacy-notices/#norton-home-page",ds:"https://www.gendigital.com/privacy/product-privacy-notices/#norton-safe-search","three-in-one":"https://www.gendigital.com/privacy/product-privacy-notices/#norton-safe-search","media-dot-net":"https://www.gendigital.com/privacy/product-privacy-notices/#norton-safe-search"},t.PRIVACY_PROMPT.FF_AMO_TELEMETRY_MESSAGE="1E963E97-5264-4E7A-A77F-8C2AAB7C7CD5",t.INSTALL_STATUS_KEY="installStatus",t.INSTALL_STATUS={INSTALL:"install",UPDATE:"update"},t.DYNAMIC_QUICK_LINKS_DATA="dynamicQuickLinksData",t.IS_VENDOR_MIGRATION_DONE_KEY="16cbe1ce-31df-43c8-b095-74ac144929e6",t.VENDOR_MIGRATION_KEY="vendor_migration",t.INPUT_TYPES=["text","number","tel"],t.TELEMETRY_DATA_LIMIT=1e3,t.KEY_CODES={ESCAPE_KEY:27,ENTER_KEY:13},t.AB_TESTING_VIEWS={GOOGLE_APPS:"GOOGLE_APPS"},t.MULTIVARIATE_SDK_CONFIG={SCHEDULER_INTERVAL:864e5,CDN_URL:"https://static.nortoncdn.com/nortonextensionhomepage/multi-variate-testing-rules.json",ROOT_CA:`
      -----BEGIN CERTIFICATE-----
      MIIEvjCCA6agAwIBAgIQBtjZBNVYQ0b2ii+nVCJ+xDANBgkqhkiG9w0BAQsFADBh
      MQswCQYDVQQGEwJVUzEVMBMGA1UEChMMRGlnaUNlcnQgSW5jMRkwFwYDVQQLExB3
      d3cuZGlnaWNlcnQuY29tMSAwHgYDVQQDExdEaWdpQ2VydCBHbG9iYWwgUm9vdCBD
      QTAeFw0yMTA0MTQwMDAwMDBaFw0zMTA0MTMyMzU5NTlaME8xCzAJBgNVBAYTAlVT
      MRUwEwYDVQQKEwxEaWdpQ2VydCBJbmMxKTAnBgNVBAMTIERpZ2lDZXJ0IFRMUyBS
      U0EgU0hBMjU2IDIwMjAgQ0ExMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKC
      AQEAwUuzZUdwvN1PWNvsnO3DZuUfMRNUrUpmRh8sCuxkB+Uu3Ny5CiDt3+PE0J6a
      qXodgojlEVbbHp9YwlHnLDQNLtKS4VbL8Xlfs7uHyiUDe5pSQWYQYE9XE0nw6Ddn
      g9/n00tnTCJRpt8OmRDtV1F0JuJ9x8piLhMbfyOIJVNvwTRYAIuE//i+p1hJInuW
      raKImxW8oHzf6VGo1bDtN+I2tIJLYrVJmuzHZ9bjPvXj1hJeRPG/cUJ9WIQDgLGB
      Afr5yjK7tI4nhyfFK3TUqNaX3sNk+crOU6JWvHgXjkkDKa77SU+kFbnO8lwZV21r
      eacroicgE7XQPUDTITAHk+qZ9QIDAQABo4IBgjCCAX4wEgYDVR0TAQH/BAgwBgEB
      /wIBADAdBgNVHQ4EFgQUt2ui6qiqhIx56rTaD5iyxZV2ufQwHwYDVR0jBBgwFoAU
      A95QNVbRTLtm8KPiGxvDl7I90VUwDgYDVR0PAQH/BAQDAgGGMB0GA1UdJQQWMBQG
      CCsGAQUFBwMBBggrBgEFBQcDAjB2BggrBgEFBQcBAQRqMGgwJAYIKwYBBQUHMAGG
      GGh0dHA6Ly9vY3NwLmRpZ2ljZXJ0LmNvbTBABggrBgEFBQcwAoY0aHR0cDovL2Nh
      Y2VydHMuZGlnaWNlcnQuY29tL0RpZ2lDZXJ0R2xvYmFsUm9vdENBLmNydDBCBgNV
      HR8EOzA5MDegNaAzhjFodHRwOi8vY3JsMy5kaWdpY2VydC5jb20vRGlnaUNlcnRH
      bG9iYWxSb290Q0EuY3JsMD0GA1UdIAQ2MDQwCwYJYIZIAYb9bAIBMAcGBWeBDAEB
      MAgGBmeBDAECATAIBgZngQwBAgIwCAYGZ4EMAQIDMA0GCSqGSIb3DQEBCwUAA4IB
      AQCAMs5eC91uWg0Kr+HWhMvAjvqFcO3aXbMM9yt1QP6FCvrzMXi3cEsaiVi6gL3z
      ax3pfs8LulicWdSQ0/1s/dCYbbdxglvPbQtaCdB73sRD2Cqk3p5BJl+7j5nL3a7h
      qG+fh/50tx8bIKuxT8b1Z11dmzzp/2n3YWzW2fP9NsarA4h20ksudYbj/NhVfSbC
      EXffPgK2fPOre3qGNm+499iTcc+G33Mw+nur7SpZyEKEOxEXGlLzyQ4UfaJbcme6
      ce1XR2bFuAJKZTRei9AqPCCcUZlM51Ke92sRKw2Sfh3oius2FkOH6ipjv3U/697E
      A7sKPPcw7+uvTPyLNhBzPvOk
      -----END CERTIFICATE-----
      `},t.PRODUCT_NAME_CATEGORY_MAP={"Norton Safe Web":"Safeweb","Norton Safe Search":"Safesearch","Norton Home Page":"Homepage"},t.OCODE_PROVIDER={AB_TEST:"AB_TEST"},t.OCODE_KEYS={hp:"DHP_OCODE",ds:"DS_OCODE"},t.GOOGLE_APPS_CLICK="google_apps_click",t.EXTENSION_INSTALL_MONTH_YEAR="extension_install_month_year",t.FORMJACK_TOUR_DISPLAYED="formjack_tour_displayed",t.ALARM_NAMES={QUICK_LINKS:"f5392882-c85d-4489-a2f0-dd5e0a3c2460",TELEMETRY_NOTIFICATION:"29332c3b-10cf-4823-a010-46970bcb2148",TWITTER_FEEDS:"9c7ed636-9d4f-4c71-92e1-7a842a7e469e",FETCH_ANTI_TRACKER_STATUS:"8a6cc5c9-4253-4be7-89a4-45e9bb836235",PERIODIC_ANTI_TRACKER_SCHEDULER:"c36c6aa6-a53d-4daf-8763-b3c1e7a8309e",FORMJACK_TOUR_SCHEDULER:"024c3630-494a-11ed-bde3-0800200c9a66",TELEMETRY_NOTIFICATION_AUTOHIDE:"6fdb09df-6f1a-46d6-9a5e-b3d65973eb76",TELEMETRY_NOTIFICATION_DUE_CHECK_WAKEUP:"0fe31fa6-d0ca-448c-b8aa-305ea0e13fa8",ADM_FETCH_ALARM:"a29d5c05-e7f8-4cec-ac80-64a4a29f2835"},t.MS_TO_MIN_CONVERSION_VALUE=6e4,t.DS_REDIRECTOR_RULE_COUNT=1,t.ALLOCATED_LENGTH="allocated_length",t.ID="id",t.ERROR="error",t.ERROR_MESSAGES={MAX_RULES_COUNT_EXHAUSTED:"Exhausted max dynamic rules",PARTIAL_RULE_IDS_ALLOCATION:"Unable to allocate requested number of rule ids"},t.TELEMETRY_NOTIFICATION_DUE_TIMESTAMP="telemetryNotificationDueTimestamp",t.TELEMETRY_NOTIFICATION_ID_KEY="telemetryNotificationId",t.BLOCKED_DOMAIN="blockedDomain",t.ORIGINAL_URL="originalURL",t.BLOCK_TYPE="blockType",t.BLOCK_DELAY="blockDelay",t.BLANK_TAB_LINK="about:blank",t.NEW_TAB="about:newtab",t.EXTENSION_URL="chrome-extension://",t.UI_PATH="/content/ui/",t.FORMJACK_LEARNMORE_LAUNCH_POINT={FORMJACK_TOUR:"formjackTour",FORMJACK_BLOCK_PAGE:"formjackBlockPage"},t.WWW_PATTERN="www.",t.MAIN_FRAME="main_frame",t.QUICK_LINKS_REQUEST="quick_links_request",t.QUICK_LINKS_DATA="quick_links_data",t.HOMEPAGE_LOCATION_DATA="homepage_location_data",t.HOMEPAGE_WEATHER_DATA="homepage_weather_data",t.HOMEPAGE_WEATHER_UNIT="homepage_weather_unit",t.CELSIUS="celsius",t.FARENHEIT="farenheit",t.WEATHERIMAGE_URL="https://static.nortoncdn.com/nortonsafesearch/weatherImages/dark/##WEATHER_ICON##.png",t.BACKGROUND_IMAGE_SETTING="BACKGROUND_IMAGE_SETTING",t.CUSTOM_BACKGROUND_IMAGE="CUSTOM_BACKGROUND_IMAGE",t.NEW_TAB_SETTING="new_tab_setting",t.BOOKMARK_SETTING="bookmark_setting",t.MOST_VISITED_SITES="most_visited_sites",t.WEATHER_WIDGET="weather_widget",t.TIME_WIDGET="time_widget",t.CUSTOM_QUICK_LINKS="custom_quick_links",t.TOP_SITES="top_sites",t.NOT_SET="not_set",t.EXTN_IMAGE="EXTN_IMAGE",t.BROWSERS_MAP={Chrome:"Chrome",Firefox:"FireFox","Edge-Chromium":"Edge",edge:"Edge",chrome:"Chrome",firefox:"FireFox","Norton Secure Browser":"Secure"},t.BROWSER="browser",t.PROD="prod",t.DEFAULT_INSTALL_SOURCE="other",t.CAMPAIGN_CODE={Mac:"rapha",Windows:"medici"},t.DEFAULT_CAMPGN_CODE="medici",t.ONE_DAY_IN_MILLISECONDS=864e5,t.NEW_HP_TOUR_SHOWN="new_hp_tour_shown",t.IS_NEW_USER_FOR_HP_FEATURES="is_new_user_for_hp_features",t.DEFAULT_DARK_MODE_THEME="default_dark_mode_theme",t.PREVIOUS_HP_DARK_MODE_THEME="previous_hp_dark_mode_theme",t.PREVIOUS_BROWSER_DARK_MODE_THEME="previous_browser_dark_mode_theme",t.IS_BROWSER_DARK_MODE_SET="is_browser_dark_mode_set",t.INSTALL_TIME_BROWSER_DARK_MODE_THEME="install_time_browser_dark_mode_theme",t.PREVIOUS_DS_THEME="previous_ds_theme",t.AM_TIME_UNIT="AM",t.PM_TIME_UNIT="PM",t.ENVS="PROD",t.WEB_STORE_URL="web_store_url",t.TWO_IN_ONE_EXTENSIONS="##EXTENSIONS##",t.LEGACY_EXTENSION="old",t.MEDIA_DOT_NET_FEATURE_APPLICABLE="media-dot-net-feature-applicable",t.LOCATION_FETCH_TIMESTAMP="location_fetch_timestamp",t.CURRENT_LOCATION_KEY="current_location_key",t.EXCLUDED_TRACK_VALUES=["t1","t2","T1","T2"],t.EDGE_EXTN_URL_START_KEYWORD="extension://",t.EXTN_URLS=[t.EXTENSION_URL,t.FIREFOX_EXTN_URL_START_KEYWORD,t.EDGE_EXTN_URL_START_KEYWORD],t.PAGE_BLOCK="page",t.SECURE="Secure",t.UNKNOWN="unknown",t.EXTERNAL_EXTENSION_COMMUNICATION_DETAILS={hp:{extensions:[...t.NORTON_HP_EXTENSION_IDS],custom_dimension:e.telemetryConstants.parameters.CUSTOM_DIMENSION43},ds:{extensions:[...t.NORTON_DS_EXTENSION_IDS],custom_dimension:e.telemetryConstants.parameters.CUSTOM_DIMENSION44},sw:{extensions:[...t.NORTON_SW_EXTENSION_IDS],custom_dimension:e.telemetryConstants.parameters.CUSTOM_DIMENSION42},"three-in-one":{extensions:[...t.NORTON_THREE_IN_ONE_EXTENSION_IDS],custom_dimension:e.telemetryConstants.parameters.CUSTOM_DIMENSION45},"media-dot-net":{extensions:[...t.NORTON_MEDIA_DOT_NET_EXTENSION_IDS],custom_dimension:e.telemetryConstants.parameters.CUSTOM_DIMENSION46}},t.OTHER_EXTENSION_DETAILS={hp:["ds","sw","three-in-one","media-dot-net"],ds:["hp","sw","three-in-one","media-dot-net"],sw:["hp","ds","three-in-one","media-dot-net"],"three-in-one":["ds","hp","sw","media-dot-net"],"media-dot-net":["hp","ds","sw","three-in-one"],"two-in-one":["hp","ds","sw","three-in-one"]},t.EXTENSION_ID_NAME_MAP={OldHP:["embphknneakipabfiipdgklmpllaibmh"],OldDS:["eogpedgkejfmehnklhahflpmplhiceal"],Old3IN1:["gkjahlcnbjiangkneanonnndppicobbd"],HP:["mhffmephdchhhbfjmdpoaldedhhdanbn","nortonhomepage@symantec.com","nortonhomepage_ven_y@symantec.com","okplngpklcjmpdemleibnhidjihcobef"],DS:["mpnlkmlkncncpgnnkmkgoobfpnjmblnk","nortonsafesearch_ul@symantec.com","nortonsafesearch_ul_ven_y@symantec.com","nortonsafesearch_ul_2@symantec.com","nortonsafesearch_ul_ven_y_2@symantec.com","ikkagnliefbhcdgnnhfidhhbocdhkdeb"],"3IN1":["eoigllimhcllmhedfbmahegmoakcdakd","nortonthree-in-one_ven_y@symantec.com","nortonthree-in-one@symantec.com"],SW:["fnpbeacklnhmkkilekogeiekaglbmmka","nortonsafeweb@symantec.com","bdaafgjhhjkdplpffldcncdignokfkbo"],mnet:["gojjgcbbgphdindfmmaipdponknepdbi","nortonthree-in-one@symantec.com","lenfbbnmmijmbjociehiknmocnignpkl"]},t.REPETITIVE_EXTENSION_IDS=["embphknneakipabfiipdgklmpllaibmh","eogpedgkejfmehnklhahflpmplhiceal","gkjahlcnbjiangkneanonnndppicobbd"],t.KEEP_ASSIST_UI_SHOWN_FLAG="keepAssistShown",t.FREE="free",t.FULFILLED="fulfilled",t.TIMED_OUT="Timed out",t.SEARCH_COUNT="search_count",t.ACTIVE_USER_SEARCH_LAST_SENT_TIMESTAMP_KEY="70F5C0C4-ACEF-4E6E-8B81-CC26D776685F",t.REPETITIVE_EXTENSIONS=["OldHP","OldDS"],t.LANDING_PAGE_URL="https://search.norton.com/client?",t.SW_BLOCK="SWBlock",t.ONBOARDING_PAGE_URL_PARAMS=[t.PARTNERIDKEY,t.CGUIDKEY,t.URL_PARAMS_KEY.CAMPAIGN_NAME,t.URL_PARAMS_KEY.BROWSER,t.URL_PARAMS_KEY.PARTNER_UNIT_ID,t.URL_PARAMS_KEY.PRODUCT_NAME,t.URL_PARAMS_KEY.VERSION,t.URL_PARAMS_KEY.LAYOUT_TYPE],t.STORAGE_URL_PARAMS_KEY_MAP={[t.PARTNERIDKEY]:t.URL_PARAMS_KEY.PARTNERID,[t.CGUIDKEY]:t.URL_PARAMS_KEY.CGUID,[t.URL_PARAMS_KEY.CAMPAIGN_NAME]:t.URL_PARAMS_KEY.CAMPAIGN_NAME,[t.URL_PARAMS_KEY.BROWSER]:t.URL_PARAMS_KEY.BROWSER,[t.URL_PARAMS_KEY.PARTNER_UNIT_ID]:t.URL_PARAMS_KEY.PARTNER_UNIT_ID,[t.URL_PARAMS_KEY.PRODUCT_NAME]:t.URL_PARAMS_KEY.PRODUCT_NAME,[t.URL_PARAMS_KEY.VERSION]:t.URL_PARAMS_KEY.VERSION,[t.URL_PARAMS_KEY.LAYOUT_TYPE]:t.URL_PARAMS_KEY.LAYOUT_TYPE},t.GEN_PRIVACY_URL="https://www.gendigital.com/privacy",t.GEN_LEGAL_URL="https://www.gendigital.com/legal",t.IS_LINK_GUARD_ENABLED="is_link_guard_enabled",t.FIRST_ROW_QUICK_LINKS="1c327107-c296-44b3-9286-f9d226070f1f",t.COUNTRY_CODE="03dc53d7-892c-4e98-acee-6d01c0e65b3a",t.QUICK_LINKS_RULES_JSON="be9b8a83-5e51-4e71-a144-2e1b12b83029",t.ADM_URL="admUrl",t.STATIC_AD_LINKS="staticAdLinks",t.IMAGE_URL="imageUrl",t.ADM_DATA="57fb887c-37ff-4873-94f4-a39983dd0d8c",t.ADM_FALLBACK_LINKS="admFallbackLinks",t.ADM_FETCH_TIMESTAMP="b2ccbb55-c483-438e-9be4-ce1d60ef95e1",t)})(this),(e=>{var{EDGE_CHROMIUM:t,CHROME:a}=SymBfw.constants.BROWSER_TYPE,n={TYPE:{KNOWNBAD:"knownbad",SUSPECTEDBAD:"suspectedbad",MALICIOUS:"malicious",MALICIOUSSHOP:"maliciousshop",IPS:"IPS",FORMJACK:"FORMJACK"},HTML:"blockedPage.html",parameterKeys:{ORIGINAL_URL:"originalURL",REPORT_URL:"reportURL",BLOCK_PAGE_TYPE:"blockPageType",ULANG:"ulang",CONTINUE_TO_SITE_URL:"continueToSiteURL"}},r={strings:["Safe Web","BLOCKED BY","Possible credit card skimmer blocked!","Learn more","This web address may be associated with the illegal collection of credit card information by cyberthieves.","We strongly recommend you don't enter any information into this page:","Learn technical details","Accept risk and continue","Exit this page (recommended)","Norton","Risky domain blocked","We have blocked a potentially risky domain","Got it","Accept Risk and Continue"],learnMoreStrings:["LEARN MORE","About credit card skimmers and formjacking","What is formjacking?","Malicious actors can compromise online purchase sites in a variety of ways, skimming their checkout pages and stealing your credit or debit card information. This is known as formjacking.","How does formjacking work?","Help protect against cybercriminals' attacks","In the same way that a skimmer creates a fake front on an ATM or a public payment display, such as at a gas station, formjackers can hack into a website's back end. They can then insert code that creates a fake front on the site's payment page and capture your credit or debit card info.","Norton Safe Web's proprietary technology can help protect against formjacking while you shop online. ","We'll notify you if we detect that an e-commerce site has a compromised payment system, ","or if an e-commerce site you're purchasing from has a fake front on their payment page."],descText:"A known malicious website {0} has been embedded into this payment page and could re-route your credit card information.",HTML:"formjackProtectionBlockPage.html"},i={strings:["Norton","Safe Search","Quick Links","Privacy","Search the Web Safely","Legal","Copyright © 2024 Gen Digital Inc. All rights reserved.","NortonLifeLock Latest Updates","Security & Privacy Center","Welcome to Norton Safe Search","Take a tour to see what has changed and make the most of your Safe Search features.","Start Tour","Peace of mind with every search","Norton Safe Search shows site safety ratings in your search results.","Get security updates and tips from Norton","Explore the latest security and privacy blogs from NortonLifeLock and learn more about digital safety.","A tour of Norton Safe Search is available in Settings.","Next","Done","The Quick Link you're trying to add is already provided for you.","Title","URL","Edit your quick link","Add","Cancel","Save","Edit","Remove","Add a quick link","Add new","Type a valid URL","Quick Links is all new!","Add your favorite sites to the new Quick Links bar.","Quick links to access popular sites with ease","Editable quick links","See Forecast","Fahrenheit","FarenheitUnit","Celsius","CelsiusUnit","Settings","General","Other","New tab","Launch the search links in a new tab","Show bookmark bar","Requires additional permission","Quick links","Most-visited sites","Shown based on websites","Custom quick links","Quick links added by you","Customize","Extension theme","Show weather widget","Show time widget","Background image","Background","Choose","Restore to default","Share data with norton","Share usage and error data anonymously","Light mode","Dark mode","Manage bookmarks","Choose image","Choose an image from your device","Gallery","Choose from one of five images","Choose from one of five images","Norton Safe Search!","Upload one of your own","Choose from 5 Norton backgrounds","Available for Chrome","Show most-visited sites","Got It","Quick links to websites","Default theme","Hidden bookmarks","SHARE DATA WITH NORTON","Available for Edge","Manage favorites","Show favorites bar","Hidden favourites","Ad"],googleApps:{}},s=(i.googleApps.strings={moreAppsText:"More Apps",tourStrings:{"Link to your apps":"Link to your apps","Access your apps quickly and easily from your Norton Home Page.":"Access your apps quickly and easily from your Norton Home Page.",Done:"Done"}},{strings:["Home Page","Safe Web","Safe Search","Safe Search Enhanced","Secure Search","Settings","Share Data with Norton","Share usage and error data anonymously with Norton and help us make our products even better","Privacy","Signed in as","Sign out","Link Guard","Identify unsafe links in Webmail, Facebook, and Twitter","Learn More","Start Tour","New","Permissions"]}),E={key:"locationWeatherService",strings:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday","January","February","March","April","May","June","July","August","September","October","November","December"]},o={strings:["You have successfully logged out of your NortonLifeLock Account","Sorry, something went wrong. Please try again."]},_={HTML:"content/ui/privacy-prompt.html",strings:["Norton Safe Web","Let us help protect you","To better understand our data collection policies, please visit our","Global Privacy Statement","Accept","Decline","Decline & Uninstall","Your Permission Is Required","Should you decline then Norton Safe Web will not work and won't be able to provide safety ratings for sites for you.","Please click below to review your permission and accept our request to collect the anonymous information you submit.","Review Your Permissions","Remove Norton Safe Web","Share usage and error data anonymously with Norton to help make our products and services even better.","Mozilla Firefox has updated its add-ons policy. Please give your permission again to continue using Norton Safe Search."],sw:{productName:"Norton Safe Web",description1:"Norton Safe Web must have permissions to access and collect the web addresses (urls) that you visit. ",description2:"This way, we can provide safety ratings that can help protect while browsing the Web.",declineText:"Should you decline, Norton Safe Web will not work and won't be able to provide safety ratings for sites for you.",uninstallDialogMessage:"\n Uninstalling Safe Web will mean that Norton will not be able to detect if sites are malicious and can't help protect you. We recommend clicking keep Installed and accepting permission for Safe Web to operate on your device. \n"},ds:{productName:"Norton Safe Search",description1:"Safe Search must have permission to collect the web addresses you search on, to determine if the sites are malicious before you visit them.",description2:"This will enable us to detect whether they are malicious, and will let us warn you before you access them.",declineText:"If you decline, Safe Search will not be able to help protect your device from malicious sites.",uninstallDialogMessage:"\n Uninstalling Safe Search will mean that Norton will not be able to detect if the site results you find are malicious, nor can we help protect you. We recommend clicking on Keep Installed and accepting permission for Safe Search to operate on your device.\n",protectText:"Search more safely, protect your device"},hp:{productName:"Norton Home Page",description1:"Home Page must have permission to access and collect the web addresses that you search on. ",description2:"This way, we can help detect whether these sites are malicious before you access them.",declineText:"If you decline, Home Page will not be able to help protect you from malicious sites.",uninstallDialogMessage:"\n Uninstalling Norton Home Page will mean that Norton will not be able to detect if the sites you search are malicious, nor can we help protect you. We recommend clicking Keep Installed and accepting permission for Home Page to operate on your device.\n",protectText:"Search more safely from your home page"},"three-in-one":{productName:"Norton Safe Search",description1:"Norton must have permission to access and collect the web addresses that you browse on the web, from your address bar, and your home page. ",description2:"This way, we can help detect whether the sites you searched are malicious before you access them, and provide you with safe search results.",declineText:"If you decline, Norton will not be able to help protect your device from malicious sites, nor will we be able to provide you with safe search results.",uninstallDialogMessage:"\n Uninstalling Norton Safe Search will mean that Norton will not be able to detect if the sites you search are malicious, nor we will be able to provide any safe search results for you. We recommend clicking on Keep Installed and accepting permission for Safe Search to operate on your device.\n",protectText:"Search more safely, protect your device"}},T={EXISTING_USER:"existingUser",NEW_USER:"newUser"};(n={MESSAGES:{BLOCKEDPAGE_SEARCH:"93D3C1B6-E181-48DA-8841-EB995ADC5D48",BLOCKEDPAGE_INIT:"049B762D-F8CB-4BB1-93AB-F9D55E13D65E",BEFORE_UNLOAD_EVENT:"6D54B993-F098-4C47-B4CC-596C3D22E402",DOMEVENT:"4BEBC3FD-7552-4AE9-9FB1-717AA14B650A",SHOW_ANNOTATION_POPUP:"9BBDD5C9-4BAF-44EC-9F29-67AD5E2CF524",CLOSE_ANNOATION_POPUP:"47420986-DBE5-471F-8D64-64DCEBDF8541",FLAVOR_RETRIEVED:"554E40BF-48A3-416D-8988-9661B90F94CC",OPEN_DO_NOT_BLOCK_PAGE:"54E66C14-3E30-4F16-B4BC-259C662FF64B",EXIT_BLOCK_PAGE:"f9ce33f9-62c4-4cbb-a5a5-272fc572e299",HANDLE_UI_EVENTS:"B2C77321-D8F4-47A8-DCCF-D99BE95F4BC9",UPDATE_POPOVER_UI:"642A1139-910F-4D9A-B15F-12BBB6AA6276",SET_TELEMETRY_ENABLED:"6213A0CF-075B-42BB-861A-0E54D62DE44E",SET_LINK_GUARD_ENABLED_NOTIFICATION:"F1E723C0-325B-4B40-8105-DE45FF866910",SETTINGS_PRIVACY_POLICY:"53E7B83C-CB55-463F-91B0-41F125589605",SIGN_OUT:"5CC02BA4-A79E-4451-B64A-B61217EC6B16",SETTINGS_PAGE_UI_INIT:"99534CCC-1303-4135-B98F-2B57FB3C2115",OPEN_IPS_LEARN_MORE_URL:"B63BF039-0BF2-4ED4-AD7F-61C482CF5E1D",SET_DS_VENDOR:"051cc1e3-0abf-45de-97ea-318b8904104a",STORE_CLICK_PREVENTION_URL:"0F830272-E06E-4E97-BC06-4D2BD5DC8D9A",RETRIEVE_CLICK_PREVENTION_URL:"9EAC3837-7ECF-4C03-9A74-D848ECD9012C",ADD_TO_CLICK_PREVENTION_SAFELIST:"7A4A8585-40B8-406C-B63B-3CD865C58584",UNDO_CLICK_PREVENTION:"2E9E571E-93AA-468E-AC40-B451BE79B1C5",REDO_CLICK_PREVENTION:"890F7575-59ED-42D4-9DEE-D76FF84941F0",CLICK_PREVENTION_FAILURE_TELEMETRY:"D7FADF7A-4055-4005-82BC-3F75FE2C2ACB",GET_HOME_PAGE_METADATA:"e4e8577d-7976-4bbf-ba6f-07a749055ec5",EXTN_HOME_PAGE_CHICKLET_CLICKED:"B379AF5D-9FE4-4EEF-AD39-6F846E2D1FA5",EXTN_HOME_PAGE_CHICKLET_SAVE_CLICKED:"E04BD857-F611-4143-884F-1D6C20F182A7",EXTN_HOME_PAGE_UPDATE_CUSTOM_CHICKLETS_LINKS:"896B1FD3-E70B-4DF3-8F8F-33763E3D9809",EXTN_HOME_PAGE_CHICKLET_TO_REMOVE:"53B69E14-A518-45EC-B583-2A88121E0463",EXTN_HOME_PAGE_SEARCH_SUGGESTION_CLICKED_TELEMETRY:"6D512FFF-A83B-4B47-ADAA-20EDB120CD9F",EXTN_HOME_PAGE_SEARCH_BUTTON_CLICKED_TELEMETRY:"C335B6F1-8FCE-44C5-9016-2AC8270301EB",EXTN_HOME_PAGE_LOADED_TELEMETRY:"9E2E8EF4-DB13-40ED-89A1-742852A9DD17",EXTN_SETTINGS_PAGE_LOADED_TELEMETRY:"60343FBA-DDF4-401F-9262-D8C6FCA1D6B5",LAUNCH_SEARCH_TAB_WITH_URL:"6ABBBAED-6E04-4B97-A95B-435D84AE7505",GET_INTERNAL_IDENTIFIER:"fe1ddbad-808a-4d79-bcdd-6d22e2927e97",SEND_INTERNAL_IDENTIFIER:"27e166ee-48a1-4323-ad53-5e398bdf0d8f",LAUNCH_SETTINGS_PAGE:"CAC12841-6D25-4079-A72A-42B2D952BB79",BACKGROUND_SCRIPT_LOADED:"48e97d22-e7a6-4bc0-af9e-94d88ff183d6",SHOULD_SHOW_HP_KEEP_ASSIST_POPUP:"0b0ca639-62c7-4102-879d-5cfe25fe4c29",SHOULD_SHOW_DS_KEEP_ASSIST_POPUP:"0dcb230f-23e7-4381-ba9d-356b585fea83",CLOSE_KEEP_ASSIST_UI:"de5136ec-11a1-4912-9f9f-c12372f1cdae",KEEP_ASSIST_UI_INIT:"13d25c2b-9131-4c13-953b-d1a2afae0b18",DONE_BUTTON_CLICKED:"02ed873b-f533-40bf-a5e1-6c20cdfc98b2",KEEP_ASSIST_SHOWN:"ed5488de-abf0-41a4-94ef-9e18af537066",OPEN_LEGAL_PAGE:"e46c5d2e-846e-447e-922f-4ec8934d4af4",GET_VENDOR:"d2abce22-27da-4122-94ee-c277494082a6",EXTN_HOME_PAGE_ENGLISH_ONLY_HP_SHOWN_TELEMETRY:"E6E728A3-24E1-48FF-BB97-124492C0D0DE",EXTN_HOME_PAGE_TWEET_ITEM_CLICKED:"C467AE5D-48FA-4A5B-B7DF-710C6B859B32",EXTN_HOME_PAGE_SECURITY_CENTER_NEWS_ITEM_CLICKED:"793C067F-6E5A-45A5-B8E1-365533384D05",SET_SHOW_SECURITY_CENTER_SECTION_VALUE:"6e01fb7b-174b-4a0f-808b-8b1767f83dfb",SET_SHOW_TWITTER_SECTION_VALUE:"340d7d54-5206-4a6b-8626-6e0556208931",START_HOME_PAGE_TOUR:"3E8A4897-90E1-41A6-83E7-55AD23374BB4",HOME_PAGE_TOUR_FINISHED:"1A57CC55-D8E6-41B3-B43C-A5277D248B90",HOME_PAGE_TOUR_KEY_PRESSED_FOR_CANCEL:"ad724e8e-cc19-445d-96e5-6961df21ba41",HOME_PAGE_TOUR_KEY_PRESSED_FOR_NEXT:"6f7f4f07-6db0-46ba-bc6f-5c9ce0b34059",CUSTOM_QUICK_LINK_TRIGGER_EVENT:"04d7e66e-0c38-4494-ace7-7850102b4c97",CUSTOM_QUICK_LINK_FAILURE:"df4843ac-e61c-40d1-b957-dd7a60ab4868",CUSTOM_QUICK_LINK_TOUR_FINISHED:"6026950A-4EA9-41F5-BC22-5D6BDB580ACE",PRIVACY_PROMPT_SCREEN_UI_INIT:"cbb8971e-963a-4f71-9b16-b560de122867",ON_PRIVACY_CONSENT_ACCEPT:"E43EEFB7-DEAD-4346-B214-F05EAD311786",ON_PRIVACY_CONSENT_DECLINE:"17F71FD7-9CFA-4351-86B2-12D14A5C104C",ENABLE_ALL_FLOW_FROM_PORTAL:"CE6526AB-1B8E-4E2D-84C7-04B39F04755D",OPEN_GLOBAL_PRIVACY_PAGE:"A40E3D55-068D-4902-BC0B-1AEC35CC424E",REMOVE_NSW_CLICKED:"7E455748-157F-4FDB-A5CD-63F0A3F0BBB2",ENABLE_ALL_COMMUNICATION_LISTENER_ADDED:"713ECFCB-F442-40B3-802B-661DE44C72A0",SEND_TELEMETRY_HOMEPAGE:"b82e9a05-e902-40e9-bde7-759db67dddfb",UPDATE_EXTENSION_ICON:"84011348-554B-46A0-A6C1-C7C4DE6DB28B",EXTENSION_INSTALLATION_TRIGGERED:"aa5fc70a-1979-4684-97f1-a4fbe8bc7ad5",EXTENSION_ENABLE_FLOW_TRIGGERED:"a9eac864-f2f5-4fd9-825e-962bfffa4596",LOAD_STORE_URL:"71c5234a-6dae-48a0-b5c0-7a088e1ca022",CLOSE_STORE_PAGE:"803eefc4-40ef-445e-8a6e-a072e5db04f3",GET_EXTENSIONS_STATUS:"2316b873-1c22-4470-a66a-739ed1af1b5d",EXTENSION_INSTALLED_RESPONSE:"3dc56984-701c-41fa-864f-f93d2cc08dca",CC_TELEMETRY_CAPTURE_NETWORK_CALLS:"4856CB31-43BD-4EC6-98BA-981B60CDEA9D",GET_PRIVACY_CONSENT_ACKNOWLEDGEMENT_STATUS:"4576b88b-9bd3-4a80-88f6-0efe1b545084",GOOGLE_APP_CLICKED:"C679AFTR-9FF6-4EGT-AD67-6F857F2D1FA4",MORE_GOOGLE_APPS_CLICKED:"b4a0bb95-20fe-4839-afda-569b74c048ed",GOOGLE_APPS_POPUP_SHOWN:"fab33274-8a50-42e1-a640-8d41c9eda833",FORMJACK_PROTECTION_MONITOR_NETWORK_CALLS:"5e4c1418-f828-433d-a282-702d7e390b49",FORMJACK_BLOCKPAGE_INIT:"a4b68533-7679-4473-b121-6489958b15b3",FORMJACK_NOTIFICATION_INIT:"9fd951ca-b07d-4a90-9a15-848a00c61dc5",FORMJACK_CONTINUE_TO_SITE:"47f641ccb66f42e4af12112265fd91c7",FORMJACK_LEARN_MORE_LINK_CLICK:"b5a65793-8258-4282-ba3a-dc581ca52e52",FORMJACK_LEARN_TECHNICAL_DETAILS_CLICK:"929c9862-2e0f-478a-9790-3e1eb943a952",FORMJACK_EXIT_PAGE:"21c397aa-6181-488f-8204-1a40c3eef67e",FORMJACK_TOUR_UI_INIT:"cf3508b1-a9ce-4474-aac9-d74fc3980be5",FORMJACK_TOUR_CLOSE_BUTTON_CLICKED:"41de4468-0242-478c-b7cf-7351c276db57",FORMJACK_TOUR_UI_SHOWN:"9b85d40b-168e-483e-8ab4-75146ef780c8",FORMJACK_TOUR_LEARN_MORE_LINK_CLICKED:"979aceea-5385-4cda-a7be-4d66ceba4ef8",FORMJACK_PROTECTION_LEARN_MORE_UI_INIT:"b0bcb28c-e469-4a4c-a8b9-f2eebbb1de6f",ACCU_WEATHER_WIDGET_DATA:"051FABA9-7668-4328-8BB9-2FAFF918DCE2",BOOKMARKS_TOGGLE:"9d643f07-65a9-470d-8770-fc9d6361e8be",BOOKMARKS_SETTINGS_TOGGLED:"068efa47-6084-4284-8a7b-e15399a7a3b6",BOOKMARK_MANAGER_CLICKED:"20809d17-5eaa-4677-b080-a3fe527410cc",RESET_HP_DEFAULT_SETTINGS:"731F75C5-4295-4D1F-BDB7-79CCC0951E85",GET_HP_DEFAULT_SETTINGS:"2186FCE1-0604-4FE2-B1F5-5F106E5C2DF2",SAVE_HP_SETTINGS:"81537A09-7EF0-4D3D-9BFF-A633644E5C51",GET_BACKGROUND_IMAGE_DATA:"91CCAB4C-8155-4D15-82F3-2F633D84B16E",SET_BACKGROUND_IMAGE_DATA:"275AC7E8-44D4-4259-BF4D-6A05D7423FCE",MOST_VISITED_SITES_TOGGLE:"ce47f12e-d8ee-4a75-81f5-28ab62ace83a",MOST_VISITED_SITES_SETTINGS_CHANGE:"cd4bfeab-7cea-4ae9-9822-6d67f229397e",BACKGROUND_IMAGE_UPDATE:"6fd707dd-b519-4c5f-8d81-b58122ab4329",WEATHER_WIDGET_CLICK:"6d383618-7ab4-40e2-8820-235e52890dd5",WEATHER_WIDGET_UNIT_CHANGED:"1D59A4B0-6E9F-4A3C-B0BA-575F8D8E918D",WEATHER_SETTINGS_TOGGLED:"72457b2e-e859-41ea-a5b6-1349298ba80d",UPDATE_WEATHER_WIDGET:"a6709c67-0afa-4eb6-b67d-6f9dfc30631d",TIME_WIDGET_SETTINGS_TOGGLED:"fbe6b172-1f5d-4b79-85da-89b9f8a410d9",NEW_TAB_SEARCH_TOGGLED:"11569906-c001-4b1f-9854-1357ff1e8ba3",TOUR_CLOSE_ICON_CLICKED:"d7b79f32-b555-4493-9a87-01a66606af11",TOUR_GOT_IT_CLICKED:"bc4486f8-0f28-428c-a44d-d29562989110",DARK_MODE_THEME_CHANGE_EVENT:"3b6d4c8c-d789-47de-977c-955886c697d4",GET_DARK_MODE_THEME:"d22bf198-804b-4e4e-be70-4a831585548f",BROWSER_DARK_MODE_THEME_CHANGED:"a95ac300-71cf-4fe7-8533-4f886f18001e",IS_HP_DARK_MODE_HANDLER:"44c4e3d3-85f2-4308-b650-f936ae221293",INIT_BROWSER_DARK_MODE_THEME:"3a899543-ed27-4f9d-9cda-4d330a17ee89",BOOKMARKS_URL_CLICKED:"3b834ee8974140a89c4e0a08001be393",HP_NEW_TOUR_CLOSED:"e2e27af0-4023-4e6b-ae3c-95c34368ccee",UPDATE_HP_TOUR:"58548e4b-efcd-4885-8cf3-94f209776d54",CLOSE_HP_TAB:"c2a8c2f2-dcf2-4574-8621-332ed2c0ecb6",FORMJACK_GOT_IT_CLICKED:"5976aaaf-2f7d-42d2-b624-172857c35eaa",EXTENSION_EXISTENCE_CHECK:"ddb10b41-56a3-4434-a344-3b768abdc534",INSTALL_BUTTON_CLICK:"64c7ccb7-15b2-4118-b51d-b2cb0330a2fd",BLOCKPAGE_PROMOTION_TILE_SHOWN:"81d6e7a7-b01d-4de5-9d45-9fb4194602ba",EXTENSIONS_PROMOTION_DATA:"9cf0ca2f-4efd-4e2f-bcbe-dd417649db56",UPDATE_FG_LINK_GUARD:"3da932c5-b445-4610-82ad-3693398e75ef",UPDATE_QUICK_LINKS:"e9bb441c-d42a-4dc4-bd19-ea7f9de69df7"},BLOCKPAGE:n,SETTINGS_UI:s,BROWSER_NOTIFICATION:o,HOMEPAGE:i,PRIVACY_PROMPT_SCREEN:_,KEEP_ASSIST_UI:{productNamePart1:"Norton",productNamePart2:"Secure Search",title:"Almost done!",description:"To complete installation, click",keepItText:"Keep It"},FORM_JACK_PROTECTION_BLOCK_PAGE:r,FORMJACK_TOUR_UI:{HTML:"content/ui/formjackTour.html",[T.EXISTING_USER]:{header:{title:"New feature from Norton Safe Web!",description:"Protection from Formjacking"},tiles:{creditCard:{description:"Norton Safe Web can help you avoid formjacking while you shop online."},paymentAlert:{description:"We'll notify you if we detect that the site you're buying from has a compromised payment system."}},footer:{description:"What is formjacking?",linkText:"Learn More"}},[T.NEW_USER]:{header:{title:"Norton Safe Web",description:"Thanks for installing",descriptionSuffix:"Norton Safe Web!",subDescription:"Take advantage of all these great features:"},tiles:{websiteRatings:{title:"Website Ratings",description:"Our website ratings will let you know if a site is safe or if you should be cautious before providing it with your data."},intrusionPrevention:{title:"Intrusion Prevention",description:"Norton Safe Web helps protect against known bugs and cyberthreats in popular browsers."},formjackPrevention:{title:"Formjacking Prevention",description:"Norton Safe Web will notify you if it detects an e-commerce site has a compromised payment system."},websiteBlocking:{title:"Website Blocking",description:"Norton Safe Web notifies you, then helps block malicious sites before you click."},antiPhishing:{title:"Anti-Phishing Protection",description:"This feature lets you know if the site you're clicking on is officially certified, not a phishing site."},linkGuard:{title:"Link Guard",description:"Scans webmail and social media feeds for links that are suspicious or malicious."}}}},LOCATION_WEATHER_SERVICE:E,EXTENSION_TYPE:"hp",MEDIA_DOT_NET_EXTENSION:"media-dot-net",PROD_MEDIA_DOT_NET:"mnet",SAFEWEB_EXTENSION:"sw",TWO_IN_ONE:"2in1",THREE_IN_ONE:"three-in-one",HOMEPAGE_EXTENSION:"hp",DEFAULT_SEARCH_EXTENSION:"ds",BROWSER_NOTIFICATION_IMAGE:"../../Icon-48.png",HomepageTourSteps:{WELCOME_DIALOG:"welcome_dialog",SEARCH_BOX:"search_box",STATIC_CHICKLETS:"static_chicklets",CUSTOM_CHICKLETS:"custom_chicklets",TWITTER_FEEDS:"twitter_feeds",SECURITY_CENTER_FEEDS:"security_center_feeds",SETTINGS_ICON:"settings_icon",GOOGLE_APPS:"google_apps"}}).ChickletsTourStepsData={id:"chickeltTour",start:n.HomepageTourSteps.STATIC_CHICKLETS,[n.HomepageTourSteps.STATIC_CHICKLETS]:{positionCSS:" tooltip-position-static-chicklets ",pageNumberText:"1/2",nextStep:n.HomepageTourSteps.CUSTOM_CHICKLETS,descriptionText:"Quick links to access popular sites with ease",buttonText:"Next"},[n.HomepageTourSteps.CUSTOM_CHICKLETS]:{positionCSS:" tooltip-position-custom-chicklets ",pageNumberText:"2/2",nextStep:null,titleText:"Editable quick links",descriptionText:"Add your favorite sites to the new Quick Links bar.",buttonText:"Done"}},n.KEY_CODES={ENTER:13},n.formjackTour={TOUR_TYPE:T,TOUR_TYPE_PARAM:"tour_type"},n.formjackTourData={[T.NEW_USER]:{windowStyle:{container:"formjack-tour-container-new-user",imageWrapper:"formjack-tour-image-new-user",image:"img-formjack-tour-image"},tileStyle:{container:"formjack-tour-tiles-container-new-user",wrapper:"formjack-tour-tile-wrapper-new-user",textWrapper:"formjack-tour-tile-text-wrapper-new-user",image:"formjack-tour-tile-image-new-user",description:"formjack-tour-tile-description-new-user",title:"formjack-tour-tile-title-new-user"},headerStyle:{container:"formjack-tour-header-container-new-user",titleWrapper:"formjack-tour-header-title-wrapper-new-user",title:"formjack-tour-header-title-new-user",descriptionWrapper:"formjack-tour-header-title-description-wrapper",description:"formjack-tour-header-title-description-new-user",descriptionSuffix:"formjack-tour-header-title-description-suffix-new-user",subDescription:"formjack-tour-header-title-sub-description-new-user"},tilesData:[{image:"formjack-tour-wrs-tile",tag:"websiteRatings"},{image:"formjack-tour-ips-tile",tag:"intrusionPrevention"},{image:"formjack-tour-fj-tile",tag:"formjackPrevention"},{image:"formjack-tour-block-tile",tag:"websiteBlocking"},{image:"formjack-tour-lg-tile",tag:"linkGuard"},{image:"formjack-tour-phish-tile",tag:"antiPhishing"}]},[T.EXISTING_USER]:{windowStyle:{container:"formjack-tour-container",imageWrapper:"formjack-tour-image",image:"img-formjack-tour-image"},tileStyle:{container:"formjack-tour-tiles-container",wrapper:"formjack-tour-tile-wrapper",textWrapper:"formjack-tour-tile-text-wrapper",image:"formjack-tour-tile-image",description:"formjack-tour-tile-description",title:"formjack-tour-tile-title"},headerStyle:{container:"formjack-tour-header-container",titleWrapper:"formjack-tour-header-title-wrapper",title:"formjack-tour-header-title",descriptionWrapper:"formjack-tour-header-title-description-wrapper formjack-tour-header-title-description-wrapper-existing-user",description:"formjack-tour-header-title-description",subDescription:"formjack-tour-header-title-sub-description"},tilesData:[{image:"formjack-tour-cc-tile",tag:"creditCard"},{image:"formjack-tour-alert-tile",tag:"paymentAlert"}]}},n.DARK_MODE_PARAM="darkMode",n.SAME_TAB_LAUNCH_SERP_PARAM="sameTabLaunch",n.IS_DARK_MODE_SET="isDarkModeSet",n.IS_BROWSER_DARK_MODE_SET="isBrowserDarkModeSet",n.THEMES={LIGHT_THEME:"light",DARK_THEME:"dark",BROWSER_THEME:"browser_theme"},n.BOOKMARK_MANAGER_URL={[a]:"chrome://bookmarks/",[t]:"edge://favorites/"},n.HP_SETTINGS_CHANGED_EXTERNAL="62049E2D-5705-446C-9EF9-04E4E008614A",n.GET_HP_SETTINGS_EXTERNAL="A66F2621-583E-487D-B65A-D2B3440F9FA8",n.DARK_MODE_ICON="Icon-dark-32.png",n.LIGHT_MODE_ICON="Icon-32.png",n.SERP_URL_LIST=["https://nortonsafe.search.ask.com/*"],n.UPDATE_ACTIVE_TAB_URL="A7DD7938-5B0A-474F-A05C-5B5127A9593E",n.DEFAULT_IMAGE="DEFAULT_IMAGE",n.NORTON_SAFE_WEB="Norton Safe Web",n.NORTON_SECURE_SEARCH="Norton Secure Search",(e.NSSS=e.NSSS||{}).uiConstants=n})(executionContext),executionContext,NSSS.customDarkModeConstants=class{static get CUSTOM_DARK_MODE_SETTINGS_CONTAINER(){return"5AA8B3EA-5CC8-47D3-A10F-1515CE95C57D"}static get SET_CUSTOM_DARK_MODE_THEME(){return"BB0848F4-A3D3-4DF7-A782-271862C0A147"}static get GET_CUSTOM_DARK_MODE_THEME(){return"F598B8A1-C1FC-4548-89A0-239FDA2E6573"}static get CUSTOM_DARK_MODE_THEME_CHANGE_EVENT(){return"ED5953E9-7046-4B52-8C52-FF2660722BED"}static get CUSTOM_DARK_MODE_THEME(){return"CUSTOM_DARK_MODE_THEME"}static get SET_DARK_MODE_EXTERNAL(){return"770712B7-33C0-4880-8EE9-5B0C9D852F9C"}},(e=>{(e.NSSS=e.NSSS||{}).globalSettings=((t,r)=>{var i={},a=r.constants;let{utils:{isNil:s,isntNil:n,isFunction:e,isString:E,isBoolean:o,isArray:_,isEmptyObject:T,isObject:S,isNumber:l},settings:c,logger:A}=t;return i.settingsContainer=null,i.initialize=function(n){if(!e(n))throw new Error("callback must be a function");c.loadSettingsContainer(a.NSSS_GLOBAL_SETTINGS_CONTAINER,!0,function(e,t,a){!1===e||s(t)?(A.error("failed to load NSSS_GLOBAL_SETTINGS_CONTAINER"),n(!1)):(i.settingsContainer=t,i.getCGuid(),n(!0))})},i.getValue=function(e){return s(this.settingsContainer)?(A.error("settings not initialized"),null):this.settingsContainer.getObject(e)},i.setValue=function(e,t){s(this.settingsContainer)?A.error("settings not initialized"):this.settingsContainer.setObject(e,t)},i.getDefaultHomepage=function(){return i.getValue(a.DEFAULT_HOMEPAGE)},i.getDefaultSearch=function(){return i.getValue(a.DEFAULT_SEARCH)},i.setDefaultHomepage=function(e){i.setValue(a.DEFAULT_HOMEPAGE,e)},i.setDefaultSearch=function(e){i.setValue(a.DEFAULT_SEARCH,e)},i.setCurrentDateAsDoi=function(){var e=r.helperUtils.getNormalizedDateString();i.setInstallDate(e)},i.getInstallDate=function(){var e=i.getValue(a.NSSS_INSTALLDATEKEY);return s(e)&&(i.setCurrentDateAsDoi(),e=i.getValue(a.NSSS_INSTALLDATEKEY)),e},i._getNormalizedDateString=function(e){e=r.helperUtils.convertDateStringToNormalizedDateString(e);return e||r.helperUtils.getNormalizedDateString()},i.setInstallDate=function(e){var t;n(e)&&(t=i._getNormalizedDateString(e),i.setValue(a.NSSS_INSTALLDATEKEY,t),r.uiConstants.EXTENSION_TYPE===r.uiConstants.THREE_IN_ONE)&&a.VENDOR===a.YAHOO&&i.setDateOfAssociation(e,e)},i.getDateOfAssociation=function(){var e=i.getValue(a.URL_PARAMS_KEY.DATE_OF_ASSOCIATION);return s(e)?null:e},i.setInstallationPageURL=function(e){E(e)&&i.setValue(a.NSSS_INSTALLATION_PAGE_URL_KEY,e)},i.getInstallationPageURL=function(){return i.getValue(a.NSSS_INSTALLATION_PAGE_URL_KEY)},i._compareDate=(e,t)=>{var a,n,e=r.helperUtils.getDateParts(e,"-");return!(!_(e)||e.length<3||(t=r.helperUtils.getDateParts(t,"-"),!_(t))||t.length<3||(a=new Date(e[0],e[1]-1,e[2]),isNaN(a))||(n=new Date(t[0],t[1]-1,t[2]),isNaN(n)))&&a<n},i.setDateOfAssociation=function(e,t){E(e)&&E(t)&&(i._compareDate(e,t)?i.setValue(a.URL_PARAMS_KEY.DATE_OF_ASSOCIATION,i._getNormalizedDateString(e)):i.setValue(a.URL_PARAMS_KEY.DATE_OF_ASSOCIATION,i._getNormalizedDateString(t)))},i.setPUID=function(e){n(e)&&i.setValue(a.URL_PARAMS_KEY.PARTNER_UNIT_ID,e)},i.setProduct=function(e){n(e)&&i.setValue(a.URL_PARAMS_KEY.PRODUCT_NAME,e)},i.getProduct=function(){var e=i.getValue(a.URL_PARAMS_KEY.PRODUCT_NAME);return e=s(e)?a.PRT:e},i.setVersion=function(e){n(e)&&i.setValue(a.URL_PARAMS_KEY.VERSION,e)},i.getVersion=function(){var e=i.getValue(a.URL_PARAMS_KEY.VERSION);return e=s(e)?a.VERSION:e},i.setLayoutType=function(e){n(e)&&i.setValue(a.URL_PARAMS_KEY.LAYOUT_TYPE,e)},i.getPUID=function(){return i.getValue(a.URL_PARAMS_KEY.PARTNER_UNIT_ID)},i.getLayoutType=function(){return i.getValue(a.URL_PARAMS_KEY.LAYOUT_TYPE)},i.getCGuid=function(){var e=i.getValue(a.CGUIDKEY);return s(e)&&(e=t.utils.createNewGuid(),i.setCGuid(e)),e},i.setCGuid=function(e){n(e)&&i.setValue(a.CGUIDKEY,e)},i.getVendor=function(){var e=i.getValue(a.VENDORKEY);return e=s(e)?a.VENDOR:e},i.setVendor=function(e){n(e)&&i.setValue(a.VENDORKEY,e)},i.getPartnerId=function(){var e=i.getValue(a.PARTNERIDKEY);return e=s(e)?a.DEFAULT_PARTNER_ID:e},i.setPartnerId=function(e){n(e)&&i.setValue(a.PARTNERIDKEY,e)},i.getCampaignMedium=function(){var e=i.getValue(a.CAMPAIGN_MEDIUM);return s(e)?a.DEFAULT_PARTNER_ID:e},i.setCampaignMedium=function(e){s(e)||i.setValue(a.CAMPAIGN_MEDIUM,e)},i.setFlavorized=function(e){var t=i.getValue(a.IS_FLAVORIZED);s(t)&&i.setValue(a.IS_FLAVORIZED,e)},i.getFlavorized=function(){var e=i.getValue(a.IS_FLAVORIZED);return!s(e)&&e},i.getParamsString=function(){var e=i.getValue(a.PARAMSTRINGKEY);return s(e)?"":e},i.setParamsString=function(e){n(e)&&0<e.length&&i.setValue(a.PARAMSTRINGKEY,e)},i.getTrackId=function(){return i.getValue(a.URL_PARAMS_KEY.TRACK_ID)||i.getValue(a.URL_PARAMS_KEY.TRACK_ID.toLowerCase())},i.setTrackID=function(e){n(e)&&i.setValue(a.URL_PARAMS_KEY.TRACK_ID,e)},i.getTweetsLastFetchedTimestamp=function(){return i.getValue(a.TWITTER_FEEDS_CDN_FETCH_LAST_TIMESTAMP_KEY)},i.setTweetsLastFetchedTimestamp=function(e){n(e)&&i.setValue(a.TWITTER_FEEDS_CDN_FETCH_LAST_TIMESTAMP_KEY,e)},i.getTwitterFeedsData=function(){let e=i.getValue(a.TWITTER_FEEDS_DATA_KEY);return e=s(e)?r.homePageConstants.TWEETS.data:e},i.setTwitterFeedsData=function(e,t=!1){s(e)||(i.setValue(a.TWITTER_FEEDS_DATA_KEY,e),t)||i.setTweetsLastFetchedTimestamp(Date.now())},i.getShowTwitterSectionValue=function(){let e=i.getValue(a.SHOW_TWITTER_SECTION);return e=s(e)?!0:e},i.setShowTwitterSectionValue=function(e){o(e)&&i.setValue(a.SHOW_TWITTER_SECTION,e)},i.getShowSecurityCenterSectionValue=function(){let e=i.getValue(a.SHOW_SECURITY_CENTER_SECTION);return e=s(e)?!0:e},i.setShowSecurityCenterSectionValue=function(e){o(e)&&i.setValue(a.SHOW_SECURITY_CENTER_SECTION,e)},i.getHomepageTourLastShownTimestamp=function(){return i.getValue(a.HOMEPAGE_TOUR_LAST_SHOWN_TIMESTAMP_KEY)},i.setHomepageTourLastShownTimestamp=function(e){n(e)&&i.setValue(a.HOMEPAGE_TOUR_LAST_SHOWN_TIMESTAMP_KEY,e)},i.getChickletTourLastShownTimestamp=function(){return i.getValue(a.CHICKLET_TOUR_LAST_SHOWN_TIMESTAMP_KEY)},i.setChickletTourLastShownTimestamp=function(e){n(e)&&i.setValue(a.CHICKLET_TOUR_LAST_SHOWN_TIMESTAMP_KEY,e)},i.getGeoLocation=function(){return i.getValue(a.GEO_LOCATION_KEY)},i.setGeoLocation=function(e){n(e)&&i.setValue(a.GEO_LOCATION_KEY,e)},i.setInstallStatus=e=>{E(e)&&i.setValue(a.INSTALL_STATUS_KEY,e)},i.getInstallStatus=()=>i.getValue(a.INSTALL_STATUS_KEY),i.setDynamicQuickLinksData=function(e){n(e)&&i.setValue(a.DYNAMIC_QUICK_LINKS_DATA,e)},i.getDynamicQuickLinksData=function(){return i.getValue(a.DYNAMIC_QUICK_LINKS_DATA)},i.setVendorMigrationDone=e=>{o(e)&&i.setValue(a.IS_VENDOR_MIGRATION_DONE_KEY,e)},i.getVendorMigrationDone=()=>i.getValue(a.IS_VENDOR_MIGRATION_DONE_KEY),i.setCustomChicklets=function(e){_(e)&&i.setValue(a.CUSTOM_CHICKLETS_KEY,e)},i.getCustomChicklets=function(){return i.getValue(a.CUSTOM_CHICKLETS_KEY)},i.setGoogleAppsClickedValue=function(e){o(e)&&i.setValue(a.GOOGLE_APPS_CLICK,e)},i.getGoogleAppsClickedValue=function(){return i.getValue(a.GOOGLE_APPS_CLICK)},i.getExtensionInstallMonthAndYear=function(){return i.getValue(a.EXTENSION_INSTALL_MONTH_YEAR)},i.setExtensionInstallMonthAndYear=function(e){E(e)&&i.setValue(a.EXTENSION_INSTALL_MONTH_YEAR,e)},i.setPrivacyConsentAcceptClicked=function(e){o(e)&&i.setValue(a.PRIVACY_CONSENT_ACCEPT_CLICK,e)},i.getPrivacyConsentAcceptClicked=function(){return i.getValue(a.PRIVACY_CONSENT_ACCEPT_CLICK)},i.setTelemetryNotificationId=function(e){E(e)&&i.setValue(a.TELEMETRY_NOTIFICATION_ID_KEY,e)},i.setTelemetryNotificationDueTimestamp=function(e){l(e)&&i.setValue(a.TELEMETRY_NOTIFICATION_DUE_TIMESTAMP,e)},i.getTelemetryNotificationDueTimestamp=function(){return i.getValue(a.TELEMETRY_NOTIFICATION_DUE_TIMESTAMP)},i.getTelemetryNotificationId=function(){return i.getValue(a.TELEMETRY_NOTIFICATION_ID_KEY)},i.isFormjackTourDisplayed=function(){return i.getValue(a.FORMJACK_TOUR_DISPLAYED)},i.setFormjackTourDisplayed=function(e){o(e)&&i.setValue(a.FORMJACK_TOUR_DISPLAYED,e)},i.getLocationData=function(){return i.getValue(a.HOMEPAGE_LOCATION_DATA)},i.setLocationData=function(e){T(e)||i.setValue(a.HOMEPAGE_LOCATION_DATA,e)},i.getWeatherData=function(){return i.getValue(a.HOMEPAGE_WEATHER_DATA)},i.setWeatherData=function(e){T(e)||i.setValue(a.HOMEPAGE_WEATHER_DATA,e)},i.getWeatherUnit=function(){return i.getValue(a.HOMEPAGE_WEATHER_UNIT)},i.setWeatherUnit=function(e){E(e)&&i.setValue(a.HOMEPAGE_WEATHER_UNIT,e)},i.setBookmarksToolbarEnabled=function(e){o(e)&&i.setValue(a.ENABLE_BOOKMARKS_TOOLBAR,e)},i.getBookmarksToolbarEnabled=function(){return i.getValue(a.ENABLE_BOOKMARKS_TOOLBAR)},i.setNewTabForSearchResultsEnabled=function(e){o(e)&&i.setValue(a.ENABLE_NEW_TAB_FOR_SEARCH_RESULTS,e)},i.getNewTabForSearchResultsEnabled=function(){return i.getValue(a.ENABLE_NEW_TAB_FOR_SEARCH_RESULTS)},i.setMostVisitedSitesEnabled=function(e){o(e)&&i.setValue(a.ENABLE_MOST_VISITED_SITES,e)},i.getMostVisitedSitesEnabled=function(){return i.getValue(a.ENABLE_MOST_VISITED_SITES)},i.setWeatherWidgetEnabled=function(e){o(e)&&i.setValue(a.ENABLE_WHEATHER_WIDGET,e)},i.getWeatherWidgetEnabled=function(){return i.getValue(a.ENABLE_WHEATHER_WIDGET)},i.setTimerWidgetEnabled=function(e){o(e)&&i.setValue(a.ENABLE_TIMER_WIDGET,e)},i.getTimerWidgetEnabled=function(){return i.getValue(a.ENABLE_TIMER_WIDGET)},i.getBackgroundImageSetting=function(){return i.getValue(a.BACKGROUND_IMAGE_SETTING)},i.setBackgroundImageSetting=function(e){T(e)||i.setValue(a.BACKGROUND_IMAGE_SETTING,e)},i.getCustomBackgroundImage=function(){return i.getValue(a.CUSTOM_BACKGROUND_IMAGE)},i.setCustomBackgroundImage=function(e){E(e)&&i.setValue(a.CUSTOM_BACKGROUND_IMAGE,e)},i.getTrackValue=function(){return i.getValue(a.URL_PARAMS_KEY.TRACK)},i.setTrackValue=function(e){i.setValue(a.URL_PARAMS_KEY.TRACK,e)},i.getInstallSource=function(){return i.getValue(a.URL_PARAMS_KEY.INSTALL_SOURCE)},i.setInstallSource=function(e){E(e)&&i.setValue(a.URL_PARAMS_KEY.INSTALL_SOURCE,e)},i.getCampaignCode=function(){return i.getValue(a.URL_PARAMS_KEY.CAMPAIGN_NAME)},i.setCampaignCode=function(e){E(e)&&i.setValue(a.URL_PARAMS_KEY.CAMPAIGN_NAME,e)},i.getBrowserValue=function(){return i.getValue(a.URL_PARAMS_KEY.BROWSER)},i.setBrowserValue=function(e){E(e)&&i.setValue(a.URL_PARAMS_KEY.BROWSER,e)},i.setIsNewUserForHPNewFeatures=function(e){o(e)&&i.setValue(a.IS_NEW_USER_FOR_HP_FEATURES,e)},i.isNewUserForHPNewFeatures=function(){return i.getValue(a.IS_NEW_USER_FOR_HP_FEATURES)},i.setDefaultDarkModeTheme=function(e){E(e)&&i.setValue(a.DEFAULT_DARK_MODE_THEME,e)},i.getDefaultDarkModeTheme=function(){return i.getValue(a.DEFAULT_DARK_MODE_THEME)},i.setPreviousHPDarkModeTheme=function(e){E(e)&&i.setValue(a.PREVIOUS_HP_DARK_MODE_THEME,e)},i.getPreviousHPDarkModeTheme=function(){return i.getValue(a.PREVIOUS_HP_DARK_MODE_THEME)},i.setInstallTimeBrowserDarkModeTheme=function(e){E(e)&&i.setValue(a.INSTALL_TIME_BROWSER_DARK_MODE_THEME,e)},i.getInstallTimeBrowserDarkModeTheme=function(){return i.getValue(a.INSTALL_TIME_BROWSER_DARK_MODE_THEME)},i.setPrevBrowserDarkModeSet=function(e){o(e)&&i.setValue(a.PREVIOUS_BROWSER_DARK_MODE_THEME,e)},i.getPrevBrowserDarkModeSet=function(){return i.getValue(a.PREVIOUS_BROWSER_DARK_MODE_THEME)},i.setBrowserDarkModeSet=function(e){o(e)&&i.setValue(a.IS_BROWSER_DARK_MODE_SET,e)},i.isBrowserDarkModeSet=function(){return i.getValue(a.IS_BROWSER_DARK_MODE_SET)},i.getNewHpTourLastShownTimestamp=function(){return i.getValue(a.NEW_HP_TOUR_SHOWN)},i.setNewHpTourLastShownTimestamp=function(e){n(e)&&i.setValue(a.NEW_HP_TOUR_SHOWN,e)},i.setQuickLinksRequest=function(e){_(e)&&i.setValue(a.QUICK_LINKS_REQUEST,e)},i.getQuickLinksRequest=function(){return i.getValue(a.QUICK_LINKS_REQUEST)},i.setQuickLinksData=function(e){S(e)&&i.setValue(a.QUICK_LINKS_DATA,e)},i.getQuickLinksData=function(){return i.getValue(a.QUICK_LINKS_DATA)},i.setPrevDarkModeThemeResolvedInDS=function(e){o(e)&&i.setValue(a.PREVIOUS_DS_THEME,e)},i.getPrevDarkModeThemeResolvedInDS=function(){return i.getValue(a.PREVIOUS_DS_THEME)},i.getWebStoreUrl=function(){return i.getValue(a.WEB_STORE_URL)},i.setWebStoreUrl=function(e){E(e)&&i.setValue(a.WEB_STORE_URL,e)},i.getMediaDotNetFlavorApplicable=function(){return i.getValue(a.MEDIA_DOT_NET_FEATURE_APPLICABLE)},i.setMediaDotNetFlavorApplicable=function(e){o(e)&&i.setValue(a.MEDIA_DOT_NET_FEATURE_APPLICABLE,e)},i.setCurrentLocationKey=function(e){s(e)||i.setValue(a.CURRENT_LOCATION_KEY,e)},i.getCurrentLocationKey=function(){return i.getValue(a.CURRENT_LOCATION_KEY)},i.setLocationFetchTimestamp=function(e){n(e)&&i.setValue(a.LOCATION_FETCH_TIMESTAMP,e)},i.getLocationFetchTimestamp=function(){return i.getValue(a.LOCATION_FETCH_TIMESTAMP)},i.getSearchCount=function(){return i.getValue(a.SEARCH_COUNT)},i.setSearchCount=function(e){l(e)&&i.setValue(a.SEARCH_COUNT,e)},i.getActiveUserSearchLastSentTimestamp=function(){var e=i.getValue(a.ACTIVE_USER_SEARCH_LAST_SENT_TIMESTAMP_KEY);return e||0},i.setActiveUserSearchLastSentTimestamp=function(e){n(e)&&i.setValue(a.ACTIVE_USER_SEARCH_LAST_SENT_TIMESTAMP_KEY,e)},i.getKeepAssistShownState=function(){return i.getValue(a.KEEP_ASSIST_UI_SHOWN_FLAG)},i.setKeepAssistShownState=function(){i.setValue(a.KEEP_ASSIST_UI_SHOWN_FLAG,!0)},i.setFirstRowQuickLinks=function(e){_(e)&&i.setValue(a.FIRST_ROW_QUICK_LINKS,e)},i.getFirstRowQuickLinks=function(){return i.getValue(a.FIRST_ROW_QUICK_LINKS)},i.setCountryCode=function(e){E(e)&&i.setValue(a.COUNTRY_CODE,e)},i.getCountryCode=function(){return i.getValue(a.COUNTRY_CODE)},i.setQuickLinksRulesJson=function(e){e&&i.setValue(a.QUICK_LINKS_RULES_JSON,e)},i.getQuickLinksRulesJson=function(){return i.getValue(a.QUICK_LINKS_RULES_JSON)},i.setAdmLinksData=function(e){n(e)&&i.setValue(a.ADM_DATA,e)},i.getAdmLinksData=function(){return i.getValue(a.ADM_DATA)},i.setAdmFetchTimestamp=function(e){n(e)&&i.setValue(a.ADM_FETCH_TIMESTAMP,e)},i.getAdmFetchTimestamp=function(){return i.getValue(a.ADM_FETCH_TIMESTAMP)},i})(e.SymBfw,e.NSSS)})(executionContext),(e=>{(e.NSSS=e.NSSS||{}).sessionSettings=((e,t)=>{let r={};var a=t.constants;let{utils:{isNil:i,isFunction:s},settings:E,logger:o}=e;return r.settingsContainer=null,r.initialize=function(n){if(!s(n))throw new Error("callback must be a function");E.loadSettingsContainer(a.NSSS_SESSION_SETTINGS_CONTAINER,!0,function(e,t,a){!1===e||i(t)?(o.error("failed to load NSSS_SESSION_SETTINGS_CONTAINER"),n(!1)):(r.settingsContainer=t,n(!0))})},r.getValue=function(e){return i(r.settingsContainer)?(o.error("settings not initialized"),null):r.settingsContainer.getObject(e)},r.setValue=function(e,t){i(r.settingsContainer)?o.error("settings not initialized"):r.settingsContainer.setObject(e,t)},r.delete=function(e){i(r.settingsContainer)?o.error("settings not initialized"):r.settingsContainer.removeObject(e)},r.getCollection=function(){if(!i(r.settingsContainer))return r.settingsContainer.collection;o.error("settings not initialized")},r})(e.SymBfw,e.NSSS)})(executionContext),(e=>{(e.NSSS=e.NSSS||{}).uiHelper=((s,E)=>{var o={};s.utils.isntNil;let _=s.utils.isNil,t=E.nfmEvents;var T={untested:0,safe:1,caution:2,warn:3},S=E.constants,l=s.localizer,n=E.uiConstants.BLOCKPAGE.TYPE,c={};return c.Safe=T.safe,c.Caution=T.caution,c.Untested=T.untested,c["Safe Web is off"]=T.untested,c.Warning=T.warn,c["Not Licensed"]=T.warn,c["Unsafe to Shop"]=T.warn,c.Monitoring=T.untested,c["Page not analyzed"]=T.untested,o.siteStatusRatingMap=c,o.rating=T,o.messageType={SEARCH:0,FULLREPORT:1,REPORTSITE:2,SETTINGS:3,ONLOAD:4},o.ratingStyle=["untested","safe","caution","warn","suspicious","formjack"],o.customizedRatingStyle={suspiciousRegionBlock:"suspicious",formjackProtection:"formjack"},o.uiEvents="UI-Event",o.settingsEvent="Settings-Event",o.setupUI="Setup-UI",o.updateUI="Update-UI",o.updateUIComplete="Update-UI-Complete",o.setupSettingsUI="Setup-Settings-UI",o.FULL_REPORT_EVENTID="2786E625-7D87-4997-AB8B-DB46539A48F8",o.REPORTSITE_EVENTID="76DAED94-D538-4C07-909D-8C7C0442FA5C",o.SETTINGS_CLICKED_EVENTID="D33EEEAD-B101-4A69-8B71-564E69FD5880",o.SEARCH_EVENTID="5C57C303-1C69-4C07-850C-062563BE3C1D",o.DEFAULT_SEARCH_EVENTID="FD6141FE-3E11-40E1-88A9-ED2EECC2E052",o.DEFAULT_HOMEPAGE_EVENTID="D266FC01-E845-4292-8890-30AE32FE48E2",o.setShowFullReportForSessionID=function(e,t){E.helperUtils.setSessionSetting(e,S.SHOW_FULLREPORT,t)},o.showFullReportForSessionID=function(e){let t=E.helperUtils.getSessionSetting(e,S.SHOW_FULLREPORT);return t=_(t)?!0:t},o.setShowReportSiteForSessionID=function(e,t){E.helperUtils.setSessionSetting(e,S.SHOW_REPORTSITE,t)},o.showReportSiteForSessionID=function(e){let t=E.helperUtils.getSessionSetting(e,S.SHOW_REPORTSITE);return t=_(t)?!0:t},o.toolbarStatusForSessionID=function(e){return _(e)||(e=E.helperUtils.getSessionSetting(e,t.PAGE_ANALYZED),_(e))?null:(e.getRating?e:new E.Rating(e)).getRating()},o.uiStatusForSessionID=function(e,t){var a,n,r,i;return _(e)||(s.logger,a=E.helperUtils.getFeatureFlavorization(),E.helperUtils.isURLWhitelisted(t))||(n=o.toolbarStatusForSessionID(e),_(n))?o.uiStatusForUntestedSite(t):(t=n.siteStatus,r=o.showFullReportForSessionID(e),i=o.showReportSiteForSessionID(e),o.setShowReportSiteForSessionID(e,i),e=l.getLocalizedString(n.siteStatus),{uiStatus:{sitename:n.url,rating:c[t],ratingText:e,showSafeWebSearchbox:a.showSafeWebSearchbox},regularIcon:n.siteIcon+".png",retinaIcon:n.siteIcon+"@2x.png",showFullReport:r,showReportSite:i,siteRating:n.siteRating,fullReportURL:n.fullReportURL})},o.privateUIStatusForSafeOrUntestedOrMonitoringSite=function(e,t){var a=E.helperUtils.getFeatureFlavorization(),n=l.getLocalizedString(t),e={sitename:e=!_(e)&&""!==e?e:S.ABOUT_BLANK,rating:T.untested,ratingText:n,computerThreats:0,identityThreats:0,annoyanceThreats:0,totalThreats:0,showSafeWebSearchbox:a.showSafeWebSearchbox};let r=S.UNTESTED_IMAGE+".png",i=S.RETINAL_UNTESTED_IMAGE+".png";return"Safe"===t&&(r=S.SAFE_IMAGE+".png",i=S.RETINAL_SAFE_IMAGE+".png",e.rating=T.safe),{uiStatus:e,regularIcon:r,retinaIcon:i,showFullReport:!1,showReportSite:!1}},o.uiStatusForSafeSite=function(e){return o.privateUIStatusForSafeOrUntestedOrMonitoringSite(e,"Safe")},o.uiStatusForUntestedSite=function(e){return o.privateUIStatusForSafeOrUntestedOrMonitoringSite(e,"Untested")},o.uiStatusForMonitoringSite=function(e){return o.privateUIStatusForSafeOrUntestedOrMonitoringSite(e,"Monitoring")},o.getBlockPageString=function(e){var t,a=o.blockPageStrings();switch(e){case n.KNOWNBAD:t=o.knownbadWindowStrings(a);break;case n.SUSPECTEDBAD:t=o.suspectedbadWindowStrings(a);break;case n.MALICIOUS:t=o.maliciousWindowStrings(a);break;case n.MALICIOUSSHOP:t=o.maliciousshopWindowStrings(a)}return t},o._getPopoverWarningMessage=e=>{let t="";switch(e){case n.SUSPECTEDBAD:t=l.getLocalizedString("This is a suspicious webpage.");break;case n.MALICIOUS:case n.MALICIOUSSHOP:t=l.getLocalizedString("This is a known dangerous webpage.");break;case n.FORMJACK:t=l.getLocalizedString("We strongly recommend that you do not share any personal or financial information on this page.");break;default:return""}e=e!==n.FORMJACK?l.getLocalizedString("It is highly recommended that you do NOT visit this page."):"";return t+" "+e},o._getPopoverMessage=(e,t)=>{switch(e){case T.untested:return l.getLocalizedString("This website has not been rated yet.");case T.safe:return l.getLocalizedString("This website is considered safe.");case T.caution:return l.getLocalizedString("This website may have a small number of threats.");case T.warn:var a=E.wpsHelperUtils.blockPageType(t);return _(a)?"":o._getPopoverWarningMessage(a);default:return""}},o.popoverWindowStrings=function(e,t){return{search:l.getLocalizedString("Search the Web Safely"),rating:{nortonRating:l.getLocalizedString("Norton Rating"),popoverDesc:o._getPopoverMessage(e,t),fullReport:l.getLocalizedString("View a full Safe Web report"),reportSite:l.getLocalizedString("Report this site"),nortonSafeWeb:l.getLocalizedString("Norton Safe Web")}}},o.blockPageStrings=function(){return{blockedBy:l.getLocalizedString("BLOCKED BY"),line2:l.getLocalizedString("You attempted to access"),description2:l.getLocalizedString("It is highly recommended that you do NOT visit this page."),visit_symc1:l.getLocalizedString("Visit"),symantec:l.getLocalizedString("Norton"),visit_symc2:l.getLocalizedString("to learn more about phishing and internet security."),linkToSite:l.getLocalizedString("Accept risk and continue"),reportSite:l.getLocalizedString("View Full Report"),searchBoxText:l.getLocalizedString("Search for a safer site"),safeWebText:l.getLocalizedString("Safe Web"),exitPage:l.getLocalizedString("Exit this page (recommended)")}},o.knownbadWindowStrings=function(e){return e.title=l.getLocalizedString("Fraudulent Webpage Blocked"),e.description1=l.getLocalizedString("This webpage is a known fraudulent webpage."),e},o.maliciousWindowStrings=function(e){return e.title=l.getLocalizedString("Dangerous Webpage Blocked"),e.description1=l.getLocalizedString("This is a known dangerous webpage."),e},o.maliciousshopWindowStrings=function(e){return e.title=l.getLocalizedString("Dangerous Webpage Blocked"),e.description1=l.getLocalizedString("This is a known dangerous webpage."),e},o.suspectedbadWindowStrings=function(e){return e.title=l.getLocalizedString("Malicious Website Blocked"),e.description1=l.getLocalizedString("This site has been blocked due to piracy or other restrictions in your region. We highly recommend that you do not visit this page."),e.description2="",e.line2=l.getLocalizedString("Website you tried to access:"),e.exitPage=l.getLocalizedString("Close this website (recommended)"),e.linkToSite=l.getLocalizedString("Accept and display risk"),e},o.keepAssistWindowStrings=function(e){var t=!0===e?l.getLocalizedString("Norton Safe Search"):l.getLocalizedString("Norton Home Page"),e=!0===e?l.getLocalizedString("Safe Search"):l.getLocalizedString("Home Page");return{title1:l.getLocalizedString("Welcome to"),title2:l.getLocalizedString("Norton"),title3:e,desc1:l.getLocalizedString("Thank you for choosing Norton. When a Chrome message appears at the top right of the screen, click"),desc2:l.getLocalizedString("Keep changes"),desc3:l.getLocalizedStringWithFormat("to maintain your {0} protection in Chrome.",[t]),btnContinue:l.getLocalizedString("Continue")}},o})(e.SymBfw,e.NSSS)})(executionContext),(e=>{e.NSSS.telemetryWrapper=((_,s)=>{var T={},S=_.utils.isntNil,l=_.utils.isNil,E=_.utils.isString,c=_.telemetryConstants,o=s.globalSettings,A=s.constants,R=s.uiConstants.BLOCKPAGE.TYPE;s.uiConstants.BLOCKPAGE.parameterKeys;let t=s.uiConstants;return T.blockPage={},T.blockPage.parameters={},T.TELEMETRY_CATEGORY={SEARCH:"search",POPUP_UI:"popupui",KEEP_ASSIST_UI:"keep_assist_ui",WEB_PROTECTION:"web_protection",HOMEPAGE_TOUR:"homepage_tour",FORMJACK_TOUR:"formjack_tour",FORMJACK_BLOCK_PAGE:"formjack_block_page",BLOCKPAGE:{knownbad:"antiphishing",suspectedbad:"regional_block",malicious:"dangerous",maliciousshop:"dangerous",redirect:"redirect",FORMJACKING:"Formjacking",PROMOTION_TILE:"promotion_tile"},YAHOO_SERP:"yahooSERP",EXT_HOME_PAGE:{AUTO_SUGGEST:"autosuggest",SEARCH:"search",QUICKLINK:"quicklink",PAGE_VIEW:"pageview",TWITTER_FEED:"twitterFeed",SECURITY_CENTER_NEWS_FEED:"securityCenterNewsFeed",CUSTOM_QUICK_LINK:"customQuickLink",WEATHER_WIDGET:"weather_widget",SETTINGS_MODAL:"settings_modal",TOUR_MODAL:"tour_modal"},EXT_SETTINGS_PAGE:"settings_page",VENDOR_SET_FLOW:"vendorSetFlow",CREDIT_CARD_TELEMETRY:"creditCardTelemetry",FORMJACKING_BLOCK_TYPE:{PAGE:"page",IFRAME:"iframe",SUBMISSION:"submission"},DOWNLOAD_BLOCK:"download_block",ACTIVE_USER:"active_user"},T.actionType={CLICK_EVENT:"click",PAGE_LOAD_EVENT:"page_load",KEY_PRESS:"key_press",CONSENT_SELF_REMOVAL:"consent_self_removal",SEARCH:{SEARCH_ENTITLEMENTS:"searchEntitlements",DEFAULT_SEARCH:"ds",DEFAULT_HOMEPAGE:"dhp",HOME_PAGE_LOADED:"homepage_loaded",SEARCH_QUERY:"search_query",UI_SEARCH_QUERY:"ui_search_query",BLOCKEDPAGE_SEARCH_QUERY:"blockedPage_search_query",ACTION_CLICKED:"action_clicked",SEARCH:"search"},UI:{SHOW_POPUP_UI:"show_popup_ui",ENGLISH_HOME_PAGE_SHOWN:"english_hp_shown",KEEP_ASSIST_UI_SHOWN:"keep_assist_shown",KEEP_ASSIST_CONTINUE_BUTTON_CLICKED:"continue_button_clicked",FORMJACKING_CONTINUE_TO_SITE:"Formjacking_continue_to_site",HP_TOUR_KEY_PRESS_CANCEL:"tour_key_press_cancel",HP_TOUR_KEY_PRESS_NEXT:"tour_key_press_next",HP_TOUR_COMPLETED:"tour_completed",HP_TOUR_TRIGGERED_BY_USER:"hp_tour_triggered_by_user",HP_TOUR_TRIGGERED_AUTOMATICALLY:"hp_tour_triggered_automatically",TWITTER_SECTION_SHOWN:"twitter_section_shown",TWITTER_SECTION_HIDDEN:"twitter_section_hidden",SECURITY_CENTER_SECTION_SHOWN:"security_center_section_shown",SECURITY_CENTER_SECTION_HIDDEN:"security_center_section_hidden",PRIVACY_ACCEPT_CLICKED:"privacy-accept-clicked",PRIVACY_DECLINE_CLICKED:"privacy-decline-clicked",EXTENSION_REMOVE_CLICKED:"extension-remove-clicked",CUSTOM_QUICKLINK_USER_EVENT_COMPLETION:"custom-quicklink-user-event-completion",CUSTOM_QUICKLINK_USER_EVENT_FAILURE:"custom-quicklink-user-event-failure",GOOGLE_APPS_ICON:"google-apps-icon",GOOGLE_APPS:"google-apps",MORE_GOOGLE_APPS:"more-google-apps",FORMJACK_TOUR_NEW_USER_UI_SHOWN:"formjack_tour_new_user_ui_shown",FORMJACK_TOUR_EXISTING_USER_UI_SHOWN:"formjack_tour_existing_user_ui_shown",FORMJACK_TOUR_NEW_USER_UI_CLOSED:"formjack_tour_new_user_ui_closed",FORMJACK_TOUR_EXISTING_USER_UI_CLOSED:"formjack_tour_existing_user_ui_closed",FORMJACK_TOUR_UI_LEARN_MORE_CLICKED:"formjack_tour_ui_learn_more_clicked",FORMJACK_BLOCK_PAGE_LEARN_MORE_CLICKED:"formjack_block_page_learn_more_clicked",FORMJACK_BLOCK_PAGE_TECH_DETAILS_CLICKED:"formjack_block_page_tech_details_clicked",FORMJACK_BLOCK_PAGE_GOT_IT_CLICKED:"formjack_block_page_got_it_clicked",FORMJACK_BLOCK_PAGE_EXIT_CLICKED:"formjack_block_page_exit_clicked"},PAGE:{FORMJACKING_BLOCK_PAGE_SHOWN:"Formjacking_block_page_shown"},BLOCKPAGE:{CONTINUE_TO_SITE:"continue_to_site_clicked",BLOCK_PAGE_SHOWN:"block_page_shown",IGNORE_BLOCK_PAGE:"ignore_block_page",EXIT_BLOCK_PAGE:"exit_block_page",PROMOTION_TILE_SHOWN:"promotion_tile_shown",PROMOTION_TILE_CLICK:"promotion_tile_click"},FORMJACKING_SILENT_TELEMETRY:"Formjacking_silent_telemetry",CLICK_PREVENTION_FAILURE:"clickPreventionFailure",VENDOR_SET:"vendorSet",API_FAILURE:"api_query_failed",VENDOR_MIGRATION:"vendor_migration",CHICKLET_TOUR_SHOWN:"chickletTourShown",CHICKLET_TOUR_COMPLETED:"chickletTourCompleted",CREDIT_CARD_TELEMETRY_NETWORK_REQUEST:"networkRequest",CREDIT_CARD_TELEMETRY_PAGE_DETAILS:"pageDetails",HP_TOUR_GOT_IT_CLICK:"got_it_click",HP_TOUR_CLOSE_CLICK:"close_icon_click",RESTORE_TO_DEFAULT_CLICK:"restore_to_default_click",CUSTOM_THEME:"custom_theme"},T.searchFeature={DEFAULT_HOMEPAGE:"hp",DEFAULT_SEARCH_PROVIDER:"dsp"},T.sendExtensionInstall=function(){var e=c.TELEMETRY_CATEGORY.EXTENSION,t=c.actionType.EXTENSION.INSTALL,a=A.PRODUCT_LABEL,n=T.getCustomDimensionValues();T.send(e,t,a,n)},T.sendExtensionUpdate=function(){var e=c.TELEMETRY_CATEGORY.EXTENSION,t=c.actionType.EXTENSION.UPDATE,a=A.PRODUCT_LABEL,n=T.getCustomDimensionValues();T.send(e,t,a,n)},T.sendVendorSetFlow=function(e){var t=T.TELEMETRY_CATEGORY.VENDOR_SET_FLOW,a=T.actionType.VENDOR_SET,n=A.PRODUCT_LABEL,r=T.getCustomDimensionValues();S(r)&&(r[c.parameters.CUSTOM_DIMENSION9]=e),T.send(t,a,n,r)},T.sendSearchStatus=function(e,t){e=!l(e)&&e,t=!l(t)&&t;var a=T.TELEMETRY_CATEGORY.SEARCH,n=T.actionType.SEARCH.SEARCH_ENTITLEMENTS,e=T.actionType.SEARCH.DEFAULT_SEARCH+"-"+e+"-"+T.actionType.SEARCH.DEFAULT_HOMEPAGE+"-"+t,t=T.getCustomDimensionValues();T.send(a,n,e,t)},T.sendDefaultSearchEvent=function(){var e=T.TELEMETRY_CATEGORY.SEARCH,t=T.actionType.SEARCH.SEARCH_QUERY,a=A.VERSION,n=T.getCustomDimensionValues();T.send(e,t,a,n)},T.sendUISearchEvent=function(){var e=T.TELEMETRY_CATEGORY.SEARCH,t=T.actionType.SEARCH.UI_SEARCH_QUERY,a=A.VERSION;T.send(e,t,a)},T.sendBlockedPageSearchEvent=function(){var e=T.TELEMETRY_CATEGORY.SEARCH,t=T.actionType.SEARCH.BLOCKEDPAGE_SEARCH_QUERY,a=A.VERSION;T.send(e,t,a)},T.sendActionClickEvent=function(){var e=T.TELEMETRY_CATEGORY.SEARCH,t=T.actionType.SEARCH.ACTION_CLICKED,a=A.VERSION,n=T.getCustomDimensionValues();T.send(e,t,a,n)},T.sendShowPopupUIEvent=function(e){if(l(e))throw new Error("Page URL cannot be null");var t=T.TELEMETRY_CATEGORY.POPUP_UI,a=T.actionType.UI.SHOW_POPUP_UI,e=(A.VERSION,new URI(e)),n=e.pathname(),e=(e.domain(),T.getCustomDimensionValues());T.send(t,a,n,e)},T.sendKeepAssistShownEvent=function(){var e=T.TELEMETRY_CATEGORY.KEEP_ASSIST_UI,t=T.actionType.UI.KEEP_ASSIST_UI_SHOWN,a=A.PRODUCT_LABEL,n=T.getCustomDimensionValues();T.send(e,t,a,n)},T.sendBlockPageTelemetry=function(e,t,a,n=!1,r=null,i=!1){if(l(e)||l(t))throw new Error("URL or blockPageType cannot be null");var e=_.utils.urlWithoutQueryParameters(e,!0),s=t===R.KNOWNBAD?"fraudulent":"suspicious",a=!0===a?T.actionType.BLOCKPAGE.CONTINUE_TO_SITE:T.actionType.BLOCKPAGE.BLOCK_PAGE_SHOWN,t=T.TELEMETRY_CATEGORY.BLOCKPAGE[t],a=i?T.actionType.BLOCKPAGE.EXIT_BLOCK_PAGE:a;let E=t===T.TELEMETRY_CATEGORY.BLOCKPAGE.knownbad?s+"_"+a:t+"_"+a;!0===n&&(E=T.TELEMETRY_CATEGORY.BLOCKPAGE.redirect+"_"+E);i=A.PRODUCT_LABEL;let o=T.getCustomDimensionValues();(o=l(o)?{}:o)[c.parameters.CUSTOM_DIMENSION17]=e,S(r)&&(o[c.parameters.CUSTOM_DIMENSION40]=r),T.send(t,E,i,o)},T.sendDownloadBlockTelemetry=function(e,t,a){if(l(e))throw new Error("Download block url cannot be null");var e=_.utils.urlWithoutQueryParameters(e,!0),t=(t?T.TELEMETRY_CATEGORY.BLOCKPAGE.redirect+"_"+T.TELEMETRY_CATEGORY.DOWNLOAD_BLOCK:T.TELEMETRY_CATEGORY.DOWNLOAD_BLOCK)+"_"+T.actionType.BLOCKPAGE.BLOCK_PAGE_SHOWN,n=T.TELEMETRY_CATEGORY.DOWNLOAD_BLOCK,r=A.PRODUCT_LABEL,e={[c.parameters.CUSTOM_DIMENSION17]:e};E(a)&&(a=_.utils.urlWithoutQueryParameters(a,!0),e[c.parameters.CUSTOM_DIMENSION24]=a),T.send(n,t,r,e)},T.sendPreventBlockPageTelementry=function(e,t,a){if(l(a)||l(t))throw new Error("URL or blockPageType cannot be null");var n=T.actionType.BLOCKPAGE.IGNORE_BLOCK_PAGE,e=e+"_"+(t===R.KNOWNBAD?"fraudulent":t===R.suspectedbad?"suspicious":T.TELEMETRY_CATEGORY.BLOCKPAGE[t]),t=_.utils.urlWithoutQueryParameters(a,!0),a=A.PRODUCT_LABEL,t={[c.parameters.CUSTOM_DIMENSION17]:t};T.send(n,e,a,t)},T.checkStringIsValid=function(e){if(!E(e))throw new Error(e+" must be of type string")},T._sendFormjackTelemetry=function(a,n=!1,r=!1){if(a){var i=a.originalURL;if(E(i)){let t=null;try{t=_.utils.urlWithoutQueryParameters(i,!0)}catch(e){_.logger.debug("Failed to get URL without params"),t=_.utils.getDomain(i)}if(E(t)){var i=T.TELEMETRY_CATEGORY.BLOCKPAGE.FORMJACKING,s=a.blockType||T.TELEMETRY_CATEGORY.FORMJACKING_BLOCK_TYPE.PAGE;let e;e=r?T.actionType.FORMJACKING_SILENT_TELEMETRY:n?T.actionType.UI.FORMJACKING_CONTINUE_TO_SITE:T.actionType.PAGE.FORMJACKING_BLOCK_PAGE_SHOWN;r={[c.parameters.CUSTOM_DIMENSION4]:a.blockDelay||0,[c.parameters.CUSTOM_DIMENSION17]:a.blockedDomain,[c.parameters.CUSTOM_DIMENSION7]:t};T.send(i,e,s,r)}}}},T.sendActiveSearchEvent=async function(e){var t,a,n;if(E(e))return t=T.TELEMETRY_CATEGORY.ACTIVE_USER,a=T.actionType.SEARCH.SEARCH,e=e,n=T.getCustomDimensionValues(),await T.forceSendTelemetryWithAcknowledgement(t,a,e,n)},T.sendFormjackSilentTelemetry=function(e){T._sendFormjackTelemetry(e,!1,!0)},T.sendFormjackBlockPageTelemetry=function(e,t=!1){T._sendFormjackTelemetry(e,t,!1)},T.sendFormjackBlockPageTechDetailsClicked=function(){var e=T.TELEMETRY_CATEGORY.FORMJACK_BLOCK_PAGE,t=T.actionType.UI.FORMJACK_BLOCK_PAGE_TECH_DETAILS_CLICKED,a=A.PRODUCT_LABEL,n=T.getCustomDimensionValues();T.send(e,t,a,n)},T.sendFormjackGotItClicked=function(){var e=T.TELEMETRY_CATEGORY.FORMJACK_BLOCK_PAGE,t=T.actionType.UI.FORMJACK_BLOCK_PAGE_GOT_IT_CLICKED,a=A.PRODUCT_LABEL,n=T.getCustomDimensionValues();T.send(e,t,a,n)},T.sendFormjackBlockPageExitClicked=function(){var e=T.TELEMETRY_CATEGORY.FORMJACK_BLOCK_PAGE,t=T.actionType.UI.FORMJACK_BLOCK_PAGE_EXIT_CLICKED,a=A.PRODUCT_LABEL,n=T.getCustomDimensionValues();T.send(e,t,a,n)},T.sendHomePageChickletClickedEvent=function(e,t){this.checkStringIsValid(e);var e=T.TELEMETRY_CATEGORY.EXT_HOME_PAGE.QUICKLINK+"-"+e,a=T.actionType.CLICK_EVENT,n=A.PRODUCT_LABEL,r=T.getCustomDimensionValues();S(t)&&(r[c.parameters.CUSTOM_DIMENSION1]=t),T.send(e,a,n,r)},T.sendQuickLinkApiFetchFailureEvent=function(e){var t=T.TELEMETRY_CATEGORY.EXT_HOME_PAGE.QUICKLINK,a=T.actionType.API_FAILURE;let n=A.PRODUCT_LABEL;e&&(n+="-"+e);e=T.getCustomDimensionValues();T.send(t,a,n,e)},T.sendHomePageSearchSuggestionClickedEvent=function(){var e=T.TELEMETRY_CATEGORY.EXT_HOME_PAGE.AUTO_SUGGEST,t=T.actionType.CLICK_EVENT,a=A.PRODUCT_LABEL,n=T.getCustomDimensionValues();T.send(e,t,a,n)},T.sendHomePageSearchButtonClickedEvent=function(){var e=T.TELEMETRY_CATEGORY.EXT_HOME_PAGE.SEARCH,t=T.actionType.CLICK_EVENT,a=A.PRODUCT_LABEL,n=T.getCustomDimensionValues();T.send(e,t,a,n)},T.sendHomePageLoadEvent=function(e=0,t=0){var a=T.TELEMETRY_CATEGORY.EXT_HOME_PAGE.PAGE_VIEW,n=T.actionType.PAGE_LOAD_EVENT,r=A.PRODUCT_LABEL,i=T.getCustomDimensionValues(),s=_.localizer.getNavigatorLanguage(),E=o.getLocationData(),E=l(E)||l(E[s])?"":E[s].City;i[c.parameters.SCREEN_RESOLUTION]=e+"x"+t,i[c.parameters.CUSTOM_DIMENSION11]=o.getShowTwitterSectionValue(),i[c.parameters.CUSTOM_DIMENSION12]=o.getShowSecurityCenterSectionValue(),i[c.parameters.CUSTOM_DIMENSION36]=E||A.NOT_SET,T.send(a,n,r,i)},T.sendEnglishOnlyHomePageShownEvent=function(e,t){var a=T.TELEMETRY_CATEGORY.EXT_HOME_PAGE.PAGE_VIEW,n=T.actionType.UI.ENGLISH_HOME_PAGE_SHOWN,r=A.PRODUCT_LABEL;let i=T.getCustomDimensionValues();(i=l(i)?{}:i)[c.parameters.CUSTOM_DIMENSION4]=e,i[c.parameters.CUSTOM_DIMENSION10]=t,T.send(a,n,r,i)},T.sendSettingsPageLoadEvent=function(){var e=T.TELEMETRY_CATEGORY.EXT_SETTINGS_PAGE,t=T.actionType.PAGE_LOAD_EVENT,a=A.PRODUCT_LABEL,n=T.getCustomDimensionValues();T.send(e,t,a,n)},T.getCustomDimensionValues=()=>{var e;return t.EXTENSION_TYPE===t.SAFEWEB_EXTENSION?null:(e={[c.parameters.CUSTOM_DIMENSION4]:A.VENDOR,[c.parameters.CUSTOM_DIMENSION26]:o.getTrackValue(),[c.parameters.CUSTOM_DIMENSION25]:s.NSSSHelper.getCampaignCode(),[c.parameters.CUSTOM_DIMENSION23]:s.NSSSHelper.getInstallSource(),[c.parameters.CUSTOM_DIMENSION22]:s.NSSSHelper.getWeekOfInstall(),[c.parameters.CUSTOM_DIMENSION34]:s.NSSSHelper.getBrowserValue()},s.helperUtils.isMediaDotNetExtension()&&(e[c.parameters.CUSTOM_DIMENSION39]=s.helperUtils.getThreeInOneUserType()),e)},T.sendFormjackTourUIDisplayed=function(e){var t=T.TELEMETRY_CATEGORY.FORMJACK_TOUR,e=e?T.actionType.UI.FORMJACK_TOUR_NEW_USER_UI_SHOWN:T.actionType.UI.FORMJACK_TOUR_EXISTING_USER_UI_SHOWN,a=A.PRODUCT_LABEL,n=T.getCustomDimensionValues();T.send(t,e,a,n)},T.sendFormjackProtectionLearnMoreClicked=function(e){var t=e===A.FORMJACK_LEARNMORE_LAUNCH_POINT.FORMJACK_TOUR?T.TELEMETRY_CATEGORY.FORMJACK_TOUR:T.TELEMETRY_CATEGORY.FORMJACK_BLOCK_PAGE,e=e===A.FORMJACK_LEARNMORE_LAUNCH_POINT.FORMJACK_TOUR?T.actionType.UI.FORMJACK_TOUR_UI_LEARN_MORE_CLICKED:T.actionType.UI.FORMJACK_BLOCK_PAGE_LEARN_MORE_CLICKED,a=A.PRODUCT_LABEL,n=T.getCustomDimensionValues();T.send(t,e,a,n)},T.sendFormjackTourUIClosed=function(e){var t=T.TELEMETRY_CATEGORY.FORMJACK_TOUR,e=e?T.actionType.UI.FORMJACK_TOUR_NEW_USER_UI_CLOSED:T.actionType.UI.FORMJACK_TOUR_EXISTING_USER_UI_CLOSED,a=A.PRODUCT_LABEL,n=T.getCustomDimensionValues();T.send(t,e,a,n)},T.sendTourKeyPressCancelEvent=function(){var e=T.TELEMETRY_CATEGORY.HOMEPAGE_TOUR,t=T.actionType.UI.HP_TOUR_KEY_PRESS_CANCEL,a=A.PRODUCT_LABEL,n=T.getCustomDimensionValues();T.send(e,t,a,n)},T.sendTourTriggeredByUserEvent=function(){var e=T.TELEMETRY_CATEGORY.HOMEPAGE_TOUR,t=T.actionType.UI.HP_TOUR_TRIGGERED_BY_USER,a=A.PRODUCT_LABEL,n={[c.parameters.CUSTOM_DIMENSION4]:A.VENDOR};T.send(e,t,a,n)},T.sendTourTriggeredAutomaticallyEvent=function(){var e=T.TELEMETRY_CATEGORY.HOMEPAGE_TOUR,t=T.actionType.UI.HP_TOUR_TRIGGERED_AUTOMATICALLY,a=A.PRODUCT_LABEL,n={[c.parameters.CUSTOM_DIMENSION4]:A.VENDOR};T.send(e,t,a,n)},T.sendTourKeyPressNextEvent=function(){var e=T.TELEMETRY_CATEGORY.HOMEPAGE_TOUR,t=T.actionType.UI.HP_TOUR_KEY_PRESS_NEXT,a=A.PRODUCT_LABEL,n=T.getCustomDimensionValues();T.send(e,t,a,n)},T.sendTourFinishedEvent=function(){var e=T.TELEMETRY_CATEGORY.HOMEPAGE_TOUR,t=T.actionType.UI.HP_TOUR_COMPLETED,a=A.PRODUCT_LABEL,n=T.getCustomDimensionValues();T.send(e,t,a,n)},T.sendTourTriggeredByUserEvent=function(){var e=T.TELEMETRY_CATEGORY.HOMEPAGE_TOUR,t=T.actionType.UI.HP_TOUR_TRIGGERED_BY_USER,a=A.PRODUCT_LABEL,n=T.getCustomDimensionValues();T.send(e,t,a,n)},T.sendTourTriggeredAutomaticallyEvent=function(){var e=T.TELEMETRY_CATEGORY.HOMEPAGE_TOUR,t=T.actionType.UI.HP_TOUR_TRIGGERED_AUTOMATICALLY,a=A.PRODUCT_LABEL,n=T.getCustomDimensionValues();T.send(e,t,a,n)},T.sendTwitterSectionToggleEvent=e=>{var t=T.TELEMETRY_CATEGORY.EXT_HOME_PAGE.TWITTER_FEED,e=e?T.actionType.UI.TWITTER_SECTION_SHOWN:T.actionType.UI.TWITTER_SECTION_HIDDEN,a=A.PRODUCT_LABEL,n=T.getCustomDimensionValues();T.send(t,e,a,n)},T.sendSecurityCenterSectionToggleEvent=e=>{var t=T.TELEMETRY_CATEGORY.EXT_HOME_PAGE.SECURITY_CENTER_NEWS_FEED,e=e?T.actionType.UI.SECURITY_CENTER_SECTION_SHOWN:T.actionType.UI.SECURITY_CENTER_SECTION_HIDDEN,a=A.PRODUCT_LABEL,n=T.getCustomDimensionValues();T.send(t,e,a,n)},T.send=function(e,t,a,n){this.checkStringIsValid(e),this.checkStringIsValid(t),this.checkStringIsValid(a);var r={};if(r[c.parameters.CAMPAIGN_SOURCE]=o.getPartnerId(),r[c.parameters.CAMPAIGN_MEDIUM]=o.getCampaignMedium(),r[c.parameters.HIT_TYPE]=c.HIT_TYPE.EVENT,r[c.parameters.CATEGORY]=e,r[c.parameters.ACTION]=t,r[c.parameters.LABEL]=a,S(n))for(var i in n){var s=n[i];r[i]=s}(_.telemetry||_.telemetryProxy).send(r)},T.sendTwitterFeedClickEvent=function(t,a){if(!l(a)){var n=T.TELEMETRY_CATEGORY.EXT_HOME_PAGE.TWITTER_FEED,r=T.actionType.CLICK_EVENT,i=A.PRODUCT_LABEL;let e=T.getCustomDimensionValues();(e=l(e)?{}:e)[c.parameters.CUSTOM_DIMENSION7]=t,e[c.parameters.CUSTOM_DIMENSION8]=a,T.send(n,r,i,e)}},T.sendSecurityCenterNewsFeedClickEvent=function(t,a){if(!l(a)){var n=T.TELEMETRY_CATEGORY.EXT_HOME_PAGE.SECURITY_CENTER_NEWS_FEED,r=T.actionType.CLICK_EVENT,i=A.PRODUCT_LABEL;let e=T.getCustomDimensionValues();(e=l(e)?{}:e)[c.parameters.CUSTOM_DIMENSION7]=t,e[c.parameters.CUSTOM_DIMENSION8]=a,T.send(n,r,i,e)}},T.sendGoogleAppsPopupShownEvent=function(){var e=T.actionType.UI.GOOGLE_APPS_ICON,t=T.actionType.CLICK_EVENT,a=A.PRODUCT_LABEL;let n=T.getCustomDimensionValues();l(n)&&(n={}),T.send(e,t,a,n)},T.sendMoreGoogleAppsClickEvent=function(){var e=T.actionType.UI.MORE_GOOGLE_APPS,t=T.actionType.CLICK_EVENT,a=A.PRODUCT_LABEL;let n=T.getCustomDimensionValues();l(n)&&(n={}),T.send(e,t,a,n)},T.sendGoogleAppsClickEvent=function(t){if(!l(t)){var a=T.actionType.UI.GOOGLE_APPS,n=T.actionType.CLICK_EVENT,r=A.PRODUCT_LABEL;let e=T.getCustomDimensionValues();(e=l(e)?{}:e)[c.parameters.CUSTOM_DIMENSION18]=t,T.forceSendTelemetry(a,n,r,e)}},T.sendSelfUninstallTelemetry=function(e){var t=c.TELEMETRY_CATEGORY.EXTENSION,a=T.actionType.CONSENT_SELF_REMOVAL,n=A.PRODUCT_LABEL;T.forceSendTelemetry(t,a,n,null,e)},T.getBfwTelemetryObject=function(){if(!S(this._telemetryObj)){var e,t={APPLICATION_NAME:A.PRODUCT_NAME+"_"+_.extensionAdapter.getExtensionId(),APPLICATION_VERSION:A.VERSION,CLIENT_ID:s.init.getClientID(),DATA_SOURCE:c.dataSource.BROWSER_EXTENSION,TRACKING_ID:A.TELEMETRY_TRACKING_ID,USER_LANGUAGE:navigator.language,ANONYMIZE_IP:1,GOOGLE_ANALYTICS_PROTOCOL_VERSION:1,BROWSER_NAME:_.globals.BROWSER},a=new _.Telemetry(c.MESSAGES.SEND_TELEMETRY_TO_BGPROXY,!0),n=(a.clientID=t.CLIENT_ID,{});for(e in t){var r=c.defaultParameters[e];l(r)||l(r.key)||(n[r.key]=t[e])}var i=_.telemetry.constructMessageBody(n);a.defaultParameters=i,a.initialized=!0,this._telemetryObj=a}return this._telemetryObj},T._getParameterList=(e,t,a,n)=>{T.checkStringIsValid(e),T.checkStringIsValid(t),T.checkStringIsValid(a);var r={};if(r[c.parameters.CAMPAIGN_SOURCE]=o.getPartnerId(),r[c.parameters.CAMPAIGN_MEDIUM]=o.getCampaignMedium(),r[c.parameters.HIT_TYPE]=c.HIT_TYPE.EVENT,r[c.parameters.CATEGORY]=e,r[c.parameters.ACTION]=t,r[c.parameters.LABEL]=a,S(n))for(var i in n){var s=n[i];r[i]=s}return r},T.forceSendTelemetryWithAcknowledgement=async function(e,t,a,n,r){e=T._getParameterList(e,t,a,n);return await T.getBfwTelemetryObject().send(e,r)},T.forceSendTelemetry=function(e,t,a,n,r){e=T._getParameterList(e,t,a,n);T.getBfwTelemetryObject().send(e,r)},T.sendVendorMigrationPing=function(){if(!o.getVendorMigrationDone()){var e={[c.parameters.CAMPAIGN_SOURCE]:o.getPartnerId(),[c.parameters.CAMPAIGN_MEDIUM]:o.getCampaignMedium(),[c.parameters.HIT_TYPE]:c.HIT_TYPE.EVENT,[c.parameters.CATEGORY]:c.TELEMETRY_CATEGORY.EXTENSION,[c.parameters.ACTION]:T.actionType.VENDOR_MIGRATION,[c.parameters.LABEL]:A.PRODUCT_LABEL},t=T.getCustomDimensionValues();if(S(t))for(var a in t){var n=t[a];e[a]=n}T.getBfwTelemetryObject().send(e),o.setVendorMigrationDone(!0)}},T.sendCustomQuickLinkTriggeredEvent=e=>{var t=T.TELEMETRY_CATEGORY.EXT_HOME_PAGE.CUSTOM_QUICK_LINK,e=T.actionType.CLICK_EVENT+"-"+e,a=A.PRODUCT_LABEL,n=T.getCustomDimensionValues();T.send(t,e,a,n)},T.sendCustomChickletEventCompletion=(e,t)=>{var a=T.TELEMETRY_CATEGORY.EXT_HOME_PAGE.CUSTOM_QUICK_LINK,e=T.actionType.UI.CUSTOM_QUICKLINK_USER_EVENT_COMPLETION+"-"+e,n=A.PRODUCT_LABEL;let r=T.getCustomDimensionValues();(r=l(r)?{}:r)[c.parameters.CUSTOM_DIMENSION1]=t,T.send(a,e,n,r)},T.sendCustomQuickLinkFailureEvent=(e,t)=>{var a=T.TELEMETRY_CATEGORY.EXT_HOME_PAGE.CUSTOM_QUICK_LINK,n=T.actionType.UI.CUSTOM_QUICKLINK_USER_EVENT_FAILURE,e=A.PRODUCT_LABEL+"-"+e;let r=T.getCustomDimensionValues();l(r)&&(r={}),S(t)&&(r[c.parameters.CUSTOM_DIMENSION1]=t),T.send(a,n,e,r)},T.sendChickletTourShownTelemetry=function(){var e=T.TELEMETRY_CATEGORY.EXT_HOME_PAGE.CUSTOM_QUICK_LINK,t=T.actionType.CHICKLET_TOUR_SHOWN,a=A.PRODUCT_LABEL,n=T.getCustomDimensionValues();T.send(e,t,a,n)},T.sendChickletTourFinishedTelemetry=function(){var e=T.TELEMETRY_CATEGORY.EXT_HOME_PAGE.CUSTOM_QUICK_LINK,t=T.actionType.CHICKLET_TOUR_COMPLETED,a=A.PRODUCT_LABEL,n=T.getCustomDimensionValues();T.send(e,t,a,n)},T.sendCreditCardTelemetryNetworkRequests=function(e,t,a,n){var r=T.TELEMETRY_CATEGORY.CREDIT_CARD_TELEMETRY,i=T.actionType.CREDIT_CARD_TELEMETRY_NETWORK_REQUEST;let s=T.getCustomDimensionValues();(s=l(s)?{}:s)[c.parameters.CUSTOM_DIMENSION7]=e,s[c.parameters.CUSTOM_DIMENSION8]=t,s[c.parameters.CUSTOM_DIMENSION9]=a,T.send(r,i,n,s)},T.sendCreditCardTelemetry=function(e,t,a){var n=T.TELEMETRY_CATEGORY.CREDIT_CARD_TELEMETRY,r=T.actionType.CREDIT_CARD_TELEMETRY_PAGE_DETAILS;let i=T.getCustomDimensionValues();(i=l(i)?{}:i)[c.parameters.CUSTOM_DIMENSION7]=e,i[c.parameters.CUSTOM_DIMENSION8]=t,T.send(n,r,a,i)},T.sendWeatherWidgetClickEvent=function(){var e=T.TELEMETRY_CATEGORY.EXT_HOME_PAGE.WEATHER_WIDGET,t=T.actionType.CLICK_EVENT,a=A.PRODUCT_LABEL,n=T.getCustomDimensionValues();T.send(e,t,a,n)},T.sendSettingsToggleTelemetry=function(e,t){var a=T.TELEMETRY_CATEGORY.EXT_HOME_PAGE.SETTINGS_MODAL,e=e+"_"+t,t=A.PRODUCT_LABEL,n=T.getCustomDimensionValues();T.send(a,e,t,n)},T.sendHomePageTourGotItClick=function(){var e=T.TELEMETRY_CATEGORY.EXT_HOME_PAGE.TOUR_MODAL,t=T.actionType.HP_TOUR_GOT_IT_CLICK,a=A.PRODUCT_LABEL,n=T.getCustomDimensionValues();T.send(e,t,a,n)},T.sendHomePageTourCloseClick=function(){var e=T.TELEMETRY_CATEGORY.EXT_HOME_PAGE.TOUR_MODAL,t=T.actionType.HP_TOUR_CLOSE_CLICK,a=A.PRODUCT_LABEL,n=T.getCustomDimensionValues();T.send(e,t,a,n)},T.sendRestoreToDefaultTelemetry=function(){var e=T.TELEMETRY_CATEGORY.EXT_HOME_PAGE.SETTINGS_MODAL,t=T.actionType.RESTORE_TO_DEFAULT_CLICK,a=A.PRODUCT_LABEL,n=T.getCustomDimensionValues();T.send(e,t,a,n)},T.sendCustomThemeToggleTelemetry=function(e){var t=T.TELEMETRY_CATEGORY.EXT_HOME_PAGE.SETTINGS_MODAL,e=T.actionType.CUSTOM_THEME+"_"+e,a=A.PRODUCT_LABEL,n=T.getCustomDimensionValues();T.send(t,e,a,n)},T.sendBlockPagePromotionTileShown=()=>{var e=T.TELEMETRY_CATEGORY.BLOCKPAGE.PROMOTION_TILE,t=T.actionType.BLOCKPAGE.PROMOTION_TILE_SHOWN,a=A.PRODUCT_LABEL,n=T.getCustomDimensionValues();T.forceSendTelemetry(e,t,a,n)},T.sendBlockPagePromotionTileClick=()=>{var e=T.TELEMETRY_CATEGORY.BLOCKPAGE.PROMOTION_TILE,t=T.actionType.BLOCKPAGE.PROMOTION_TILE_CLICK,a=A.PRODUCT_LABEL,n=T.getCustomDimensionValues();T.forceSendTelemetry(e,t,a,n)},T})(e.SymBfw,e.NSSS)})(executionContext),(e=>{var t={BRAND:"Norton",LICENSE_TYPE:"Free",PLATFORM:"Extn",MISSING:"MISSING",TRUE:"true",FALSE:"false",DEFAULT_EXTENSION_INSTALLATION_STATUS:"free",AT_INSTALLATION_STATUS_CUSTOMDIMENSION:"cd5",AT_ENABLED_STATUS_CUSTOMDIMENSION:"cd6",TELEMETRY_CATEGORY:{SEARCH:"search",POPUP_UI:"popupui",HOMEPAGE_TOUR:"homepage_tour",SCAM_INSIGHT:"Scam_Insight",FORMJACK_TOUR:"formjack_tour",FORMJACK_BLOCK_PAGE:"formjack_block_page",EXT_SETTINGS_PAGE:"settings_page",URL_REPUTATION:"url_reputation",BLOCKPAGE:{knownbad:"antiphishing",suspectedbad:"regional_block",IPS:"ips",malicious:"dangerous",maliciousshop:"dangerous",scam:"scamInsight",redirect:"redirect",FORMJACKING:"Formjacking",PROMOTION_TILE:"promotion_tile"},EXT_HOME_PAGE:{CUSTOM_QUICK_LINK:"customQuickLink",QUICKLINK:"quicklink",QUICK_LINK_CATEGORY:{ADM_DEFAULT_DOMAIN:"admDefaultDomain",ADM_CACHED_DOMAIN:"admCachedDomain",ADM_DOMAIN:"admDomain",AFFINITY_DOMAIN:"affinityDomain",STATIC_DOMAIN:"staticDomain"},QUICK_LINK_CHICKLET_TYPE:{CUSTOM:"custom",MOST_VISITED_SITE:"most_visited_site",AD_LINKS:"adLinks"},AUTO_SUGGEST:"autosuggest",SEARCH:"search",PAGE_VIEW:"hp_pageview",TOUR_MODAL:"tour_modal",WEATHER_WIDGET:"weather_widget"},DOWNLOAD_BLOCK:"download_block",GOOGLE_APPS:"google-apps",GOOGLE_APPS_ICON:"google-apps-icon",MORE_GOOGLE_APPS:"more-google-apps",SEARCH_ENTITLEMENTS:"searchEntitlements",CREDIT_CARD_TELEMETRY:"creditCardTelemetry",KEEP_ASSIST_UI:"keep_assist_ui"},TELEMETRY_ACTION:{CLICK_EVENT:"click",HP_TOUR_GOT_IT_CLICK:"got_it_click",HP_TOUR_CLOSE_CLICK:"close_icon_click",TOUR_TRIGGERED_BY_USER:"tour_triggered_by_user",PAGE_LOAD_EVENT:"page_load",HP_TOUR_KEY_PRESS_CANCEL:"tour_key_press_cancel",HP_TOUR_KEY_PRESS_NEXT:"tour_key_press_next",HP_TOUR_COMPLETED:"hp_tour_completed",RESTORE_TO_DEFAULT_CLICK:"restore_to_default_click",CUSTOM_THEME:"custom_theme",FORMJACKING_SILENT_TELEMETRY:"Formjacking_silent_telemetry",UI:{SHOW_POPUP_UI:"show_popup_ui",SCAM_INSIGHT_CONTINUE_TO_SITE:"scam_insight_continue_to_site",SCAM_INSIGHT_REPORT_ISSUE:"scam_insight_report_issue",FORMJACKING_CONTINUE_TO_SITE:"Formjacking_continue_to_site",FORMJACK_BLOCK_PAGE_TECH_DETAILS_CLICKED:"formjack_block_page_tech_details_clicked",FORMJACK_BLOCK_PAGE_GOT_IT_CLICKED:"formjack_block_page_got_it_clicked",FORMJACK_BLOCK_PAGE_EXIT_CLICKED:"formjack_block_page_exit_clicked",FORMJACK_TOUR_UI_LEARN_MORE_CLICKED:"formjack_tour_ui_learn_more_clicked",FORMJACK_BLOCK_PAGE_LEARN_MORE_CLICKED:"formjack_block_page_learn_more_clicked",CUSTOM_QUICKLINK_USER_EVENT_COMPLETION:"custom-quicklink-user-event-completion",CUSTOM_QUICKLINK_USER_EVENT_FAILURE:"custom-quicklink-user-event-failure",FORMJACK_TOUR_NEW_USER_UI_CLOSED:"formjack_tour_new_user_ui_closed",FORMJACK_TOUR_EXISTING_USER_UI_CLOSED:"formjack_tour_existing_user_ui_closed",FORMJACK_TOUR_NEW_USER_UI_SHOWN:"formjack_tour_new_user_ui_shown",FORMJACK_TOUR_EXISTING_USER_UI_SHOWN:"formjack_tour_existing_user_ui_shown"},PAGE:{FORMJACKING_BLOCK_PAGE_SHOWN:"Formjacking_block_page_shown",SCAM_INSIGHT_PAGE_DISPLAYED:"scam_insight_page_displayed"},BLOCKPAGE:{BLOCK_PAGE_SHOWN:"block_page_shown",CONTINUE_TO_SITE:"continue_to_site_clicked",EXIT_BLOCK_PAGE:"exit_block_page",PROMOTION_TILE_CLICK:"promotion_tile_click",PROMOTION_TILE_SHOWN:"promotion_tile_shown"},SEARCH:{BLOCKEDPAGE_SEARCH_QUERY:"blockedPage_search_query",SEARCH_QUERY:"search_query",ACTION_CLICKED:"action_clicked",DEFAULT_SEARCH:"ds",DEFAULT_HOMEPAGE:"dhp",UI_SEARCH_QUERY:"ui_search_query"},CREDIT_CARD_TELEMETRY_NETWORK_REQUEST:"networkRequest",CREDIT_CARD_TELEMETRY_PAGE_DETAILS:"pageDetails",KEEP_ASSIST_UI_SHOWN:"keep_assist_shown"},TELEMETRY_TYPE:{SETTINGS_CHANGE:"settings_change",FORMJACKING_BLOCK_TYPE:{PAGE:"page",IFRAME:"iframe",SUBMISSION:"submission"},POPUP_UI:{SHOW:"show_popup_ui"},CUSTOM_QUICKLINK_URL:"custom_quicklink_url",HP_LOCATION_INFO:"hp_location_info",ENGLISH_HOME_PAGE_SHOWN:"english_only_hp_shown",MALICIOUS_DOWNLOAD_URL:"malicious_download_url",DS_HP_ENABLEMENT_STATUS:"ds_hp_enablement_status",TILES_API_FAILURE:"tiles_api_query_failed",UI_SEARCH_QUERY:"ui_search_query",CREDIT_CARD_PAGE_DATA:"credit_card_page_data",FORMJACK_TOUR_CLOSED_DATA:"formjack_tour_closed",FORMJACK_TOUR_UI_DISPLAYED:"formjack_tour_displayed",KEEP_ASSIST_UI_DATA:"keep_assist-ui"},TELEMETRY_PAGE_INFO:{HP_TOUR_TRIGGERED_AUTOMATICALLY:"hp_tour_triggered_automatically",HP_PAGE_LOAD:"hp_page_load"},TELEMETRY_FORM_TYPE:{MAIN_FRAME:"main_frame",SUB_FRAME:"sub_frame"},QUEUE_STORAGE_KEY:"07507215-D63A-4C6E-AFA9-C0CE5F87B75E",TRACKINGSERVER_STORAGE_CONTAINER:"07104AC8-1FD1-42B6-8578-213974CDEF70",DEFAULT_INSTALLATION_PAGE_URL:"defaultwebstore",LOG_ERROR_WARNING_ID:"99582520-7C40-473A-B865-5BF70C7E4C36"};(e.NSSS=e.NSSS||{}).telemetryTrackerConstants=t})(executionContext),(e=>{let{logger:n,settings:t,utils:{isNil:r}}=SymBfw,i=NSSS.telemetryTrackerConstants;(e.NSSS=e.NSSS||{}).trackerStorageSettings=new class{constructor(){this.trackerStorageSettingsContainer=null}async initialize(){return new Promise(a=>{t.loadSettingsContainer(i.TRACKINGSERVER_STORAGE_CONTAINER,!0,(e,t)=>{!1===e||r(t)?(n.error("failed to load TRACKINGSERVER_STORAGE_CONTAINER"),a(!1)):(this.trackerStorageSettingsContainer=t,a(!0))})})}get(e){if(!r(this.trackerStorageSettingsContainer))return this.trackerStorageSettingsContainer.getObject(e);n.error("settings not initialized")}set(e,t){r(this.trackerStorageSettingsContainer)?n.error("settings not initialized"):this.trackerStorageSettingsContainer.setObject(e,t)}remove(e){r(this.trackerStorageSettingsContainer)?n.error("settings not initialized"):this.trackerStorageSettingsContainer.removeObject(e)}async reset(){await new Promise(e=>{t.resetSettingsCollection(i.TRACKINGSERVER_STORAGE_CONTAINER,e)})}}})(executionContext),(e=>{let{trackerStorageSettings:a,telemetryTrackerConstants:n}=NSSS;(e.NSSS=e.NSSS||{}).trackerEventQueue=new class{addEvent(e){var t=this.getEvents();t.push(e),a.set(n.QUEUE_STORAGE_KEY,t)}getEvents(){var e=a.get(n.QUEUE_STORAGE_KEY);return e||[]}clearEvents(){a.remove(n.QUEUE_STORAGE_KEY)}}})(executionContext),(e=>{let{isNil:_,isntNil:n,isString:s,isFunction:r}=SymBfw.utils,{constants:T,trackerStorageSettings:i,telemetryTrackerConstants:S}=NSSS,l=(SymBfw.telemetryConstants,NSSS.uiConstants.BLOCKPAGE.TYPE);(e.NSSS=e.NSSS||{}).telemetryTrackerClient=new class{constructor(){this.trackingServerAnalyticsFacade=null,this.getFallBackValueHelper=this.getFallBackValueHelper.bind(this),this.getDynamicTelemetryParams=this.getDynamicTelemetryParams.bind(this),this.executeWithSafeReturn=this.executeWithSafeReturn.bind(this)}async init(e,t){var a={getDynamicTelemetryParams:this.getDynamicTelemetryParams};this.trackingServerAnalyticsFacade=new trackingServerSDK.TrackingServerAnalyticsFacade(e,t,a),await i.initialize()}async getExtensionInstallationStatus(){let e={};S.DEFAULT_EXTENSION_INSTALLATION_STATUS,S.DEFAULT_EXTENSION_INSTALLATION_STATUS,S.DEFAULT_EXTENSION_INSTALLATION_STATUS,S.DEFAULT_EXTENSION_INSTALLATION_STATUS,S.DEFAULT_EXTENSION_INSTALLATION_STATUS;var t=S.MISSING,a=S.MISSING;try{e=await NSSS.externalCommunication.getHbPingDataForExternalExtensions()}catch(e){console.error("Error fetching external extensions installation status",e)}return{hp_installation_status:e[T.EXTERNAL_EXTENSION_COMMUNICATION_DETAILS.hp.custom_dimension]?await e[T.EXTERNAL_EXTENSION_COMMUNICATION_DETAILS.hp.custom_dimension]():S.MISSING,sw_installation_status:e[T.EXTERNAL_EXTENSION_COMMUNICATION_DETAILS.sw.custom_dimension]?await e[T.EXTERNAL_EXTENSION_COMMUNICATION_DETAILS.sw.custom_dimension]():S.MISSING,ds_installation_status:e[T.EXTERNAL_EXTENSION_COMMUNICATION_DETAILS.ds.custom_dimension]?await e[T.EXTERNAL_EXTENSION_COMMUNICATION_DETAILS.ds.custom_dimension]():S.MISSING,mnet_installation_status:e[T.EXTERNAL_EXTENSION_COMMUNICATION_DETAILS["media-dot-net"].custom_dimension]?await e[T.EXTERNAL_EXTENSION_COMMUNICATION_DETAILS["media-dot-net"].custom_dimension]():S.MISSING,threeinone_installation_status:e[T.EXTERNAL_EXTENSION_COMMUNICATION_DETAILS["three-in-one"].custom_dimension]?await e[T.EXTERNAL_EXTENSION_COMMUNICATION_DETAILS["three-in-one"].custom_dimension]():S.MISSING,at_installation_status:t,at_enablement_status:a}}async getDynamicTelemetryParams(){var e=await NSSS.telemetryTrackerClient.executeWithSafeReturn(NSSS.helperUtils.getBrowserThemeForHbPing,!0),{hp_installation_status:t,sw_installation_status:a,ds_installation_status:n,media_dot_net_installation_status:r,threeinone_installation_status:i,at_installation_status:s,at_enablement_status:E}=await this.getExtensionInstallationStatus();let o=S.MISSING,_=S.MISSING;return NSSS.uiConstants.EXTENSION_TYPE!==NSSS.uiConstants.SAFEWEB_EXTENSION&&(_=await NSSS.NSSSHelper.getTrackValue(),o=await(NSSS.helperUtils.isHP()?NSSS.telemetryTrackerClient.executeWithSafeReturn(NSSS.customDarkModeManager.getThemeForTelemetryTracker):NSSS.telemetryTrackerClient.executeWithSafeReturn(NSSS.helperUtils.getCustomThemeForHbPing))),{extension_theme:o,browser_theme:e,partner_id:NSSS.telemetryTrackerClient.getFallBackValueHelper(NSSS.globalSettings.getPartnerId()),partner_unit_id:NSSS.telemetryTrackerClient.getFallBackValueHelper(NSSS.globalSettings.getPUID()),campaign_code:NSSS.telemetryTrackerClient.getFallBackValueHelper(NSSS.NSSSHelper.getCampaignCode()),install_source:NSSS.telemetryTrackerClient.getFallBackValueHelper(NSSS.NSSSHelper.getInstallSource()),test_track_info:_,hp_installation_status:NSSS.telemetryTrackerClient.getFallBackValueHelper(t),sw_installation_status:NSSS.telemetryTrackerClient.getFallBackValueHelper(a),ds_installation_status:NSSS.telemetryTrackerClient.getFallBackValueHelper(n),mnet_installation_status:NSSS.telemetryTrackerClient.getFallBackValueHelper(r),at_installation_status:NSSS.telemetryTrackerClient.getFallBackValueHelper(s),at_enablement_status:NSSS.telemetryTrackerClient.getFallBackValueHelper(E),threeinone_installation_status:NSSS.telemetryTrackerClient.getFallBackValueHelper(i)}}getTrackingServerAnalyticsFacadeInstance(){return this.trackingServerAnalyticsFacade}checkStringIsValid(e){if(!s(e))throw new Error(e+" must be of type string")}getFallBackValueHelper(e){return null==e?S.MISSING:e}async executeWithSafeReturn(e,t=!1){if(r(e))try{var a=t?await e():e();return this.getFallBackValueHelper(a)}catch(e){console.error("An error occurred initializing TelemetryTrackerClient:",e)}else console.error("fn must be a function");return S.MISSING}async getSuperParams(){var e=T.PRODUCT_NAME+"_"+SymBfw.extensionAdapter.getExtensionId(),t=this.getFallBackValueHelper(NSSS.globalSettings.getInstallDate()),a=this.getFallBackValueHelper(NSSS.globalSettings.getInstallationPageURL()),n=this.getFallBackValueHelper(NSSS.globalSettings.getPartnerId()),r=this.getFallBackValueHelper(NSSS.globalSettings.getPUID()),i=this.getFallBackValueHelper(NSSS.NSSSHelper.getInstallSource()),s=this.getFallBackValueHelper(NSSS.NSSSHelper.getCampaignCode()),E=this.getFallBackValueHelper(NSSS.NSSSHelper.getLayoutType());let o=S.MISSING,_=S.MISSING;return NSSS.uiConstants.EXTENSION_TYPE!==NSSS.uiConstants.SAFEWEB_EXTENSION&&(o=this.getFallBackValueHelper(NSSS.NSSSHelper.getWeekOfInstall()),_=await this.executeWithSafeReturn(NSSS.NSSSHelper.getExtensionInstallType,!0)),{app_id:SymBfw.extensionAdapter.getExtensionId(),app_name:e,app_version:T.VERSION,brand:S.BRAND,guid:NSSS.init.getClientID(),license_type:S.LICENSE_TYPE,extension_type:NSSS.uiConstants.EXTENSION_TYPE,layout_type:E,install_type:_,install_source:i,platform:S.PLATFORM,partner_id:n,partner_unit_id:r,installation_page_url:a||S.DEFAULT_INSTALLATION_PAGE_URL,week_of_installation:o,date_of_installation:t,campaign_code:s,environment:NSSS.constants.BUILD_CONFIG,build_type:NSSS.constants.BUILD_CONFIG}}async sendExtensionInstall(){var e={event:trackingServerSDK.TelemetryEventNames.extnInstall};this.trackingServerAnalyticsFacade.sendEvent(e)}async sendExtensionUpdate(){var e={event:trackingServerSDK.TelemetryEventNames.extnUpdate};this.trackingServerAnalyticsFacade.sendEvent(e)}async sendTourTriggeredByUserEvent(){var e={event:trackingServerSDK.TelemetryEventNames.extnClick,category:S.TELEMETRY_CATEGORY.HOMEPAGE_TOUR,action:S.TELEMETRY_ACTION.TOUR_TRIGGERED_BY_USER,type:S.TELEMETRY_TYPE.SETTINGS_CHANGE};this.trackingServerAnalyticsFacade.sendEvent(e)}async sendRestoreToDefaultTelemetryEvent(){var e={event:trackingServerSDK.TelemetryEventNames.extnFeatureStatus,category:S.TELEMETRY_TYPE.SETTINGS_CHANGE,state:S.TELEMETRY_ACTION.RESTORE_TO_DEFAULT_CLICK};this.trackingServerAnalyticsFacade.sendEvent(e)}sendSettingsToggleTelemetry(e,t){e=e+"_"+t,t={event:trackingServerSDK.TelemetryEventNames.extnFeatureStatus,category:S.TELEMETRY_TYPE.SETTINGS_CHANGE,state:e};this.trackingServerAnalyticsFacade.sendEvent(t)}async sendCustomThemeToggleTelemetry(e){e=S.TELEMETRY_ACTION.CUSTOM_THEME+"_"+e,e={event:trackingServerSDK.TelemetryEventNames.extnFeatureStatus,category:S.TELEMETRY_TYPE.SETTINGS_CHANGE,state:e};this.trackingServerAnalyticsFacade.sendEvent(e)}async sendFormjackBlockPageTechDetailsClicked(){var e={event:trackingServerSDK.TelemetryEventNames.extnClick,category:S.TELEMETRY_CATEGORY.FORMJACK_BLOCK_PAGE,action:S.TELEMETRY_ACTION.UI.FORMJACK_BLOCK_PAGE_TECH_DETAILS_CLICKED,type:S.TELEMETRY_TYPE.FORMJACKING_BLOCK_TYPE.PAGE};this.trackingServerAnalyticsFacade.sendEvent(e)}async sendFormjackGotItClicked(){var e={event:trackingServerSDK.TelemetryEventNames.extnClick,category:S.TELEMETRY_CATEGORY.URL_REPUTATION,action:S.TELEMETRY_ACTION.UI.FORMJACK_BLOCK_PAGE_GOT_IT_CLICKED,type:S.TELEMETRY_TYPE.FORMJACKING_BLOCK_TYPE.PAGE};this.trackingServerAnalyticsFacade.sendEvent(e)}async sendFormjackBlockPageExitClicked(){var e={event:trackingServerSDK.TelemetryEventNames.extnClick,category:S.TELEMETRY_CATEGORY.FORMJACK_BLOCK_PAGE,action:S.TELEMETRY_ACTION.UI.FORMJACK_BLOCK_PAGE_EXIT_CLICKED,type:S.TELEMETRY_TYPE.FORMJACKING_BLOCK_TYPE.PAGE};this.trackingServerAnalyticsFacade.sendEvent(e)}async sendFormjackBlockPageTelemetry(e,t=!1){return this.sendFormjackTelemetry(e,t,!1)}async sendFormjackSilentTelemetry(e){return this.sendFormjackTelemetry(e,!1,!0)}async sendFormjackTelemetry(a,n=!1,r=!1){if(a){var i=a.originalURL;if(s(i)){let t=null;try{t=SymBfw.utils.urlWithoutQueryParameters(i,!0)}catch(e){SymBfw.logger.debug("Failed to get URL without params"),t=SymBfw.utils.getDomain(i)}if(s(t)){i=r?S.TELEMETRY_ACTION.FORMJACKING_SILENT_TELEMETRY:n?S.TELEMETRY_ACTION.UI.FORMJACKING_CONTINUE_TO_SITE:S.TELEMETRY_ACTION.PAGE.FORMJACKING_BLOCK_PAGE_SHOWN;let e={event:trackingServerSDK.TelemetryEventNames.extnClick,category:S.TELEMETRY_CATEGORY.URL_REPUTATION,action:i,blockedURL:a.blockedDomain,domain:t};n||(e={event:trackingServerSDK.TelemetryEventNames.extnPageview,category:S.TELEMETRY_CATEGORY.URL_REPUTATION,page:i,blockedURL:a.blockedDomain,pageurl:t}),this.trackingServerAnalyticsFacade.sendEvent(e)}}}}async sendShowPopupUIEvent(e){if(_(e))throw new Error("Page URL cannot be null");var t=new URI(e).pathname(),t={event:trackingServerSDK.TelemetryEventNames.extnCollect,category:S.TELEMETRY_CATEGORY.POPUP_UI,action:S.TELEMETRY_ACTION.UI.SHOW_POPUP_UI,type:t,pageurl:e};this.trackingServerAnalyticsFacade.sendEvent(t)}async sendBlockedPageSearchEvent(){var e={event:trackingServerSDK.TelemetryEventNames.extnCollect,category:S.TELEMETRY_CATEGORY.SEARCH,action:S.TELEMETRY_ACTION.SEARCH.BLOCKEDPAGE_SEARCH_QUERY,type:S.TELEMETRY_CATEGORY.SEARCH};this.trackingServerAnalyticsFacade.sendEvent(e)}async sendScamBlockPageVisitedEvent(t){this.checkStringIsValid(t);let a=null;try{a=SymBfw.utils.urlWithoutQueryParameters(t,!0)}catch(e){SymBfw.logger.debug("Failed to get URL without params"),a=Sym,Bfw.utils.getDomain(t)}if(_(a))return null;t={event:trackingServerSDK.TelemetryEventNames.extnCollect,category:S.TELEMETRY_CATEGORY.SCAM_INSIGHT,action:S.TELEMETRY_ACTION.PAGE.SCAM_INSIGHT_PAGE_DISPLAYED,type:S.TELEMETRY_CATEGORY.SCAM_INSIGHT,pageurl:a};this.trackingServerAnalyticsFacade.sendEvent(t)}async sendScamContinueToSiteEvent(e){this.checkStringIsValid(e);e=SymBfw.utils.urlWithoutQueryParameters(e,!0),e={event:trackingServerSDK.TelemetryEventNames.extnCollect,category:S.TELEMETRY_CATEGORY.SCAM_INSIGHT,action:S.TELEMETRY_ACTION.UI.SCAM_INSIGHT_CONTINUE_TO_SITE,type:S.TELEMETRY_CATEGORY.SCAM_INSIGHT,pageurl:e};this.trackingServerAnalyticsFacade.sendEvent(e)}async sendScamReportIssueEvent(){var e={event:trackingServerSDK.TelemetryEventNames.extnClick,category:S.TELEMETRY_CATEGORY.SCAM_INSIGHT,action:S.TELEMETRY_ACTION.UI.SCAM_INSIGHT_REPORT_ISSUE};this.trackingServerAnalyticsFacade.sendEvent(e)}async sendSettingsPageLoadEvent(){var e={event:trackingServerSDK.TelemetryEventNames.extnPageview,category:S.TELEMETRY_CATEGORY.EXT_SETTINGS_PAGE,action:S.TELEMETRY_ACTION.PAGE_LOAD_EVENT,page:S.TELEMETRY_CATEGORY.EXT_SETTINGS_PAGE};this.trackingServerAnalyticsFacade.sendEvent(e)}async sendBlockPageTelemetry(e,t,a,n=!1,r=!1){if(_(e)||_(t))throw new Error("URL or blockPageType cannot be null");var e=SymBfw.utils.urlWithoutQueryParameters(e,!0),i=t===l.KNOWNBAD?"fraudulent":"suspicious",s=!0===a?S.TELEMETRY_ACTION.BLOCKPAGE.CONTINUE_TO_SITE:S.TELEMETRY_ACTION.BLOCKPAGE.BLOCK_PAGE_SHOWN,t=S.TELEMETRY_CATEGORY.BLOCKPAGE[t],s=r?S.TELEMETRY_ACTION.BLOCKPAGE.EXIT_BLOCK_PAGE:s;let E=t===S.TELEMETRY_CATEGORY.BLOCKPAGE.knownbad?i+"_"+s:t+"_"+s,o=(!0===n&&(E=S.TELEMETRY_CATEGORY.BLOCKPAGE.redirect+"_"+E),{event:trackingServerSDK.TelemetryEventNames.extnClick,category:S.TELEMETRY_CATEGORY.URL_REPUTATION,action:E,domain:e});a||n||r||(o={event:trackingServerSDK.TelemetryEventNames.extnPageview,category:S.TELEMETRY_CATEGORY.URL_REPUTATION,page:E,pageurl:e}),this.trackingServerAnalyticsFacade.sendEvent(o)}async sendBlockPagePromotionTileShown(){var e={event:trackingServerSDK.TelemetryEventNames.extnCollect,category:S.TELEMETRY_CATEGORY.BLOCKPAGE.PROMOTION_TILE,action:S.TELEMETRY_ACTION.BLOCKPAGE.PROMOTION_TILE_SHOWN,type:S.TELEMETRY_CATEGORY.BLOCKPAGE.PROMOTION_TILE};this.trackingServerAnalyticsFacade.forceSendImmediate(e)}async sendDefaultSearchEvent(){var e={event:trackingServerSDK.TelemetryEventNames.extnCollect,category:S.TELEMETRY_CATEGORY.SEARCH,action:S.TELEMETRY_ACTION.SEARCH.SEARCH_QUERY,type:S.TELEMETRY_CATEGORY.SEARCH};this.trackingServerAnalyticsFacade.sendEvent(e)}async sendBlockPagePromotionTileClick(){var e={event:trackingServerSDK.TelemetryEventNames.extnClick,category:S.TELEMETRY_CATEGORY.BLOCKPAGE.PROMOTION_TILE,action:S.TELEMETRY_ACTION.BLOCKPAGE.PROMOTION_TILE_CLICK};this.trackingServerAnalyticsFacade.forceSendImmediate(e)}sendTourTriggeredAutomaticallyEvent(){var e={event:trackingServerSDK.TelemetryEventNames.extnPageview,category:S.TELEMETRY_CATEGORY.HOMEPAGE_TOUR,page:S.TELEMETRY_PAGE_INFO.HP_TOUR_TRIGGERED_AUTOMATICALLY};this.trackingServerAnalyticsFacade.sendEvent(e)}sendCustomChickletEventCompletion(e,t){e={event:trackingServerSDK.TelemetryEventNames.extnCollect,category:S.TELEMETRY_CATEGORY.EXT_HOME_PAGE.CUSTOM_QUICK_LINK,action:S.TELEMETRY_ACTION.UI.CUSTOM_QUICKLINK_USER_EVENT_COMPLETION+"-"+e,type:S.TELEMETRY_TYPE.CUSTOM_QUICKLINK_URL,pageurl:t};this.trackingServerAnalyticsFacade.sendEvent(e)}sendTourFinishedEvent(){var e={event:trackingServerSDK.TelemetryEventNames.extnCollect,category:S.TELEMETRY_CATEGORY.HOMEPAGE_TOUR,action:S.TELEMETRY_ACTION.HP_TOUR_COMPLETED,type:""};this.trackingServerAnalyticsFacade.sendEvent(e)}sendTourKeyPressCancelEvent(){var e={event:trackingServerSDK.TelemetryEventNames.extnClick,category:S.TELEMETRY_CATEGORY.HOMEPAGE_TOUR,action:S.TELEMETRY_ACTION.HP_TOUR_KEY_PRESS_CANCEL};this.trackingServerAnalyticsFacade.sendEvent(e)}sendTourKeyPressNextEvent(){var e={event:trackingServerSDK.TelemetryEventNames.extnClick,category:S.TELEMETRY_CATEGORY.HOMEPAGE_TOUR,action:S.TELEMETRY_ACTION.HP_TOUR_KEY_PRESS_NEXT};this.trackingServerAnalyticsFacade.sendEvent(e)}sendCustomQuickLinkTriggeredEvent(e){e={event:trackingServerSDK.TelemetryEventNames.extnClick,category:S.TELEMETRY_CATEGORY.EXT_HOME_PAGE.CUSTOM_QUICK_LINK,action:S.TELEMETRY_ACTION.CLICK_EVENT+"-"+e};this.trackingServerAnalyticsFacade.sendEvent(e)}sendCustomQuickLinkFailureEvent(e,t){e={event:trackingServerSDK.TelemetryEventNames.extnCollect,category:S.TELEMETRY_CATEGORY.EXT_HOME_PAGE.CUSTOM_QUICK_LINK,action:S.TELEMETRY_ACTION.UI.CUSTOM_QUICKLINK_USER_EVENT_FAILURE+"-"+e,type:""};n(t)&&(e.pageurl=t),this.trackingServerAnalyticsFacade.sendEvent(e)}sendHomePageSearchSuggestionClickedEvent(){var e={event:trackingServerSDK.TelemetryEventNames.extnClick,category:S.TELEMETRY_CATEGORY.EXT_HOME_PAGE.AUTO_SUGGEST,action:S.TELEMETRY_ACTION.CLICK_EVENT};this.trackingServerAnalyticsFacade.sendEvent(e)}sendHomePageSearchButtonClickedEvent(){var e={event:trackingServerSDK.TelemetryEventNames.extnClick,category:S.TELEMETRY_CATEGORY.EXT_HOME_PAGE.SEARCH,action:S.TELEMETRY_ACTION.CLICK_EVENT};this.trackingServerAnalyticsFacade.sendEvent(e)}sendHomePageLoadEvent(e=0,t=0,a){e={event:trackingServerSDK.TelemetryEventNames.extnPageview,category:S.TELEMETRY_CATEGORY.EXT_HOME_PAGE.PAGE_VIEW,page:S.TELEMETRY_PAGE_INFO.HP_PAGE_LOAD,resolution:e+"x"+t,ql:a};this.trackingServerAnalyticsFacade.sendEvent(e)}sendEnglishOnlyHomePageShownEvent(e,t){e=`timeInSec=${e}s-searchCount=`+t,t={event:trackingServerSDK.TelemetryEventNames.extnOther,info:S.TELEMETRY_TYPE.ENGLISH_HOME_PAGE_SHOWN,moreinfo:e};this.trackingServerAnalyticsFacade.sendEvent(t)}sendHomePageTourGotItClick(){var e={event:trackingServerSDK.TelemetryEventNames.extnClick,category:S.TELEMETRY_CATEGORY.EXT_HOME_PAGE.TOUR_MODAL,action:S.TELEMETRY_ACTION.HP_TOUR_GOT_IT_CLICK};this.trackingServerAnalyticsFacade.sendEvent(e)}sendHomePageTourCloseClick(){var e={event:trackingServerSDK.TelemetryEventNames.extnClick,category:S.TELEMETRY_CATEGORY.EXT_HOME_PAGE.TOUR_MODAL,action:S.TELEMETRY_ACTION.HP_TOUR_CLOSE_CLICK};this.trackingServerAnalyticsFacade.sendEvent(e)}sendHomePageChickletClickedEvent(e,t,a){try{this.checkStringIsValid(e)}catch(e){return}a={event:trackingServerSDK.TelemetryEventNames.extnClick,category:a||S.TELEMETRY_CATEGORY.EXT_HOME_PAGE.QUICKLINK,action:S.TELEMETRY_ACTION.CLICK_EVENT,type:e};n(t)&&(a.domain=t),this.trackingServerAnalyticsFacade.sendEvent(a)}sendDownloadBlockTelemetry(t,a,n){if(!_(t)){t=SymBfw.utils.urlWithoutQueryParameters(t,!0),a=(a?S.TELEMETRY_CATEGORY.BLOCKPAGE.redirect+"_"+S.TELEMETRY_CATEGORY.DOWNLOAD_BLOCK:S.TELEMETRY_CATEGORY.DOWNLOAD_BLOCK)+"_"+S.TELEMETRY_ACTION.BLOCKPAGE.BLOCK_PAGE_SHOWN;let e="";s(n)&&(e=SymBfw.utils.urlWithoutQueryParameters(n,!0));n={event:trackingServerSDK.TelemetryEventNames.extnCollect,category:S.TELEMETRY_CATEGORY.DOWNLOAD_BLOCK,action:a,type:S.TELEMETRY_TYPE.MALICIOUS_DOWNLOAD_URL,pageurl:e,serverurl:t};this.trackingServerAnalyticsFacade.sendEvent(n)}}sendActionClickEvent(){var e={event:trackingServerSDK.TelemetryEventNames.extnClick,category:S.TELEMETRY_CATEGORY.SEARCH,action:S.TELEMETRY_ACTION.SEARCH.ACTION_CLICKED};this.trackingServerAnalyticsFacade.sendEvent(e)}async sendActiveSearchEvent(e){e={event:trackingServerSDK.TelemetryEventNames.extnActiveUsers,count:e};return await this.trackingServerAnalyticsFacade.forceSendImmediate(e)}sendGoogleAppsClickEvent(e){_(e)||(e={event:trackingServerSDK.TelemetryEventNames.extnClick,category:S.TELEMETRY_CATEGORY.GOOGLE_APPS,action:S.TELEMETRY_ACTION.CLICK_EVENT,name:e},this.trackingServerAnalyticsFacade.forceSendImmediate(e))}sendGoogleAppsPopupShownEvent(){var e={event:trackingServerSDK.TelemetryEventNames.extnClick,category:S.TELEMETRY_CATEGORY.GOOGLE_APPS_ICON,action:S.TELEMETRY_ACTION.CLICK_EVENT};this.trackingServerAnalyticsFacade.sendEvent(e)}sendMoreGoogleAppsClickEvent(){var e={event:trackingServerSDK.TelemetryEventNames.extnClick,category:S.TELEMETRY_CATEGORY.MORE_GOOGLE_APPS,action:S.TELEMETRY_ACTION.CLICK_EVENT};this.trackingServerAnalyticsFacade.sendEvent(e)}sendSearchStatus(e,t){e=!_(e)&&e,t=!_(t)&&t,e=S.TELEMETRY_ACTION.SEARCH.DEFAULT_SEARCH+"-"+e+"-"+S.TELEMETRY_ACTION.SEARCH.DEFAULT_HOMEPAGE+"-"+t,t={event:trackingServerSDK.TelemetryEventNames.extnCollect,category:S.TELEMETRY_CATEGORY.SEARCH_ENTITLEMENTS,type:S.TELEMETRY_TYPE.DS_HP_ENABLEMENT_STATUS,action:e};this.trackingServerAnalyticsFacade.sendEvent(t)}sendFormjackProtectionLearnMoreClicked(e){_(e)||(e=e===T.FORMJACK_LEARNMORE_LAUNCH_POINT.FORMJACK_TOUR?S.TELEMETRY_ACTION.UI.FORMJACK_TOUR_UI_LEARN_MORE_CLICKED:S.TELEMETRY_ACTION.UI.FORMJACK_BLOCK_PAGE_LEARN_MORE_CLICKED,e={event:trackingServerSDK.TelemetryEventNames.extnClick,category:S.TELEMETRY_CATEGORY.URL_REPUTATION,action:e},this.trackingServerAnalyticsFacade.sendEvent(e))}sendWeatherWidgetClickEvent(){var e={event:trackingServerSDK.TelemetryEventNames.extnClick,category:S.TELEMETRY_CATEGORY.EXT_HOME_PAGE.WEATHER_WIDGET,action:S.TELEMETRY_ACTION.CLICK_EVENT};this.trackingServerAnalyticsFacade.sendEvent(e)}sendQuickLinkApiFailureEvent(e){e={event:trackingServerSDK.TelemetryEventNames.extnCollect,category:S.TELEMETRY_CATEGORY.QUICKLINK,type:S.TELEMETRY_TYPE.TILES_API_FAILURE,action:e};this.trackingServerAnalyticsFacade.sendEvent(e)}sendUISearchEvent(){var e={event:trackingServerSDK.TelemetryEventNames.extnCollect,category:S.TELEMETRY_CATEGORY.SEARCH,type:S.TELEMETRY_TYPE.UI_SEARCH_QUERY};this.trackingServerAnalyticsFacade.sendEvent(e)}sendCreditCardTelemetryNetworkRequests(e,t,a,n){n=n?S.TELEMETRY_FORM_TYPE.MAIN_FRAME:S.TELEMETRY_FORM_TYPE.SUB_FRAME,n={event:trackingServerSDK.TelemetryEventNames.extnCollect,category:S.TELEMETRY_CATEGORY.CREDIT_CARD_TELEMETRY,type:S.TELEMETRY_TYPE.CREDIT_CARD_PAGE_DATA,formType:n,action:S.TELEMETRY_ACTION.CREDIT_CARD_TELEMETRY_NETWORK_REQUEST,pageurl:e,iframeurl:t,serverurl:a};this.trackingServerAnalyticsFacade.sendEvent(n)}sendCreditCardTelemetry(e,t,a){a=a?S.TELEMETRY_FORM_TYPE.MAIN_FRAME:S.TELEMETRY_FORM_TYPE.SUB_FRAME,a={event:trackingServerSDK.TelemetryEventNames.extnCollect,category:S.TELEMETRY_CATEGORY.CREDIT_CARD_TELEMETRY,type:S.TELEMETRY_TYPE.CREDIT_CARD_PAGE_DATA,formType:a,action:S.TELEMETRY_ACTION.CREDIT_CARD_TELEMETRY_PAGE_DETAILS,pageurl:e,iframeurl:t};this.trackingServerAnalyticsFacade.sendEvent(a)}sendFormjackTourUIClosed(e){e=e?S.TELEMETRY_ACTION.UI.FORMJACK_TOUR_NEW_USER_UI_CLOSED:S.TELEMETRY_ACTION.UI.FORMJACK_TOUR_EXISTING_USER_UI_CLOSED,e={event:trackingServerSDK.TelemetryEventNames.extnCollect,category:S.TELEMETRY_CATEGORY.FORMJACK_TOUR,type:S.TELEMETRY_TYPE.FORMJACK_TOUR_CLOSED_DATA,action:e};this.trackingServerAnalyticsFacade.sendEvent(e)}sendFormjackTourUIDisplayed(e){e=e?S.TELEMETRY_ACTION.UI.FORMJACK_TOUR_NEW_USER_UI_SHOWN:S.TELEMETRY_ACTION.UI.FORMJACK_TOUR_EXISTING_USER_UI_SHOWN,e={event:trackingServerSDK.TelemetryEventNames.extnCollect,category:S.TELEMETRY_CATEGORY.FORMJACK_TOUR,type:S.TELEMETRY_TYPE.FORMJACK_TOUR_UI_DISPLAYED,action:e};this.trackingServerAnalyticsFacade.sendEvent(e)}sendKeepAssistShownEvent(){var e={event:trackingServerSDK.TelemetryEventNames.extnCollect,category:S.TELEMETRY_CATEGORY.KEEP_ASSIST_UI,type:S.TELEMETRY_TYPE.KEEP_ASSIST_UI_DATA,action:S.TELEMETRY_ACTION.KEEP_ASSIST_UI_SHOWN};this.trackingServerAnalyticsFacade.sendEvent(e)}sendPrivacyPromptEvents(e,t,a){e={event:trackingServerSDK.TelemetryEventNames.extnClick,category:e,action:t};a?this.trackingServerAnalyticsFacade.forceSendImmediate(e):this.trackingServerAnalyticsFacade.sendEvent(e)}}})(executionContext),(e=>{let t=SymBfw.utils.isString,a={ERROR:"error",WARNING:"warning",LOG:"log",DEBUG:"debug",INFO:"info"};e.NSSS.TrackerLoggerBase=class{constructor(){this.LOG_TYPE=a}errorToString(e){return e?t(e)?e:e.toString():""}}})(executionContext),(e=>{let{utils:{isString:a},extensionAdapter:t}=SymBfw,{telemetryTrackerClient:n,telemetryTrackerConstants:r,TrackerLoggerBase:i}=NSSS;class s extends i{constructor(){super(),this.logger={},this.trackerLoggerExceptionHandler=e=>{console.error("Tracker logger used before initialization: "+e)},this.logger.log=this.trackerLoggerExceptionHandler,this.logger.debug=this.trackerLoggerExceptionHandler,this.logger.info=this.trackerLoggerExceptionHandler,this.trackingServerAnalyticsFacade=null,this.logEvent=this.logEvent.bind(this),this.handleMessage=this.handleMessage.bind(this)}init(){this.logger=new trackingServerSDK.Logger(NSSS.constants.BUILD_CONFIG),this.trackingServerAnalyticsFacade=n.getTrackingServerAnalyticsFacadeInstance(),t.addMessageListener(this.handleMessage)}handleMessage(e){if(e.id===r.LOG_ERROR_WARNING_ID)switch(e.logType){case this.LOG_TYPE.ERROR:case this.LOG_TYPE.WARNING:this.logEvent(e.logType,e.event);break;case this.LOG_TYPE.LOG:this.logger.log(e.event);break;case this.LOG_TYPE.DEBUG:this.logger.debug(e.event);break;case this.LOG_TYPE.INFO:this.logger.info(e.event)}}async logEvent(e,t){try{if(a(e)){if(a(t))return e===this.LOG_TYPE.ERROR?this.trackingServerAnalyticsFacade.sendErrorLog(t):e===this.LOG_TYPE.WARNING?this.trackingServerAnalyticsFacade.sendWarningLog(t):void 0;this.logger.log("event should be a string")}else this.logger.log("logType should be a string")}catch(e){console.error("Error in trackerLogger.logEvent: "+e)}}}e.NSSS.trackerLogger=new s})(executionContext),(e=>{let{utils:{isString:a},extensionAdapter:n}=SymBfw,{telemetryTrackerConstants:r,TrackerLoggerBase:t}=NSSS;class i extends t{constructor(){super()}async logEvent(e,t){!a(e)||!a(t)||e!==this.LOG_TYPE.ERROR&&e!==this.LOG_TYPE.WARNING&&e!==this.LOG_TYPE.LOG&&e!==this.LOG_TYPE.DEBUG&&e!==this.LOG_TYPE.INFO||n.sendMessage({id:r.LOG_ERROR_WARNING_ID,logType:e,event:t})}}var s=new i;(e.NSSS=e.NSSS||{}).trackerLoggerCS=s})(executionContext),(e=>{var t,i,s,n,E;e.NSSS.ocodeMgr=(t=e.SymBfw,s={},n=(i=e.NSSS).globalSettings,E=t.logger,s._oCodeWriteRestriction={ds:!1,hp:!1},s._lifeLockOCodes={DS:"APN12312",HP:"APN12313",UI_SEARCH:"APN12311"},s._lifeLockTestPartnerID="tiacll",s.getDSOCode=function(){return s._getOCode("DS")},s.updateDefaultOCode=function(e,t,a,n){var r=i.constants.OCODE_KEYS[e];a===i.constants.OCODE_PROVIDER.AB_TEST?(i.constants[r]=t,s._oCodeWriteRestriction[e]=n,E.debug(e+` OCode updated ${t}, isWriteRestricted: `+n),i.trackerLogger.logger.debug(e+` OCode updated ${t}, isWriteRestricted: `+n)):s._oCodeWriteRestriction[e]?(E.debug(e+" write-restricted OCode not updated"),i.trackerLogger.logger.debug(e+" write-restricted OCode not updated")):(i.constants[r]=t,E.debug(e+" OCode updated "+t),i.trackerLogger.logger.debug(e+" OCode updated "+t))},s.getHPOCode=function(){return s._getOCode("HP")},s.getUISearchOCode=function(){return s._getOCode("UI_SEARCH")},s._getOCode=function(e){var t=n.getPartnerId()===s._lifeLockTestPartnerID,a=null;switch(e){case"DS":a=t?s._lifeLockOCodes.DS:i.constants.DS_OCODE;break;case"HP":a=t?s._lifeLockOCodes.HP:i.constants.DHP_OCODE;break;case"UI_SEARCH":a=t?s._lifeLockOCodes.UI_SEARCH:i.constants.SEARCH_OCODE;break;default:throw E.error("Default ocode requested. Likely a bug"),i.trackerLogger.logEvent(i.trackerLogger.LOG_TYPE.ERROR,"Default ocode requested. Likely a bug"),new Error("There is no default OCode. Likely a bug")}return a},s)})(executionContext),(e=>{function t(e){this._queryDict=URI.parseQuery(e)}e.NSSS.URLSearchParams=(t.prototype.get=function(e){return this._queryDict[e]},t.prototype.append=function(e,t){this._queryDict[e]=t},t.prototype.delete=function(e){delete this._queryDict[e]},t.prototype.toString=function(){var e,t="";for(e in this._queryDict)t+=e+"="+this._queryDict[e]+"&";return t.replace(/&$/,"")},t)})(executionContext),(e=>{let r=SymBfw.utils.isNumber,i=NSSS.constants;(e.NSSS=e.NSSS||{}).nsssDynamicRules=new class{constructor(){this.currentRuleId=1}_updateRulesId(e){this.currentRuleId+=e}_constructRuleObject(e,t,a){return{[i.ID]:e,[i.ALLOCATED_LENGTH]:t,[i.ERROR]:a}}_allocateRuleIds(t){if(r(t)){var a=chrome.declarativeNetRequest.MAX_NUMBER_OF_DYNAMIC_RULES,n=this.currentRuleId-1;let e;if(n+t<=a)e=this._constructRuleObject(this.currentRuleId,t,null),this._updateRulesId(t);else{if(n===a)return e=this._constructRuleObject(-1,0,i.ERROR_MESSAGES.MAX_RULES_COUNT_EXHAUSTED);e=this._constructRuleObject(this.currentRuleId,a-n,i.ERROR_MESSAGES.PARTIAL_RULE_IDS_ALLOCATION),this._updateRulesId(a-n)}return e}}getRuleId(e){return this._allocateRuleIds(e)}}})(executionContext),(P=>{(P.NSSS=P.NSSS||{}).helperUtils=((i,_,a)=>{var o={},T=_.uiHelper,S=(i.settings,i.logger);let l=_.trackerLogger;var c=i.utils.isNil,A=i.utils.isntNil,R=i.utils.isString,O=_.constants,I=_.globalSettings,r=_.sessionSettings,u=_.telemetryWrapper;let d=_.telemetryTrackerClient;var N=i.extensionAdapter;let g=i.performanceReporterFactory;var C=_.wpsHelperUtils;let s=_.nsssDynamicRules,n=i.utils.isArray,E=_.uiConstants,D=i.darkModeHandler,L=i.utils.isBoolean,e=i.telemetryConstants,m=i.utils.isObject,M=i.utils.isEmptyObject;return o.isVendorInitialized=async()=>{if(_.NSSSHelper.isValidVendor(_.constants.VENDOR))return!0;if(_.vendorSetup)return _.vendorSetup.vendorPromise;throw new Error("vendor setup object is not initialized")},o.getSessionIDObject=function(e){return r.getValue(e)},o.getTabIDObject=function(e){return r.getValue(e)},o.setSessionSetting=function(e,t,a){let n=r.getValue(e);(n=n||{})[t]=a,r.setValue(e,n)},o.getSessionSetting=function(e,t){e=r.getValue(e);return e?e[t]:null},o.getNSSSRating=function(e){var t=_.nfmEvents.PAGE_ANALYZED;let a=_.helperUtils.getSessionSetting(e,t);return a=c(a)?new _.Rating:a.setRating?a:new _.Rating(a)},o.deleteSessionSettings=function(e){r.delete(e)},o.getTabIDForSessionID=function(e){if(c(e))throw new Error("SessionID cannot be null");return o.getSessionSetting(e,O.TABID)},o.getSessionIDForTabID=function(e){var t=null;for(t in r.getCollection())if(o.getSessionSetting(t,O.TABID)===e)return t;return null},o.tabURL=function(e){e=e.url;return e=!c(e)&&""!==e?e:O.ABOUT_BLANK},o.updateButton=function(i,s,E=!1){N.getTab(s,function(e){N.getLastError();c(e)?(S.log("No tab exists with tabID: "+s),l.logger.log("No tab exists with tabID: "+s)):(e=N.getWindowIDForTab(e),N.getActiveTab(function(e){var t,a,n,r=N.getLastError();A(r)?(S.log("Tab is not available"),S.log(r),l.logger.log("Tab is not available"+l.errorToString(r))):c(e)?(S.log("there are no active tabs at the moment"),l.logger.log("there are no active tabs at the moment")):(r=N.getTabID(e),s===r&&(o.updateActionButton(i,r,e.url),n=N.getExtensionURL(""),E&&e.url.startsWith(n)||(t=T.toolbarStatusForSessionID(i),a=o.getSessionSetting(i,O.PAGE_ANALYZED),A(a)&&a._safeWebResult&&g.reportStopForComponent(O.performanceReporter.NSSS,_.main.pageAnalysisTime),!A(t))||c(t.redirectPage)||(a=o.getSessionSetting(i,O.SHOULD_BLOCK_KEY),A(a)&&!1===a)||((a=t.blockedModule===_.uiConstants.BLOCKPAGE.TYPE.FORMJACK)||e.url===t.finalRedirectedTabUrl||e.url.startsWith(n))&&(n=A(t.redirectPage)?N.getExtensionURL("content/ui/"+t.redirectPage):null,C.blockPageType(t.siteRating),!n||a&&!o._canDisplayFormjackBlockPage()||(new URI(n),n!==e.url&&A(t.url)&&(new URI(t.url),N.updateTabUrl(r,n),_.main.tabIdToRedirectUrlsMap[s])&&delete _.main.tabIdToRedirectUrlsMap[s]))))},e))})},o._canDisplayFormjackBlockPage=()=>!N.isManifestV3Extension()&&_.formjackProtectionManager.blockType===_.constants.PAGE_BLOCK,o.updateActionButton=async function(e,t,a){let n=null;var r=await _.extensionURLValidator.isNortonExtensionURL(a),i=_.NSSSHelper.isBlockPage(a);n=r&&!i?N.getExtensionURL("content/images/")+O.SAFE_IMAGE+".png":(r=T.uiStatusForSessionID(e,a),N.getExtensionURL("content/images/")+r.regularIcon),N.setBrowserIcon({path:n,tabId:t})},o.updatePrivacyConsentActionButton=function(e){let t=N.getExtensionURL("content/images/");t+=e?O.CONSENT_IN_PROGRESS_IMAGE+".png":O.UNTESTED_IMAGE+".png",N.setBrowserIcon({path:t})},o.openSettingsPage=()=>{let t=N.getExtensionURL(O.SETTINGS_PAGE);N.getTabsWithURL(t,e=>{A(N.getLastError())||(A(e[0])?(N.activateTab(N.getTabID(e[0])),N.focusWindow(N.getWindowIDForTab(e[0]))):i.extensionAdapter.createTab(t))})},o.handleUIEvents=function(e,t){if(e===T.FULL_REPORT_EVENTID)N.getActiveTab(function(e){var t=N.getLastError();A(t)?(S.log("Tab is not available"),S.log(t),l.logger.log("Tab is not available"+l.errorToString(t))):(t=o.getSessionIDForTabID(N.getTabID(e)),e=T.toolbarStatusForSessionID(t),c(e)||N.createTab(e.fullReportURL))});else{if(e===T.SETTINGS_CLICKED_EVENTID)return o.isMediaDotNetExtension()&&o.isHpFlavorPresent()?void o._launchHomePage():void o.openSettingsPage();e===T.REPORTSITE_EVENTID?N.getActiveTab(function(e){var t,a=N.getLastError();A(a)?(S.log("Tab is not available"),S.log(a),l.logger.log("Tab is not available"+l.errorToString(a))):(a=o.getSessionIDForTabID(N.getTabID(e)),t=(e=T.uiStatusForSessionID(a,e.url)).siteRating,e=e.uiStatus.sitename,T.setShowReportSiteForSessionID(a,!1),_.webProtection.reportURLToSymantecServer(e,t))}):e!==T.SEARCH_EVENTID||c(t)||(e=o.getSearchURL(_.ocodeMgr.getUISearchOCode(),t),N.createTab(e,function(e){}),_.telemetryWrapper.sendUISearchEvent(),_.telemetryTrackerClient.sendUISearchEvent())}},o.isHpFlavorPresent=()=>O.TWO_IN_ONE_EXTENSIONS.includes(E.HOMEPAGE_EXTENSION),o._launchHomePage=async()=>{var e;await _.init.ready(),i.globals.BROWSER===i.constants.BROWSER_TYPE.FIREFOX&&!_.privacyPromptSettings.getPrivacyConsent()||(e=N.getExtensionURL(`${_.constants.HOME_PAGE}?${_.constants.LAUNCHED_ON}=`+_.constants.SETTINGS_CLICK),i.extensionAdapter.createTab(e))},o.isBTLayout=()=>{var e=I.getLayoutType(),t=I.getPartnerId(),a=I.getPUID();if(R(e)&&R(t))return e.toUpperCase()===O.SOS_LAYOUT&&(t===O.BT_LAYOUT_PARTNERID||t===O.BT_EE_PARTNERID&&a===O.BT_EE_PUID)},o.getFeatureFlavorization=function(){let e="false"!==O.SEARCHBOX_VISIBLE,t=!0;var a=_.partnerConstants,n=I.getPartnerId(),r=I.getPUID(),i=I.getLayoutType(),n=a.searchboxExclusionList[n];return A(n)&&-1!==n.puid.indexOf(r)&&(e=!1),A(i)&&-1!==a.excludeNortonLinks.indexOf(i)&&(t=!1),{showSafeWebSearchbox:e,showNortonLinks:t}},o.getQueryTemplate=function(e){e=o.getQueryParams(e);return A(e)?e.toString():null},o.getQueryParams=e=>{var t,a,n,r,i=I.getParamsString(),s=_.URLSearchParams;if(!c(s))return i=(s=new s(i)).get(O.URL_PARAMS_KEY.VENDOR_OFFERED.toLowerCase()),A(i)&&s.delete(O.URL_PARAMS_KEY.VENDOR_OFFERED.toLowerCase()),i=s.get(O.VENDORKEY.toLowerCase()),A(i)&&s.delete(O.VENDORKEY.toLowerCase()),i=O.VENDOR,t=I.getCGuid(),a=I.getPartnerId(),n=I.getProduct(),r=I.getVersion(),i===O.IAC&&s.append(O.URL_PARAMS_KEY.ANNOTATION,!1),s.append(O.URL_PARAMS_KEY.VENDOR_CONFIGURED,i),s.append(O.URL_PARAMS_KEY.OCODE,e),s.append(O.URL_PARAMS_KEY.PRT,n),s.append(O.URL_PARAMS_KEY.VERSION,r),s.append(O.URL_PARAMS_KEY.TPR,O.TPR),s.append(O.PARTNERIDKEY,a),s.append(O.URL_PARAMS_KEY.CGUID,t),i=I.getDateOfAssociation(),A(i)&&s.append(O.URL_PARAMS_KEY.DATE_OF_ASSOCIATION,i),e=I.getTrackId(),A(e)&&s.append(O.URL_PARAMS_KEY.TRACK_ID,e),s},o.getSearchURLTemplate=function(e){let t=O.SEARCH_URL+"?q=$$TEMPLATE$$&"+o.getQueryTemplate(e);e=o.getDefaultParams();return t=m(e)?t+"&"+new URLSearchParams(e).toString():t},o.getWeekNumber=function(e){var t;if(e instanceof Date)return t=new Date(e.getFullYear(),0,1),Math.ceil(((e-t)/864e5+t.getDay()+1)/7);throw new Error("date must be a instances of Date object")},o.getDateParts=function(e,t){return R(e)&&R(t)?e.split(t):null},o._isValidDate=function(e){return null!=e.match(/^\d{4}-\d{1,2}-\d{1,2}$/)},o.getNormalizedDateString=function(e){let t=e;var e=(t=t||new Date).getMonth()+1,a=t.getDate();return[t.getFullYear(),(9<e?"":"0")+e,(9<a?"":"0")+a].join("-")},o.convertDateStringToNormalizedDateString=function(e){return!R(e)||!o._isValidDate(e)||(e=new Date(e.replace(/-/g,"/")),isNaN(e))?null:o.getNormalizedDateString(e)},o.getSearchURL=function(e,t){return o.getSearchURLTemplate(e).replace("$$TEMPLATE$$",encodeURIComponent(t))},o.setFlavor=function(n,r){if(!I.getFlavorized()){var i=r.enableHomePage,r=r.enableSafeSearch,i=!c(i)&&i,r=!c(r)&&r,n=URI(n.toLowerCase()),s=n._parts.query;let e=_.URLSearchParams;var E=new(e="undefined"!=typeof URLSearchParams?URLSearchParams:e)(s),o=E.get(O.URL_PARAMS_KEY.PARTNERID),o=(A(o)&&I.setPartnerId(o),E.delete(O.URL_PARAMS_KEY.PARTNERID),E.get(O.URL_PARAMS_KEY.CGUID)),o=(A(o)&&(I.setCGuid(o),E.delete(O.URL_PARAMS_KEY.CGUID)),E.get(O.URL_PARAMS_KEY.INSTALL_SOURCE.toLowerCase()));R(o)&&(I.setInstallSource(o),E.delete(O.URL_PARAMS_KEY.INSTALL_SOURCE.toLowerCase()));let t=E.get(O.URL_PARAMS_KEY.CAMPAIGN_NAME);R(t)&&(t=t.toLowerCase()===O.ZDEFAULT_TRIGGER?O.NEWINST:t,I.setCampaignCode(t),E.delete(O.URL_PARAMS_KEY.CAMPAIGN_NAME));o=E.get(O.URL_PARAMS_KEY.BROWSER.toLowerCase()),o=(R(o)&&(I.setBrowserValue(o),E.delete(O.URL_PARAMS_KEY.BROWSER.toLowerCase())),E.get(O.URL_PARAMS_KEY.DATE_OF_INSTALL)),o=(A(o)&&(I.setInstallDate(o),E.delete(O.URL_PARAMS_KEY.DATE_OF_INSTALL)),E.get(O.URL_PARAMS_KEY.PARTNER_UNIT_ID)),o=(A(o)&&(I.setPUID(o),E.delete(O.URL_PARAMS_KEY.PARTNER_UNIT_ID)),E.get(O.URL_PARAMS_KEY.PRODUCT_NAME)),o=(A(o)&&(I.setProduct(o),E.delete(O.URL_PARAMS_KEY.PRODUCT_NAME)),E.get(O.URL_PARAMS_KEY.VERSION)),o=(A(o)&&(I.setVersion(o),E.delete(O.URL_PARAMS_KEY.VERSION)),E.get(O.URL_PARAMS_KEY.LAYOUT_TYPE)),o=(A(o)&&(I.setLayoutType(o),E.delete(O.URL_PARAMS_KEY.LAYOUT_TYPE)),A(_.uninstallSurveyHelper)&&_.uninstallSurveyHelper.initializeUninstallSurveyURL(),E.get(O.URL_PARAMS_KEY.TRACK_ID.toLowerCase())||E.get(O.URL_PARAMS_KEY.TRACK_ID)),o=(A(o)&&(I.setTrackID(o),E.delete(O.URL_PARAMS_KEY.TRACK_ID),E.delete(O.URL_PARAMS_KEY.TRACK_ID.toLowerCase())),E.get(O.URL_PARAMS_KEY.MIGRATION_TYPE.toLowerCase())),o=(A(o)&&E.delete(O.URL_PARAMS_KEY.MIGRATION_TYPE.toLowerCase()),E.get(O.URL_PARAMS_KEY.GEO_LOCATION.toLowerCase())),o=(A(o)&&(I.setGeoLocation(o),E.delete(O.URL_PARAMS_KEY.GEO_LOCATION.toLowerCase())),E.get(O.URL_PARAMS_KEY.TRACK.toLowerCase()));_.NSSSHelper.isValidTrackValue(o)&&I.setTrackValue(o),E.delete(O.URL_PARAMS_KEY.TRACK.toLowerCase());let a=n.subdomain();!c(a)&&0!==a.length&&"www"!==a||(o=n.domain(),a=o.substring(0,o.indexOf("."))),!A(a)&&0===a.length||I.setCampaignMedium(a),i&&I.setDefaultHomepage(i),r&&I.setDefaultSearch(r),E.delete(O.URL_PARAMS_KEY.TEST_ELIGIBILITY.toLowerCase()),s=E.toString(),I.setParamsString(s),u.sendSearchStatus(r,i),d.sendSearchStatus(r,i),I.setFlavorized(!0)}},o.removeTestEligibilityParam=()=>{var e=I.getParamsString(),t=_.URLSearchParams;c(t)||((t=new t(e)).delete(O.URL_PARAMS_KEY.TEST_ELIGIBILITY.toLowerCase()),e=t.toString(),I.setParamsString(e))},o.getQueryString=function(e,t){t=URI(t.toLowerCase()).query(!0);return c(t[e])?null:t[e]},o.isURLWhitelisted=t=>{if(c(t)||""===t)return!0;for(let e=0;e<O.NATIVE_TAB_PREFIX.length;e++)if(t.startsWith(O.NATIVE_TAB_PREFIX[e]))return!0},o.fetchUserCountryCode=async function(){try{var e=(await(await i.utils.safeFetch(_.constants.GEO_LOCATION_API_URL)).json()).CountryCode;return e}catch(e){return S.error("unable to fetch the user county code due to "+e),l.logEvent(l.LOG_TYPE.ERROR,"unable to fetch the user county code due to "+l.errorToString(e)),null}},o.isRatingForFinalRedirectedUrl=function(e){return!(!e||e.fullURL!==e.finalRedirectedTabUrl)},o.getLandingPages=async()=>new Promise(t=>{N.getAllTabs(e=>{e=e.filter(e=>_.NSSSHelper.isLandingPageURL(e.url));return t(e)})}),o.getLandingPage=async()=>new Promise(t=>{N.getAllTabs(e=>{e=e.find(e=>!c(e.url)&&(e=new URI(e.url),!!(O.ONBOARDING_PORTAL_URL_PATHS_MAP.hasOwnProperty(e.domain())&&O.ONBOARDING_PORTAL_URL_PATHS_MAP[e.domain()].hasOwnProperty(e.subdomain())&&O.ONBOARDING_PORTAL_URL_PATHS_MAP[e.domain()][e.subdomain()].includes(e.path()))));return t(e)})}),o.getPagesToFlavor=e=>e.filter(e=>{e=new URI(e.url);return!!(O.ONBOARDING_PORTAL_URL_PATHS_MAP.hasOwnProperty(e.domain())&&O.ONBOARDING_PORTAL_URL_PATHS_MAP[e.domain()].hasOwnProperty(e.subdomain())&&O.ONBOARDING_PORTAL_URL_PATHS_MAP[e.domain()][e.subdomain()].includes(e.path()))}),o.getGlobalObject=()=>A(_.searchGlobal)?_.searchGlobal:_.chromeGlobal,o.isHomePageTourSupported=()=>_.uiConstants.EXTENSION_TYPE!==_.uiConstants.SAFEWEB_EXTENSION,o.getAllHomePageTabs=async()=>new Promise(t=>{let a=N.getExtensionURL(P.NSSS.constants.HOME_PAGE);N.getAllTabs(e=>{e=e.filter(e=>e.url.startsWith(a));return t(e)})}),o.getExtensionDetails=async e=>{try{return await N.getExtensionDetails(e)}catch(e){return null}},o.getExtensionInstalledAndEnabledStatus=async n=>{var e;if(i.utils.isArray(n)&&0!==n.length)return e=n.map(e=>o.getExtensionDetails(e)),(await Promise.all(e)).reduce((e,t,a)=>{e={...e};return c(t)||!1===t.enabled?e[n[a]]=!1:e[n[a]]=!0,e},{});throw new Error("extensionIds argument is not valid")},o.sendExternalMessageWithPromise=(e,r)=>new Promise((t,a)=>{if(c(e)||c(r))return a("Arguments are not valid");let n=setTimeout(()=>{a("SendMessageExternal timed out")},1e3);i.extensionAdapter.sendMessageExternal(e,r,e=>{if(A(i.extensionAdapter.getLastError())||c(e))return clearTimeout(n),a("Extension not installed");clearTimeout(n),t(e)})}),o.executeContentScriptsToFlavorizeExtn=async(e,a)=>{if(!c(e)&&i.utils.isArray(a))for(let t=0;t<a.length;t++)try{await N.executeContentScript(e,a[t])}catch(e){S.error(`Error in executing ${a[t]} - `+e),l.logEvent(l.LOG_TYPE.ERROR,`Error in executing ${a[t]} - `+l.errorToString(e));break}},o.flavorizeExtension=()=>{N.getAllTabs(function(e){e.forEach(function(e){var t=e.url;!1!==_.NSSSHelper.isLandingPageURL(t)&&(t=N.getTabID(e),A(t))&&o.executeContentScriptsToFlavorizeExtn(t,["content/libs/uri.min.js","ContextInit.js","content/scripts/SymBfwCS.js","content/scripts/flavorParser.js"])})})},o.constructDynamicRules=(a,n,e)=>e.filter((e,t)=>{if(t<n)return e.id=a+t,e}),o._getDsRedirectorRule=(e,t)=>{if(n(e)&&0!==e.length)return e.find(e=>e.condition.urlFilter===t)},o.getDarkModeThemeForDS=e=>e?e[E.DARK_MODE_PARAM]?E.THEMES.DARK_THEME:E.THEMES.LIGHT_THEME:(e=I.getPreviousHPDarkModeTheme())&&e!==E.THEMES.BROWSER_THEME?e:(e=I.getDefaultDarkModeTheme())&&e!==E.THEMES.BROWSER_THEME?e:D.isDarkModeEnabled()?E.THEMES.DARK_THEME:E.THEMES.LIGHT_THEME,o.getDarkModeThemeForHP=e=>{var t=I.getDefaultDarkModeTheme();return null!==t&&t!==E.THEMES.BROWSER_THEME?t:null!==e&&null!==e.customDarkModeTheme&&e.customDarkModeTheme!==E.THEMES.BROWSER_THEME?e.customDarkModeTheme:D.isDarkModeEnabled()?E.THEMES.DARK_THEME:E.THEMES.LIGHT_THEME},o.updateUrlParamsOfAllMatchingUrls=(e,i)=>{if(c(e)||!n(e)||!e.length)throw Error("Invalid url array object");e.forEach(e=>{N.getTabsWithURL(e,e=>{e.forEach(e=>{var t,a,n=new URL(e.url);let r=!1;for([t,a]of Object.entries(i))n.searchParams.get(t)!==a.toString()&&(n.searchParams.set(t,a.toString()),r=!0);r&&N.updateTabUrl(e.id,n.toString())})})})},o.updateSERPTabUrls=(e,t)=>{o.updateUrlParamsOfAllMatchingUrls(E.SERP_URL_LIST,{[E.DARK_MODE_PARAM]:!!e,[E.SAME_TAB_LAUNCH_SERP_PARAM]:!!t})},o.updateExtensionIcon=e=>{let t=null;t=e?{32:E.DARK_MODE_ICON}:{32:E.LIGHT_MODE_ICON},N.setBrowserIcon({path:t})},o.appendAdditionalParams=async e=>{var t,a;(o.isDS()||o.isMediaDotNetExtension())&&({isDarkMode:t,isSameTabLaunchSet:a}=await o._getDarkModeAndNewTabValues(),I.setPrevDarkModeThemeResolvedInDS(t),e.push({key:E.DARK_MODE_PARAM,value:t?"true":"false"}),e.push({key:E.SAME_TAB_LAUNCH_SERP_PARAM,value:a?"true":"false"}),o.updateSERPTabUrls(t,a))},o._getDarkModeAndNewTabValuesForMediaDotNet=async()=>{var e=await _.nsssDarkModeHandlerBG.isDarkModeSet();let t=_.globalSettings.getNewTabForSearchResultsEnabled();return{isDarkMode:e,isSameTabLaunchSet:!(t=L(t)?t:!0)}},o._getDarkModeAndNewTabValues=async()=>{if(o.isMediaDotNetExtension())return o._getDarkModeAndNewTabValuesForMediaDotNet();var e,t,a,n=await o.getSettingsFromHomePageExtension();let r,i=o.getDarkModeThemeForDS(n);return n?(r=n[E.SAME_TAB_LAUNCH_SERP_PARAM],I.setPreviousHPDarkModeTheme(i),I.setPrevDarkModeThemeResolvedInDS(i)):(e=I.getPrevBrowserDarkModeSet(),t=D.isDarkModeEnabled(),null===I.getInstallTimeBrowserDarkModeTheme()?null!==(a=D.getDarkModeStatus())&&(a=a?E.THEMES.DARK_THEME:E.THEMES.LIGHT_THEME,I.setInstallTimeBrowserDarkModeTheme(a)):I.getInstallTimeBrowserDarkModeTheme()!==t&&I.setDefaultDarkModeTheme(E.THEMES.BROWSER_THEME),e!==t&&(I.setPrevBrowserDarkModeSet(t),I.setPreviousHPDarkModeTheme(E.THEMES.BROWSER_THEME),i=o.getDarkModeThemeForDS(n)),r=!1),{isDarkMode:i===E.THEMES.DARK_THEME,isSameTabLaunchSet:r}},o.getCustomThemeForHbPing=async()=>{var e=await _.helperUtils.getSettingsFromHomePageExtension();let t;if(m(e)){e=(await o._getDarkModeAndNewTabValues()).isDarkMode;t=e}else{e=i.darkModeHandler.getDarkModeStatus();if(c(e)&&_.isFreshInstall)return _.constants.NOT_SET;t=I.getPrevDarkModeThemeResolvedInDS()}return t?_.uiConstants.THEMES.DARK_THEME:_.uiConstants.THEMES.LIGHT_THEME},o.getNewTabSearchEnabledForHbPing=async()=>{var e=(await o._getDarkModeAndNewTabValues()).isSameTabLaunchSet;return!e},o.getBrowserThemeForHbPing=()=>{var e=i.darkModeHandler.getDarkModeStatus();return c(e)?_.constants.NOT_SET:e?_.uiConstants.THEMES.DARK_THEME:_.uiConstants.THEMES.LIGHT_THEME},o.getParamsForHeartbeat=()=>({[e.parameters.CUSTOM_DIMENSION27]:()=>o.getCustomThemeForHbPing(),[e.parameters.CUSTOM_DIMENSION28]:()=>o.getNewTabSearchEnabledForHbPing()}),o._updateDefaultSearch=async e=>{var t=o._getDSQueryParams();await o.appendAdditionalParams(t),e.action.redirect={transform:{queryTransform:{addOrReplaceParams:t}}};try{await N.updateDynamicRules([e])}catch(e){S.error(e),l.logEvent(l.LOG_TYPE.ERROR,""+l.errorToString(e))}},o.handleOmniSearch=async()=>{var e=await N.getDynamicRules(),t=_.constants.SEARCH_URL+"?omnisearch=yes",e=o._getDsRedirectorRule(e,t);if(A(e))await o._updateDefaultSearch(e);else{var{id:e,allocated_length:a,error:n}=s.getRuleId(O.DS_REDIRECTOR_RULE_COUNT);if(A(n)&&n===O.ERROR_MESSAGES.MAX_RULES_COUNT_EXHAUSTED)S.error("Cannot set redirect rules for default search"),l.logEvent(l.LOG_TYPE.ERROR,"Cannot set redirect rules for default search");else{var r=o._getDSQueryParams(),r=(await o.appendAdditionalParams(r),[{priority:1,action:{type:"redirect",redirect:{transform:{queryTransform:{addOrReplaceParams:r}}}},condition:{urlFilter:t,resourceTypes:["main_frame"]}}]),t=o.constructDynamicRules(e,a,r);try{await N.updateDynamicRules(t)}catch(n){S.error(n),l.logEvent(l.LOG_TYPE.ERROR,""+l.errorToString(n))}}}},o._getDSQueryParams=()=>{let t=o.getQueryParams(_.ocodeMgr.getDSOCode())._queryDict;return t={...t=!c(t)&&0!==Object.keys(t).length?t:{},...o.getDefaultParams()},Object.keys(t).map(e=>({key:e,value:A(t[e])?t[e].toString():""}))},o.getDefaultParams=()=>{let e;return e=o.getAndSetMediaDotNetFlavorApplicable()?E.PROD_MEDIA_DOT_NET:E.DEFAULT_SEARCH_EXTENSION.toUpperCase(),{[O.BROWSER]:_.NSSSHelper.getBrowserValue(),[O.PROD]:e,[O.URL_PARAMS_KEY.DATE_OF_INSTALL]:I.getInstallDate(),[O.URL_PARAMS_KEY.INSTALL_SOURCE]:_.NSSSHelper.getInstallSource(),...R(_.NSSSHelper.getCampaignCode())&&{[O.URL_PARAMS_KEY.CAMPAIGN_NAME]:_.NSSSHelper.getCampaignCode()},..._.NSSSHelper.isValidTrackValue(I.getTrackValue())&&{[O.URL_PARAMS_KEY.TRACK]:I.getTrackValue()}}},o.isHP=()=>E.EXTENSION_TYPE===E.HOMEPAGE_EXTENSION,o.isMediaDotNetExtension=()=>E.EXTENSION_TYPE===E.MEDIA_DOT_NET_EXTENSION,o.isDS=()=>E.EXTENSION_TYPE===E.DEFAULT_SEARCH_EXTENSION,o.getSettingsFromHomePageExtension=()=>{let e=O.NORTON_HP_EXTENSION_IDS[0];return new Promise(t=>{if(o.isMediaDotNetExtension())return t(null);N.sendMessageExternal(e,{name:E.GET_HP_SETTINGS_EXTERNAL},e=>{chrome.runtime.lastError||c(e)?(S.debug("getSettingsFromHomePageExtension - receiving end does not exists or response is invalid"),l.logger.debug("getSettingsFromHomePageExtension - receiving end does not exists or response is invalid"),t(null)):t(e)})})},o.isBrowserDarkModeSet=()=>{var e=D.getDarkModeStatus();return L(e)?(I.setBrowserDarkModeSet(e),e):!!I.isBrowserDarkModeSet()},o.isSafewebFlavorPresent=()=>_.constants.TWO_IN_ONE_EXTENSIONS.includes(E.SAFEWEB_EXTENSION),o.getAndSetMediaDotNetFlavorApplicable=()=>{var e=I.getMediaDotNetFlavorApplicable();return L(e)?e:_.isFreshInstall&&_.helperUtils.isMediaDotNetExtension()?(I.setMediaDotNetFlavorApplicable(!0),!0):(I.setMediaDotNetFlavorApplicable(!1),!1)},o.getThreeInOneUserType=()=>o.getAndSetMediaDotNetFlavorApplicable()?_.uiConstants.PROD_MEDIA_DOT_NET:_.constants.LEGACY_EXTENSION,o.getWrsRatingForUrl=e=>new Promise(t=>{a.manager.getRatingForURL(e,function(e){(c(e)||M(e)||c(e.siteRating))&&t(null),t(e.siteRating)})}),o.sendBlockPageTelemetryWithWRSRating=async(e,t,a=!1,n=!1)=>{var r=await o.getWrsRatingForUrl(e);_.telemetryWrapper.sendBlockPageTelemetry(e,t,a,n,r),_.telemetryTrackerClient.sendBlockPageTelemetry(e,t,a,n)},o.getApplicationSettings=()=>{let t=_.trackerEventQueue;return{isTelemetryEnabled:function(){return i.telemetrySettings.isTelemetryEnabled()},addEventToQueue:function(e){return t.addEvent(e)},getEventsQueue:function(){return t.getEvents()},clearEventsQueue:function(){return t.clearEvents()}}},o})(P.SymBfw,P.NSSS,P.SafeWeb)})(executionContext),(e=>{(e.NSSS=e.NSSS||{}).NSSSHelper=((s,i,e)=>{let E={weekOfInstall:null},{utils:{isBoolean:t,isntNil:o,isNil:r,isString:_,isStorePageURL:T,isNumber:a,isArray:n,isObject:S,isFunction:l},extensionAdapter:c}=s,{constants:A,globalSettings:R,URLSearchParams:O}=i;return E.constants={chromeInterstitialSegmentString:"chromeInterstitial"},E._urlParamsPromise=new Promise(e=>{E._resolveOnUrlParamsSet=e}),E.getCurrentWindowLocation=function(){return document.location.href},E.isLandingPageURL=function(e){return!(r(e)||!_(e)||"https"!==(e=new URI(e)).protocol()||!A.ONBOARDING_PORTAL_DOMAIN_MAP.hasOwnProperty(e.domain())||!A.ONBOARDING_PORTAL_DOMAIN_MAP[e.domain()].includes(e.subdomain()))},E.isChromeInterstitialPageURL=e=>{if(!r(e)){var t=E.constants.chromeInterstitialSegmentString,e=new URI(e);if("https"===e.protocol()&&i.constants.ONBOARDING_PORTAL_DOMAIN_MAP.hasOwnProperty(e.domain())&&i.constants.ONBOARDING_PORTAL_DOMAIN_MAP[e.domain()].includes(e.subdomain())){e=e.segment();if(1===e.length&&e[0]===t)return!0}}return!1},E.isCurrentExtensionURL=e=>{var t=s.globals.BROWSER,a=new URI(e),n=a.path().split("/");switch(t){case"Chrome":case"Edge-Chromium":if(n.includes(s.extensionAdapter.getExtensionId()))return!0;break;case"Safari":var r=a.search(!0).id,i=s.extensionAdapter.getExtensionId().split("-")[0];if(r&&r.startsWith(i))return!0;break;case"Edge":if(n.includes(A.STORE_URL_NAME))return!0}},E.isYahooSERPPage=function(e){var t=[A.yahooVendorConstants.HSPART_VALUE,A.yahooVendorConstants.HSPART_VALUE_LEGACY],a=[A.yahooVendorConstants.HSIMP_VALUE,A.yahooVendorConstants.HSIMP_VALUE_THREE_IN_ONE,A.yahooVendorConstants.HSIMP_VALUE_EDGE_CHROMIUM];return!!_(e)&&"https"===(e=new URI(e)).protocol()&&e.domain()===A.YAHOO_DOMAIN_NAME&&(e=e.search(!0),!!t.includes(e[A.yahooVendorConstants.HSPART]))&&!!a.includes(e[A.yahooVendorConstants.HSIMP])},E.isIACSERPPage=function(e){return!!_(e)&&"https"===(e=new URI(e)).protocol()&&e.hostname()===A.HOST_NAME[A.IAC]},E.isValidURL=function(e){var t;return!!_(e)&&(t=(e=new URI(e)).protocol(),!r(t))&&0!==t.length&&(t=e.domain(),!r(t))&&0!==t.length},E.getCurrentExtensionIdentifier=function(){var e=s.extensionAdapter.getExtensionURL("");return r(e)?"":new URI(e).hostname()},E.isValidVendor=e=>!r(e)&&i.constants.VENDOR_LIST.includes(e),E.findAndSaveUrlParamsFromChromeWebStore=async()=>{if(!R.getFlavorized())return new Promise(r=>{c.getAllTabs(e=>{var t,a,e=e.filter(e=>T(e.url));if(0===e.length)E._resolveOnUrlParamsSet();else for(var n of e)o(n.url)&&(t=URI(n.url.toLowerCase())._parts.query,a=(t=new O(t)).get(A.URL_PARAMS_KEY.TRACK),E.isValidTrackValue(a)&&R.setTrackValue(a),a=t.get(A.URL_PARAMS_KEY.INSTALL_SOURCE.toLowerCase()),_(a)&&R.setInstallSource(a),a=t.get(A.URL_PARAMS_KEY.CAMPAIGN_NAME),_(a)&&R.setCampaignCode(a),a=t.get(A.URL_PARAMS_KEY.PARTNERID),o(a)&&R.setPartnerId(a),a=t.get(A.URL_PARAMS_KEY.PARTNER_UNIT_ID),o(a)&&R.setPUID(a),i.globalSettings.setWebStoreUrl(n.url),E._canUpdateDefaultSearch())&&i.helperUtils.handleOmniSearch();return E._resolveOnUrlParamsSet(),r()})});await E.getAndSetWebStoreUrl(),E._resolveOnUrlParamsSet()},E._canUpdateDefaultSearch=()=>s.extensionAdapter.isManifestV3Extension()&&(i.helperUtils.isDS()||i.helperUtils.isMediaDotNetExtension()),E._getTabsWithStoreUrl=async()=>new Promise(t=>{c.getAllTabs(e=>{e=e.filter(e=>T(e.url));return t(e)})}),E.getAndSetWebStoreUrl=async()=>{var e=await E._getTabsWithStoreUrl();0!==e.length&&i.globalSettings.setWebStoreUrl(e[0].url)},E.getTrackValue=async()=>{var e=i.globalSettings.getTrackValue();return o(e)?e:(await E._urlParamsPromise,i.globalSettings.getTrackValue())},E.getSubdomainForGeoLocation=(t,a)=>{if(!r(t)&&!r(a)){let e="";a=a.split("-")[0];return e=A.GEO_LOCATION_SUBDOMAIN_MAP[t]?A.GEO_LOCATION_SUBDOMAIN_MAP[t][a]||A.GEO_LOCATION_SUBDOMAIN_MAP[t].default:A.GEO_LOCATION_SUBDOMAIN_MAP[A.DEFAULT_COUNTRY.toLowerCase()].default}},E.isVendorMigrationDoneFFEdge=()=>!!t(i.constants.VENDOR_MIGRATION)&&i.constants.VENDOR_MIGRATION,E.isVendorMigrationDone=function(){return!!i.globalSettings.getVendorMigrationDone()},E.saveAndgetExtensionInstallMonthAndYear=function(){var e,t=i.globalSettings.getExtensionInstallMonthAndYear();return _(t)||(t=""+(1===(e=i.globalSettings.getInstallDate().split("-"))[1].length?e[1].padStart(2,"0"):e[1])+e[0].slice(-2),i.globalSettings.setExtensionInstallMonthAndYear(t)),t},E.waitForWindowLoadEvent=function(){return new Promise(e=>{window.addEventListener("load",e)})},E.isBlockPage=function(e){if(!_(e))return!1;if(!e)return!1;try{let t=new URL(e).pathname;return[i.uiConstants.BLOCKPAGE.HTML,i.uiConstants.FORM_JACK_PROTECTION_BLOCK_PAGE.HTML].some(e=>t===""+A.UI_PATH+e)}catch(e){return!1}},E.getTabWithUrl=function(e){if(_(e))return new Promise(t=>{s.extensionAdapter.getTabsWithURL(e,e=>{t(e)})})},E.focusTab=function(t){if(a(t))return new Promise(e=>{s.extensionAdapter.activateTab(t,()=>{e("tab focussed")})})},E.updateUrlParamsOfAllMatchingUrls=(e,i)=>{if(r(e)||!n(e)||!e.length)throw Error("Invalid url array object");e.forEach(e=>{c.getTabsWithURL(e,e=>{e.forEach(e=>{var t,a,n=new URL(e.url);let r=!1;for([t,a]of Object.entries(i))n.searchParams.get(t)!==a.toString()&&(n.searchParams.set(t,a.toString()),r=!0);r&&c.updateTabUrl(e.id,n.toString())})})})},E.sendMessageToHomePageTabs=async t=>{S(t)&&(await i.helperUtils.getAllHomePageTabs()).forEach(e=>{c.sendMessageToTab(e,t)})},E.getWeekOfInstall=function(){var e,t;return r(E.weekOfInstall)&&(e=new Date(R.getInstallDate()),t=new Date(e.getFullYear(),0,1),t=(e.getTime()-t.getTime())/A.ONE_DAY_IN_MILLISECONDS,E.weekOfInstall=Math.ceil(t/7).toString().padStart(2,0)+"-"+e.getFullYear().toString().substring(2)),E.weekOfInstall},E.getBrowserValue=function(){let e=A.BROWSERS_MAP[i.globalSettings.getBrowserValue()];if(!_(e)){if(s.utils.isExtnRunningInNSB())return A.SECURE;var t=E.getValueFromParamString(i.constants.URL_PARAMS_KEY.BROWSER);e=A.BROWSERS_MAP[t],_(e)||(e=A.BROWSERS_MAP[s.globals.BROWSER])}return e},E.getCampgnCodeForOs=()=>{var e=s.utils.getOSType();return A.CAMPAIGN_CODE[e]||A.DEFAULT_CAMPGN_CODE},E.getInstallSource=()=>{let e=R.getInstallSource();return e=_(e)||(e=E.getValueFromParamString(i.constants.URL_PARAMS_KEY.INSTALL_SOURCE),_(e))?e:A.DEFAULT_INSTALL_SOURCE},E.getCampaignCode=()=>{let e=R.getCampaignCode();if(!_(e)&&(e=E.getValueFromParamString(i.constants.URL_PARAMS_KEY.CAMPAIGN_NAME),!_(e))){if(i.helperUtils.isMediaDotNetExtension())return null;e=E.getCampgnCodeForOs()}return e},E.getCampaignCodeForHbPing=async()=>await E.getUrlParamForHbPing(R.getCampaignCode,E.getCampaignCode),E.getInstallSourceForHbPing=async()=>await E.getUrlParamForHbPing(R.getInstallSource,E.getInstallSource),E.getUrlParamForHbPing=async(e,t)=>l(e)&&l(t)?(e=e(),_(e)||await E._urlParamsPromise,t()):null,E.getExtensionInstallType=async()=>{var e=await s.extensionAdapter.getExtensionMetaData();return S(e)&&(e=e.installType,_(e))?e:A.NOT_SET},E.getValueFromParamString=e=>{var t=i.globalSettings.getParamsString();if(_(t))return new O(t).get(e.toLowerCase())},E.isTelemetryQueueCleanupRequired=()=>i.uiConstants.EXTENSION_TYPE===i.uiConstants.SAFEWEB_EXTENSION&&(s.globals.BROWSER===s.constants.BROWSER_TYPE.EDGE_CHROMIUM||s.globals.BROWSER===s.constants.BROWSER_TYPE.CHROME),E.cleanUpTrackValue=()=>{var e=R.getTrackValue();E.isValidTrackValue(e)||R.setTrackValue("")},E.isValidTrackValue=e=>!!E.isTrackValueValidType(e)&&!A.EXCLUDED_TRACK_VALUES.includes(e),E.isTrackValueValidType=e=>_(e)&&""!==e,E.getLayoutType=()=>{let e=R.getLayoutType();return e=r(e)?A.UNKNOWN:e},E.sendMessageToExternalExtension=(e,n)=>new Promise((t,a)=>{if(r(e)||r(n))return a("extensionId or message should not be null");c.sendMessageExternal(e,n,e=>{if(c.getLastError()||r(e))return a("Extension is not available or result is null");t(e)}),setTimeout(()=>{a("Timed out")},1e3)}),E.appendLandingPageURLParams=a=>{var e;if(_(a))return A.ONBOARDING_PAGE_URL_PARAMS.forEach(e=>{var t=R.getValue(e);o(t)&&(a=`${a}&${A.STORAGE_URL_PARAMS_KEY_MAP[e]}=`+t)}),e=R.getValue(A.PARAMSTRINGKEY),a=o(e)?a+"&"+e:a},E.isDuplicateRequest=e=>!!_(e)&&!!e.includes(i.constants.URL_PARAMS_KEY.CGUID),E.canShowKeepAssist=e=>!(s.globals.BROWSER!==s.constants.BROWSER_TYPE.CHROME||s.utils.getOSType()!==s.constants.os.WINDOWS||"en"!==s.localizer.getNavigatorLanguage().split("-")[0]||!i.helperUtils.isMediaDotNetExtension()||!r(R.getKeepAssistShownState())),E.shouldAutoHideTelemetryNotification=()=>!(s.globals.BROWSER!==s.constants.BROWSER_TYPE.CHROME||!i.helperUtils.isMediaDotNetExtension()),E.handleOmniSearchMv3=e=>{var t;E.canShowKeepAssist()&&e.url.includes("&annot=")&&(t=c.getExtensionURL("content/ui/keepAssist.html?redirect="+btoa(e.url)),c.updateTabUrl(e.tabId,t),R.setKeepAssistShownState()),i.NSSSHelper.isDuplicateRequest(e.url)||i.activeUserSearch.incrementSearchCount()},E.isLinkGuardSupported=()=>!!e&&!!e.linkGuardManager,E.getLinkGuardEnabled=()=>!!E.isLinkGuardSupported()&&e.linkGuardManager.getLinkGuardEnabled(),E})(e.SymBfw,e.NSSS,e.LinkGuardSDK)})(executionContext),(()=>{var{SymBfw:e,NSSS:t}=executionContext;let{constants:a,telemetryConstants:n}=e;e=t.constants;let r={DS:"ds",HP:"hp"},i={[r.DS]:e.DS_OCODE,[r.HP]:e.DHP_OCODE};t.antiTrackerConstants=class s{static get ANTI_TRACKER_EXTENSIONS(){return{[a.BROWSER_TYPE.CHROME]:"aajahhgggmjeoanmebkebnikpnfkbejb",[a.BROWSER_TYPE.FIREFOX]:"{f2a47522-1d86-4828-b6fb-d02e849f1b69}",[a.BROWSER_TYPE.EDGE_CHROMIUM]:"cjpijioncddkancpiedagilpojbgmoni"}}static get ANTI_TRACKER_EXTENSION_TIMEOUTS(){return[1e4]}static get PING_MESSAGE(){return"ping"}static get TELEMETRY_CUSTOM_DIMENSION_PRESENT_STATE(){return n.parameters.CUSTOM_DIMENSION5}static get TELEMETRY_CUSTOM_DIMENSION_ACTIVE_STATE(){return n.parameters.CUSTOM_DIMENSION6}static get FEATURES(){return r}static get ANTI_TRACKER_OCODES(){return{[a.BROWSER_TYPE.CHROME]:{[s.FEATURES.DS]:"ATCHDS",[s.FEATURES.HP]:"ATCHHP"},[a.BROWSER_TYPE.FIREFOX]:{[s.FEATURES.DS]:"ATFFDS",[s.FEATURES.HP]:"ATFFHP"},[a.BROWSER_TYPE.EDGE_CHROMIUM]:{[s.FEATURES.DS]:"ATCEDS",[s.FEATURES.HP]:"ATCEHP"}}}static get ORIGINAL_OCODES(){return i}static get ANTI_TRACKER_FETCH_INTERVAL(){return 1}static get PERIODIC_ANTI_TRACKER_SCHEDULER_INTERVAL(){return 60}static get ANTI_TRACKER_PRESENT_STORAGE_KEY(){return"85EC992A-D5AE-4F09-8061-09EA82B455FE"}static get ANTI_TRACKER_ACTIVE_STORAGE_KEY(){return"F4F4A1C9-5C1C-4C2D-9E2C-3B0D7F2E3C3C"}}})(),(()=>{let{antiTrackerConstants:n,helperUtils:a,trackerLogger:r,uiConstants:i,constants:t,ocodeMgr:s}=NSSS,{extensionAdapter:e,alarmHelper:E,logger:o,constants:_,globals:T}=SymBfw;NSSS.antiTrackerStatusProvider=new class{constructor(){this._isAntiTrackerPresent=null,this._isAntiTrackerActive=null,this._setAntiTrackerPromise(),this.getAntiTrackerCurrentlyActiveFromStorageSettings=this.getAntiTrackerCurrentlyActiveFromStorageSettings.bind(this),this.getAntiTrackerPresentFromStorageSettings=this.getAntiTrackerPresentFromStorageSettings.bind(this)}_setAntiTrackerPromise(){this._antiTrackerPromise=new Promise(e=>{this._resolveOnAntiTrackerStatusReceived=e})}_init(e=null,t=null){this._isAntiTrackerPresent=e,this._isAntiTrackerActive=t}isAntiTrackerPresent(){return!0===this._isAntiTrackerPresent}isAntiTrackerActive(){return!0===this._isAntiTrackerActive}getAntiTrackerCurrentlyActiveFromStorageSettings(){return NSSS.globalSettings.getValue(n.ANTI_TRACKER_ACTIVE_STORAGE_KEY)}getAntiTrackerPresentFromStorageSettings(){return NSSS.globalSettings.getValue(n.ANTI_TRACKER_PRESENT_STORAGE_KEY)}_setAntiTrackerStatusAndOCodes(e){var t=this._isAntiTrackerPresent,a=this._isAntiTrackerActive;e?(this._isAntiTrackerPresent=!0,this._isAntiTrackerActive=!0===e.active):(this._isAntiTrackerPresent=!1,this._isAntiTrackerActive=!1),NSSS.globalSettings.setValue(n.ANTI_TRACKER_PRESENT_STORAGE_KEY,this._isAntiTrackerPresent),NSSS.globalSettings.setValue(n.ANTI_TRACKER_ACTIVE_STORAGE_KEY,this._isAntiTrackerActive),a!==this._isAntiTrackerActive&&(o.debug("Updated anti-tracker active state as: "+this._isAntiTrackerActive),r.logger.debug("Updated anti-tracker active state as: "+this._isAntiTrackerActive)),t!==this._isAntiTrackerPresent&&(o.debug("Updated anti-tracker presence state as: "+this._isAntiTrackerPresent),r.logger.debug("Updated anti-tracker presence state as: "+this._isAntiTrackerPresent),this.updateOCodes())}async updateAntiTrackerStatus(){o.debug("Fetch anti-tracker extension status..."),r.logger.debug("Fetch anti-tracker extension status...");let e=0;var t=n.ANTI_TRACKER_EXTENSION_TIMEOUTS.length;do{var a=this._getAntiTrackerExtensionTimeout(e++),a=(await this._sleep(a),o.debug("Pinging anti-tracker extension to fetch current status, attempt: "+e),r.logger.debug("Pinging anti-tracker extension to fetch current status, attempt: "+e),await this._getAndUpdateAntiTrackerStatus());if(!a||!0===a.active)return this._resolveOnAntiTrackerStatusReceived(),void this._registerPeriodicScheduler()}while(e<t);this._registerScheduler()}async _getAndUpdateAntiTrackerStatus(){let e=null;var t=this._getAntiTrackerExtensionIds().map(e=>this._getMessageSenderPromise(e,n.PING_MESSAGE));try{e=await Promise.any(t)}catch(e){}return this._setAntiTrackerStatusAndOCodes(e),e}async handleAntiTrackerScheduler(e){e===t.ALARM_NAMES.PERIODIC_ANTI_TRACKER_SCHEDULER?this.updateAntiTrackerStatus():(await this._getAndUpdateAntiTrackerStatus(),this._resolveOnAntiTrackerStatusReceived(),this._registerPeriodicScheduler())}async _registerScheduler(){await E.setAlarm(t.ALARM_NAMES.FETCH_ANTI_TRACKER_STATUS,{delayInMinutes:n.ANTI_TRACKER_FETCH_INTERVAL})}async _registerPeriodicScheduler(){await E.setAlarm(t.ALARM_NAMES.PERIODIC_ANTI_TRACKER_SCHEDULER,{periodInMinutes:n.PERIODIC_ANTI_TRACKER_SCHEDULER_INTERVAL})}_getAntiTrackerOCodes(e){return n.ANTI_TRACKER_OCODES[e]}updateOCodes(){var e;this._isAntiTrackerPresent?(e=this._getAntiTrackerOCodes(this._getCurrentBrowser()))&&(o.info("Setting AT related o-codes..."),r.logger.info("Setting AT related o-codes..."),s.updateDefaultOCode(n.FEATURES.HP,e[n.FEATURES.HP]),s.updateDefaultOCode(n.FEATURES.DS,e[n.FEATURES.DS]),this._canUpdateDefaultSearch())&&a.handleOmniSearch():(o.debug("Setting default o-codes..."),r.logger.debug("Setting default o-codes..."),s.updateDefaultOCode(n.FEATURES.HP,n.ORIGINAL_OCODES[n.FEATURES.HP]),s.updateDefaultOCode(n.FEATURES.DS,n.ORIGINAL_OCODES[n.FEATURES.DS]))}_canUpdateDefaultSearch(){return e.isManifestV3Extension()&&(i.EXTENSION_TYPE===i.DEFAULT_SEARCH_EXTENSION||i.EXTENSION_TYPE===i.THREE_IN_ONE||i.EXTENSION_TYPE===i.MEDIA_DOT_NET_EXTENSION)}async isAntiTrackerCurrentlyActive(){try{return this._setAntiTrackerPromise(),this.updateAntiTrackerStatus(),await this._antiTrackerPromise,this.isAntiTrackerActive()}catch(e){o.debug("isAntiTrackerCurrentlyActive check failed"+e),r.logger.debug("isAntiTrackerCurrentlyActive check failed"+r.errorToString(e))}return!1}_getCurrentExtensionType(){return i.EXTENSION_TYPE}getAntiTrackerTelemetryParamsMap(){var e=new Map,t=this._getCurrentExtensionType();return t!==i.HOMEPAGE_EXTENSION&&t!==i.DEFAULT_SEARCH_EXTENSION&&t!==i.THREE_IN_ONE||(e.set(n.TELEMETRY_CUSTOM_DIMENSION_ACTIVE_STATE,this.isAntiTrackerCurrentlyActive.bind(this)),e.set(n.TELEMETRY_CUSTOM_DIMENSION_PRESENT_STATE,this.isAntiTrackerPresent.bind(this))),e}_getCurrentBrowser(){return T.BROWSER}_getAntiTrackerExtensionIds(){var e=[n.ANTI_TRACKER_EXTENSIONS[this._getCurrentBrowser()]];return this._getCurrentBrowser()===_.BROWSER_TYPE.EDGE_CHROMIUM?e.push(n.ANTI_TRACKER_EXTENSIONS[_.BROWSER_TYPE.CHROME]):this._getCurrentBrowser()===_.BROWSER_TYPE.CHROME&&e.push(n.ANTI_TRACKER_EXTENSIONS[_.BROWSER_TYPE.EDGE_CHROMIUM]),e}_getAntiTrackerExtensionTimeout(e){var t=null===this._isAntiTrackerPresent,a=!0===this._isAntiTrackerPresent&&!this._isAntiTrackerActive;return(t||a)&&n.ANTI_TRACKER_EXTENSION_TIMEOUTS[e]||0}_getMessageSenderPromise(e,t){return a.sendExternalMessageWithPromise(e,t)}_sleep(a){return new Promise((e,t)=>setTimeout(e,a)).catch(e=>{})}}})(executionContext),(e=>{(e.NSSS=e.NSSS||{}).main=((c,A)=>{var R={},s=A.uiConstants.BLOCKPAGE.TYPE,O=c.logger;let I=A.trackerLogger;var a=c.utils,u=A.helperUtils,E=A.uiHelper,d=A.nfmEvents,N=c.utils.isNil,g=c.utils.isntNil,C=A.constants,i=A.globalSettings,D=A.webProtection,r=A.wpsHelperUtils,o=c.localizer,L=c.extensionAdapter,m=A.uiConstants.MESSAGES;let M=c.performanceReporterFactory,_=A.NSSSHelper,n=(c.utils.isFunction,c.constants.uiConstants),T=A.extensionsPromotion;return R.downloadBlockParentUrlMap={},R.popoverWindowStrings=function(e,t){return E.popoverWindowStrings(e,t)},R.handleUIEvents=function(e,t){return u.handleUIEvents(e,t)},R.searchURLsAnalyzedCallback=function(e,t,a){var n,r,i;u.getSessionIDObject(e)?(n=a.annotationResults,r=u.getTabIDForSessionID(e),i={name:"annotate-urls",annotationResults:n,frameId:a.frameId},L.getTab(r,function(e){L.sendMessageToTab(e,i)})):(O.log("Tab has been closed by the time search annotation results came back:"+e),I.logger.log("Tab has been closed by the time search annotation results came back:"+e))},R.flavorizeAndReloadOnBoarding=function(){A.globalSettings.getFlavorized()||L.getAllTabs(function(e){e.forEach(function(e){var t=e.url;N(t)||_.isLandingPageURL(t)&&(L.addMessageListener(A.main._setSearchVendorMessageListener),t=L.getTabID(e),L.updateTabUrl(t,e.url),L.activateTab(t),u.setFlavor(e.url,{}))})})},R.performCollectURLs=function(e){e=u.getTabIDForSessionID(e);L.getTab(e,function(e){var t=L.getLastError();g(t)?(O.log("Tab is not available"),O.log(t),I.logger.log("Tab is not available"+I.errorToString(t))):N(e)?(O.log("Tab is not available so come back when tabReplaced has occurred"),I.logger.log("Tab is not available so come back when tabReplaced has occurred")):L.sendMessageToTab(e,{name:"collectURLs"})})},R.handleTelemetryOptOut=function(){var e=c.telemetrySettings.isTelemetryEnabled();if(!e){!c.telemetrySettings.hasUserRespondedInOptOutPage()&&_.shouldAutoHideTelemetryNotification()&&R.createTelemetryNotificationDueCheckAlarm();var t=c.telemetrySettings.getLastOfferDate(),a=!1;do{if(N(t)){a=!0;break}if("Firefox"===c.globals.BROWSER)break;if(new Date-t>A.constants.telemetryOptOut.REOFFER_TIME_WINDOW){a=!0;break}}while(0);if(a){let e=A.constants.telemetryOptOut.NOTIFICATION_LEEWAY,t=(e="Firefox"===c.globals.BROWSER&&A.uiConstants.EXTENSION_TYPE!==A.uiConstants.SAFEWEB_EXTENSION?A.constants.telemetryOptOut.NOTIFICATION_LEEWAY_FIREFOX:e)+1e3*Math.random();R._showTelemetryNoitifcation(t)}}},R._showTelemetryNoitifcation=function(e){c.alarmHelper.setAlarm(A.constants.ALARM_NAMES.TELEMETRY_NOTIFICATION,{delayInMinutes:e/A.constants.MS_TO_MIN_CONVERSION_VALUE})},R.hideTelemetryNotifcation=function(){var e=i.getTelemetryNotificationId();e&&(c.extensionAdapter.isManifestV3Extension()?c.notificationCenter.removeNotificationManifestV3(e):c.notificationCenter.removeNotification(e),i.setTelemetryNotificationDueTimestamp(Date.now()+A.constants.telemetryOptOut.NOTIFICATION_REOFFER_DELAY_DURATION_IN_MILLI_SEC),R.createTelemetryNotificationDueCheckAlarm())},R.checkTelemetryNotificationDueElapsed=function(){var e=i.getTelemetryNotificationDueTimestamp();Date.now()>e&&R.setTelemetryNotification()},R.createTelemetryNotificationDueCheckAlarm=function(){i.getTelemetryNotificationDueTimestamp()>Date.now()&&c.alarmHelper.setAlarm(A.constants.ALARM_NAMES.TELEMETRY_NOTIFICATION_DUE_CHECK_WAKEUP,{periodInMinutes:A.constants.telemetryOptOut.NOTIFICATION_ALARM_DUE_CHECK_WAKEUP_DURATION_IN_MINUTES})},R.setTelemetryNotification=()=>{var e,t,a,n,r;c.telemetrySettings.isTelemetryEnabled()||(r=o.getLocalizedStringWithFormat("Thank you for using {0}! Share usage and error data anonymously with Norton to help make our products even better.",[C.PRODUCT_NAME]),e=o.getLocalizedString("OK"),t=o.getLocalizedString("Learn More"),a=o.getLocalizedString("No, thanks"),n="content/images/"+A.constants.DEFAULT_INFO_ICON,(r=new c.QuestionNotification(r,{},e,R._telemetryNotificationDefaultAction,n)).addSecondaryLink(t,R._telemetryNotificationSecondayLinkAction),r.addThirdButton(a,R._telemetryNotificationThirdButtonAction),r.addCloseButtonAction(R._telemetryNotificationCloseButtonAction),c.telemetrySettings.setLastOfferDate(new Date),c.notificationCenter.addNotification(r),c.extensionAdapter.isManifestV3Extension()&&i.setTelemetryNotificationId(r.getID()),A._telemetryNotificationID=r.getID(),_.shouldAutoHideTelemetryNotification()&&c.alarmHelper.setAlarm(A.constants.ALARM_NAMES.TELEMETRY_NOTIFICATION_AUTOHIDE,{when:Date.now()+A.constants.telemetryOptOut.NOTIFICATION_AUTOHIDE_DURATION_IN_MILLI_SEC}))},R._handleNotificationEvent=async function(e){await A.init.ready();var e=e.detail,t=i.getTelemetryNotificationId();if(e.notificationID===t)switch(e.eventID){case n.NOTIFICATION.MESSAGES.DEFAULT_BUTTON_PRESSED:R._telemetryNotificationDefaultAction();break;case n.NOTIFICATION.MESSAGES.SECONDARY_LINK_PRESSED:R._telemetryNotificationSecondayLinkAction();break;case n.NOTIFICATION.MESSAGES.THIRD_BUTTON_PRESSED:R._telemetryNotificationThirdButtonAction();break;case n.NOTIFICATION.MESSAGES.NOTIFICATION_CLOSED:R._telemetryNotificationCloseButtonAction();break;default:return}},R._telemetryNotificationDefaultAction=e=>{c.telemetrySettings.setTelemetryEnabled(!0),c.telemetrySettings.setUserRespondedInOptOutPage(!0),c.alarmHelper.clearAlarm(A.constants.ALARM_NAMES.TELEMETRY_NOTIFICATION_DUE_CHECK_WAKEUP),c.alarmHelper.clearAlarm(A.constants.ALARM_NAMES.TELEMETRY_NOTIFICATION_AUTOHIDE),"Firefox"===c.globals.BROWSER&&A.uiConstants.EXTENSION_TYPE!==A.uiConstants.SAFEWEB_EXTENSION&&A.init._sendInstallHBPing()},R._telemetryNotificationSecondayLinkAction=e=>{A.settingsManager._openPrivacyPolicypage(),R._showTelemetryNoitifcation(50)},R._telemetryNotificationThirdButtonAction=e=>{c.telemetrySettings.setTelemetryEnabled(!1),c.telemetrySettings.setUserRespondedInOptOutPage(!0),c.alarmHelper.clearAlarm(A.constants.ALARM_NAMES.TELEMETRY_NOTIFICATION_DUE_CHECK_WAKEUP),c.alarmHelper.clearAlarm(A.constants.ALARM_NAMES.TELEMETRY_NOTIFICATION_AUTOHIDE)},R._telemetryNotificationCloseButtonAction=e=>{c.telemetrySettings.setTelemetryEnabled(!1),c.telemetrySettings.setUserRespondedInOptOutPage(!0),c.alarmHelper.clearAlarm(A.constants.ALARM_NAMES.TELEMETRY_NOTIFICATION_DUE_CHECK_WAKEUP),c.alarmHelper.clearAlarm(A.constants.ALARM_NAMES.TELEMETRY_NOTIFICATION_AUTOHIDE)},R.handleOnUpdated=async function(e,t,a){O.log("Handle on updated:"+e),I.logger.log("Handle on updated:"+e),await A.init.ready();var n,r,i=u.getSessionIDForTabID(e);u.isURLWhitelisted(a.url)?u.updateActionButton(i,e,a.url):(r=await A.extensionURLValidator.isNortonExtensionURL(a.url),n=A.NSSSHelper.isBlockPage(a.url),r&&!n?(r=L.getExtensionURL("content/images/")+A.constants.SAFE_IMAGE+".png",L.setBrowserIcon({path:r,tabId:e})):(n=E.toolbarStatusForSessionID(i),N(n)||(r=L.getExtensionURL(""),a.url.startsWith(r)&&N(n.redirectPage)&&R.deleteSessionForTab(e),u.updateActionButton(i,e,n.url))))},R.tabIdToRedirectUrlsMap={},R.collectRedirectUrls=function(e){let t;t=R.tabIdToRedirectUrlsMap[e.tabId]||new Set;var a=u.getSessionIDForTabID(e.tabId),a=(N(a)&&R.createSessionForTab(e.tabId),L.getExtensionURL(""));e.url.startsWith(a)||(t.add(e.url),R.tabIdToRedirectUrlsMap[e.tabId]=t)},"sw"!==A.uiConstants.EXTENSION_TYPE&&"three-in-one"!==A.uiConstants.EXTENSION_TYPE&&"media-dot-net"!==A.uiConstants.EXTENSION_TYPE||chrome.webRequest.onBeforeRequest.addListener(R.collectRedirectUrls,{urls:["<all_urls>"],types:["main_frame"]}),R._handleInstallButtonClick=async()=>{await A.init.ready();var e=A.NSSSHelper.appendLandingPageURLParams(C.LANDING_PAGE_URL)+"&installSource="+C.SW_BLOCK;L.createTab(e),A.telemetryWrapper.sendBlockPagePromotionTileClick(),A.telemetryTrackerClient.sendBlockPagePromotionTileClick()},R._sendBlockPageData=(e,t,a,n)=>{N(e.pageType)&&(e.pageType=s.MALICIOUS);var r={},i=(r.string=E.getBlockPageString(e.pageType),A.helperUtils.getFeatureFlavorization()),i=(r.showSafeWebSearchbox=i.showSafeWebSearchbox,r.showNortonLinks=e.pageType!==s.SUSPECTEDBAD&&i.showNortonLinks,r.pageType=e.pageType,r.canShowFullReport=e.pageType!==s.SUSPECTEDBAD,E.uiStatusForSessionID(t,a));g(i)&&(r.fullReportURL=i.fullReportURL),n(r),A.main._sendBlockPageTelemetry(t)},R._sendExtensionsPromotionDataToTab=async e=>{var t;N(e)||(t=await T.getExtensionsPromotionTileData(),t={id:m.EXTENSIONS_PROMOTION_DATA,message:{extensionsPromotionData:t}},L.sendMessageToTab(e,t))},R._sendBlockPageTelemetry=t=>{var a=E.toolbarStatusForSessionID(t);if(!N(a)){var n=r.blockPageType(a.siteRating),t=u.getSessionSetting(t,d.PAGE_ANALYZED);let e=!1;g(t)&&g(t._safeWebResult)&&(e=!u.isRatingForFinalRedirectedUrl(t._safeWebResult)),A.telemetryTrackerClient.sendBlockPageTelemetry(a.url,n,!1,e),console.log(n),A.telemetryWrapper.sendBlockPageTelemetry(a.url,n,!1,e)}},R.handleMessage=function(e,a,n){var r=n,i=L.getTabID(r),s=u.getSessionIDForTabID(i),E=(N(s)&&(s=R.createSessionForTab(i)),e.message),o=e.name,_=null;switch(o){case m.DOMEVENT:if(E.eventID===d.FRAME_BEGIN&&(R.pageAnalysisTime="Overall time taken for page analysis: "+Date.now(),M.reportStartForComponent(C.performanceReporter.NSSS,R.pageAnalysisTime),A.constants.TABID,R._deleteOldSession(s,i,E.url)&&(s=R.createSessionForTab(i)),u.setSessionSetting(s,A.constants.FINAL_REDIRECTED_TAB_URL,E.url),N(A.main.tabIdToRedirectUrlsMap[i]))&&(T={url:E.url,tabId:n.id},R.collectRedirectUrls(T)),g(A.main.tabIdToRedirectUrlsMap[i])&&(R.tabIdToRedirectUrlsMap[i].forEach(e=>{D.handleEvent(s,E.eventID,e)}),delete R.tabIdToRedirectUrlsMap[i]),E.isTop){var T=E.hidden;if(g(T)&&u.setSessionSetting(s,"hidden",T),u.setSessionSetting(s,E.eventID,!0),E.eventID===d.NAVIGATE_COMPLETE){if(_=u.getSessionSetting(s,d.PAGE_ANALYZED),N(_))return;g(_.searchText)&&A.main.performCollectURLs(s)}}break;case m.SHOW_ANNOTATION_POPUP:case m.CLOSE_ANNOATION_POPUP:L.sendMessageToTab(r,{name:o,data:E});break;case"collectURLs":_=u.getSessionSetting(s,d.PAGE_ANALYZED),N(_)||g(_.searchText)&&A.main.performCollectURLs(s);break;case"flavor-retrieved":N(r.url)||u.setFlavor(r.url,E);break;case m.BLOCKEDPAGE_SEARCH:c.utils.isString(E.searchText)&&(R.handleClose(i),T=u.getSearchURL(A.constants.BLOCKEDPAGE_SEARCH_OCODE,E.searchText),L.updateTabUrl(i,T),A.telemetryWrapper.sendBlockedPageSearchEvent(),A.telemetryTrackerClient.sendBlockedPageSearchEvent());break;case m.HANDLE_UI_EVENTS:R.handleUIEvents(E.eventID,E.eventData);break;case m.UPDATE_POPOVER_UI:return A.telemetryWrapper.sendShowPopupUIEvent(L.getExtensionURL("content/ui/popup.html")),A.telemetryTrackerClient.sendShowPopupUIEvent(L.getExtensionURL("content/ui/popup.html")),A.chromeGlobal.updatePopoverUI(a),!0;case m.BLOCKEDPAGE_INIT:A.main._sendBlockPageData(E,s,r.url,a),A.main._sendExtensionsPromotionDataToTab(r);break;case m.EXIT_BLOCK_PAGE:N(i)?(O.log("Invalid tab ID"),I.logger.log("Invalid tab ID")):(L.closeTab(i),A.telemetryWrapper.sendBlockPageTelemetry(E.url,E.blockPageType,!1,!1,null,null,!0),A.telemetryTrackerClient.sendBlockPageTelemetry(E.url,E.blockPageType,!1,!1,!0));break;case m.INSTALL_BUTTON_CLICK:return A.main._handleInstallButtonClick(),!0;case m.OPEN_DO_NOT_BLOCK_PAGE:var T=E.url,S=E.blockPageType,l=(u.setSessionSetting(s,A.constants.SHOULD_BLOCK_KEY,!1),L.updateTabUrl(i,T,function(e){}),u.getSessionSetting(s,d.PAGE_ANALYZED));let e=T,t=!1;g(l)&&!0===(t=!u.isRatingForFinalRedirectedUrl(l._safeWebResult))&&(e=l._safeWebResult?l._safeWebResult.fullURL:T),A.telemetryWrapper.sendBlockPageTelemetry(e,S,!0,t),A.telemetryTrackerClient.sendBlockPageTelemetry(e,S,!0,t);break;case m.EXTN_SETTINGS_PAGE_LOADED_TELEMETRY:A.telemetryWrapper.sendSettingsPageLoadEvent(),A.telemetryTrackerClient.sendSettingsPageLoadEvent();break;case m.BLOCKPAGE_PROMOTION_TILE_SHOWN:A.telemetryWrapper.sendBlockPagePromotionTileShown(),A.telemetryTrackerClient.sendBlockPagePromotionTileShown()}},R.setDSVendorConstants=e=>{var t=A.chromeGlobal.constants.SEARCHHELPER_MAP;N(t)||(A.constants.VENDOR=e,A.constants.DS_OCODE=t.DS_OCODE[e],A.constants.SEARCH_URL=t.SEARCH_URL[e],A.constants.NORTONSAFE_HOSTNAME=t.NORTONSAFE_HOSTNAME[e])},R._deleteOldSession=function(t,e,a){let n=u.getSessionSetting(t,d.PAGE_ANALYZED);if(N(n))return R.deleteSessionForTab(e),!0;var r=(n=n.getRating?n:new A.Rating(n)).getRating(),a=new URI(a);if(!r||!r.finalRedirectedTabUrl)return R.deleteSessionForTab(e),!0;r=new URI(r.finalRedirectedTabUrl);if(a.hostname()!==r.hostname())return R.deleteSessionForTab(e),!0;if(a.hostname()===C.NORTONSAFE_HOSTNAME&&a.query()!==r.query())return R.deleteSessionForTab(e),!0;a=u.getSessionSetting(t,C.SHOULD_BLOCK_KEY);if(!N(a)&&!0!==a){r=u.getSessionSetting(t,C.CONTINUE_SITE_LOADED_KEY);if(g(r)&&!0===r)return R.deleteSessionForTab(e),!0;"Edge"===c.globals.BROWSER?setTimeout(function(){L.getTab(e,function(e){N(e)||e.url.includes("ms-appx-web")||u.setSessionSetting(t,C.CONTINUE_SITE_LOADED_KEY,!0)})},1e3):u.setSessionSetting(t,C.CONTINUE_SITE_LOADED_KEY,!0)}return!1},R.pageAnalyzedCallback=function(e,t,a){var n;u.getSessionIDObject(e)?(O.log("Inside pageAnalyzedCallback"),I.logger.log("Inside pageAnalyzedCallback"),u.setSessionSetting(e,t,a),n=u.getTabIDForSessionID(e),a.reloadPage(function(e){e&&(e=a.getRating(),L.updateTabUrl(n,e.url))}),u.updateButton(e,n)):(O.log("Tab has been closed by the time page annotation results came back:"+e),I.logger.log("Tab has been closed by the time page annotation results came back:"+e))},R.createSessionForTab=function(e){var t=u.getSessionIDForTabID(e);return g(t)||(t=a.createNewGuid(),u.setSessionSetting(t,C.TABID,e)),t},R.deleteSessionForTab=function(e){delete R.tabIdToRedirectUrlsMap[e];e=u.getSessionIDForTabID(e);N(e)?(O.log("Tab has no sessionID associated with it. Seems like a bug"),I.logger.log("Tab has no sessionID associated with it. Seems like a bug")):u.deleteSessionSettings(e)},R.handleTabReplaced=function(e){var t=e.replacedTabId,e=(R.deleteSessionForTab(t),e.tabId),t=(R.deleteSessionForTab(t),u.getSessionIDForTabID(e));u.updateButton(t,e)},R.handleActivate=function(e,t){var a=e.tabId,n=(O.log("Inside handleActivate"),O.log(a),I.logger.log("Inside handleActivate"),I.logger.log(a),u.getSessionIDForTabID(a));if(N(n))return g(t)&&c.utils.isString(t.url)?void u.updateActionButton(n,a,t.url):void L.getTab(a,function(e){let t="";g(e)&&c.utils.isString(e.url)&&(t=e.url),u.updateActionButton(n,a,t)});u.updateButton(n,a,!0)},R.analyzeDownloadPage=function(e){"in_progress"===e.state&&(R.downloadBlockParentUrlMap[e.url]=e.referrer,D.handleEvent(e.id,d.DOWNLOAD_EVENT,e.url))},R.getParentUrlForDownloadBlock=function(e){return R.downloadBlockParentUrlMap[e]},R.handleOmniSearchEvent=function(s){return new Promise(async n=>{var r,i;if(c.globals.BROWSER!==c.constants.BROWSER_TYPE.FIREFOX||A.privacyPromptSettings.getPrivacyConsent()){let e=s.url,t=(A.NSSSHelper.isDuplicateRequest(e)||A.activeUserSearch.incrementSearchCount(),u.getQueryString("q",e)),a=u.getSearchURL(A.ocodeMgr.getDSOCode(),t);A.helperUtils.isMediaDotNetExtension()&&({isDarkMode:r,isSameTabLaunchSet:i}=await A.helperUtils._getDarkModeAndNewTabValuesForMediaDotNet(),a=(a=a.concat(`&${A.uiConstants.DARK_MODE_PARAM}=`+r)).concat(`&${A.uiConstants.SAME_TAB_LAUNCH_SERP_PARAM}=`+i)),A.telemetryWrapper.sendDefaultSearchEvent(),A.telemetryTrackerClient.sendDefaultSearchEvent(),n({redirectUrl:a})}else r=L.getExtensionURL(A.uiConstants.PRIVACY_PROMPT_SCREEN.HTML),L.updateTabUrl(s.tabId,r),n({cancel:!0})})},R.handleClose=function(e,t){R.deleteSessionForTab(e)},R._executeScripts=async function(e){try{await L.executeContentScript(e,"content/libs/uri.min.js"),await L.executeContentScript(e,"ContextInit.js"),await L.executeContentScript(e,"content/scripts/SymBfwCS.js"),await L.executeContentScript(e,"content/scripts/NSSS_CS.js"),c.globals.BROWSER===c.constants.BROWSER_TYPE.CHROME&&await L.executeContentScript(e,"content/scripts/portalInstallFlowCS.js"),c.globals.BROWSER===c.constants.BROWSER_TYPE.EDGE_CHROMIUM&&(await L.executeContentScript(e,"content/scripts/portalInstallFlowCS.js"),A.uiConstants.EXTENSION_TYPE===A.uiConstants.SAFEWEB_EXTENSION)&&await L.executeContentScript(e,"content/scripts/nsssEdgeGuidedFlowsManagerCS.js"),await L.executeContentScript(e,"content/scripts/webCommunication.js"),A.PrivacyPromptController.setPortalFlow()}catch(e){O.error("Error while executing the scripts"),I.logEvent(I.LOG_TYPE.ERROR,"Error while executing the scripts")}},R.injectWebCommunication=function(){L.getAllTabs(function(e){e=u.getPagesToFlavor(e);0<e.length&&e.forEach(async e=>{var t=e&&e.id,t=("Chrome"!==c.globals.BROWSER&&"Firefox"!==c.globals.BROWSER&&"Edge-Chromium"!==c.globals.BROWSER||t&&A.main._executeScripts(t),new URI(e.url).query(!0));A.portalCguid=t[A.constants.URL_PARAMS_KEY.CGUID]})})},R._onExtensionUpdate=function(){var e=A.telemetryWrapper;e.sendExtensionUpdate(),A.telemetryTrackerClient.sendExtensionUpdate(),A.NSSSHelper.isVendorMigrationDoneFFEdge()&&e.sendVendorMigrationPing(),A.globalSettings.getInstallDate(),A.init.updateAntiTrackerStatus()},R.handleInstall=function(e){let t=e.reason,a=c.globals.BROWSER;A.isFreshInstall=!1,"install"===t&&(A.isFreshInstall=!0,A.main.injectWebCommunication()),A.init.ready().then(function(){var e=A.telemetryWrapper;switch(t){case"install":"Edge"===a||"Safari"===a?A.main.flavorizeAndReloadOnBoarding():u.flavorizeExtension(),e.sendExtensionInstall(),A.telemetryTrackerClient.sendExtensionInstall(),A.globalSettings.getInstallDate(),A.init.updateAntiTrackerStatus(),A.uninstallSurveyHelper&&A.uninstallSurveyHelper.initializeUninstallSurveyURL();break;case"update":A.uninstallSurveyHelper&&A.uninstallSurveyHelper.initializeUninstallSurveyURL(),A.NSSSHelper.isTelemetryQueueCleanupRequired()?c.telemetry.cleanupTelemetryParamsQueue().finally(()=>{O.log("Telemetry queue cleanup done on extension update"),I.logger.log("Telemetry queue cleanup done on extension update"),A.main._onExtensionUpdate()}):A.main._onExtensionUpdate()}},function(e){O.error(e),I.logEvent(I.LOG_TYPE.ERROR,""+I.errorToString(e))})},R._setSearchVendorMessageListener=(e,t,a)=>{var n=e.message;e.name!==m.SET_DS_VENDOR||g(i.getValue(A.constants.VENDOR_IS_PRESENT))||(e=n.vendor,N(e))||(A.globalSettings.setVendor(e),i.setValue(A.constants.VENDOR_IS_PRESENT,!0),R.setDSVendorConstants(e),!0===A.chromeGlobal.TWO_IN_ONE&&e===A.constants.YAHOO&&A.chromeGlobal.setDateOfAssociationForSafari())},R.checkIfFirstInstall=function(){var e=A.globalSettings.getValue(A.constants.NSSS_INSTALLDATEKEY);c.utils.isntNil(e)||(A.main.handleInstall({reason:"install"}),i.setCurrentDateAsDoi())},R.initVendorConstants=function(){A.NSSSHelper.isValidVendor(C.VENDOR)||(C.VENDOR=A.globalSettings.getVendor()),A.NSSSHelper.isValidVendor(C.VENDOR)&&(A.vendorSetup&&A.vendorSetup.vendorPromiseResolve(!0),A.ocodeMgr.updateDefaultOCode("hp",C.ocodeMap[C.VENDOR].hp),A.ocodeMgr.updateDefaultOCode("ds",C.ocodeMap[C.VENDOR].ds),A.uiConstants.EXTENSION_TYPE!==A.uiConstants.THREE_IN_ONE&&A.uiConstants.EXTENSION_TYPE!==A.uiConstants.MEDIA_DOT_NET_EXTENSION||(C.NORTONSAFE_HOSTNAME=C.HOST_NAME[C.VENDOR]))},R._deleteSessionSettingsContainer=()=>new Promise(e=>{c.settings.deleteSettingsContainer(A.constants.NSSS_SESSION_SETTINGS_CONTAINER,()=>{e()})}),R.handleStartUp=async()=>{await A.init.ready(),A.NSSSHelper.isTelemetryQueueCleanupRequired()&&(await c.telemetry.cleanupTelemetryParamsQueue(),O.log("Telemetry queue cleanup done on startup..."),I.logger.log("Telemetry queue cleanup done on startup...")),await A.init.initializeSessionSettings(),await A.main._deleteSessionSettingsContainer(),await A.init.initializeSessionSettings()},R})(e.SymBfw,e.NSSS)})(executionContext),SymBfw.extensionAdapter.addStartupListener(NSSS.main.handleStartUp),window.addEventListener(SymBfw.constants.uiConstants.NOTIFICATION.NOTIFICATION_EVENT,NSSS.main._handleNotificationEvent),(()=>{var{}=NSSS.uiConstants,{}=SymBfw.utils;NSSS.homePageFeaturesManager=new class{constructor(){this._appManagers=[]}registerHomePageFeature(e){this._appManagers.push(e)}getHeartBeatPingCustomDimesions(){let t={};return this._appManagers.forEach(e=>{e=e.getTelemetryDataForHeartBeat();t={...t,...e}}),t}handleRestoreToDefaultClick(){this._appManagers.forEach(e=>{e.handleRestoreToDefault&&e.handleRestoreToDefault()})}}})(),(e=>{let t=NSSS.globalSettings,{utils:{isNil:a},telemetryConstants:n}=SymBfw;(e.NSSS=e.NSSS||{}).nsssNewTabSettingChangeHandler=new class{constructor(){this._newTabSettingChangeListeners=[],this.onNewTabSettingChange=this.onNewTabSettingChange.bind(this),this.addNewTabSettingChangeListener=this.addNewTabSettingChangeListener.bind(this)}addNewTabSettingChangeListener(e){this._newTabSettingChangeListeners.push(e)}removeNewTabSettingChangeListener(t){this._newTabSettingChangeListeners=this._newTabSettingChangeListeners.filter(function(e){return e!==t})}onNewTabSettingChange(){this._newTabSettingChangeListeners.forEach(function(e){e()})}_getNewTabSearchEnabledData(){var e=t.getNewTabForSearchResultsEnabled();return!!a(e)||e}getTelemetryDataForHeartBeat(){return{[n.parameters.CUSTOM_DIMENSION28]:()=>this._getNewTabSearchEnabledData()}}},NSSS.homePageFeaturesManager.registerHomePageFeature(NSSS.nsssNewTabSettingChangeHandler)})(executionContext),(()=>{let{logger:i,extensionAdapter:s,utils:{isNil:E,isString:t},settings:e,telemetryConstants:a}=SymBfw,{customDarkModeConstants:o,uiConstants:n,uiConstants:{},constants:r,helperUtils:_,globalSettings:T,trackerLogger:S}=NSSS;NSSS.customDarkModeManager=new class{constructor(){this._settingsContainer=null,this._customDarkModeThemeChangeListeners=[],this.handleMessage=this.handleMessage.bind(this),this.getCustomDarkModeTheme=this.getCustomDarkModeTheme.bind(this),this.setCustomDarkModeTheme=this.setCustomDarkModeTheme.bind(this),this.getThemeForTelemetryTracker=this.getThemeForTelemetryTracker.bind(this)}initialize(){if(_.isHP()||_.isDS()||_.isMediaDotNetExtension())return new Promise((n,r)=>{e.loadSettingsContainer(o.CUSTOM_DARK_MODE_SETTINGS_CONTAINER,!0,(e,t,a)=>{!1===e||E(t)?(i.error("failed to load CUSTOM_DARK_MODE_SETTINGS_CONTAINER"),S.logEvent(S.LOG_TYPE.ERROR,"failed to load CUSTOM_DARK_MODE_SETTINGS_CONTAINER"),r(!1)):(this._settingsContainer=t,s.addMessageListener(this.handleMessage),n(!0))})})}addCustomDarkModeThemeChangeListener(e){this._customDarkModeThemeChangeListeners.push(e)}removeCustomDarkModeThemeChangeListener(t){this._customDarkModeThemeChangeListeners=this._customDarkModeThemeChangeListeners.filter(function(e){return e!==t})}_notifyDarkModeThemeToAllTabs(t){s.getAllTabs(e=>{e.forEach(e=>{s.sendMessageToTab(e,{name:o.CUSTOM_DARK_MODE_THEME_CHANGE_EVENT,payload:{darkModeTheme:t}})})})}_notifyDarkModeThemeToOtherExtensions(e){let t={name:o.SET_DARK_MODE_EXTERNAL,payload:{darkModeTheme:e}};r.NORTON_DS_EXTENSION_IDS.forEach(e=>{s.sendMessageExternal(e,t,()=>{})})}setCustomDarkModeTheme(t){return t&&t!==n.THEMES.BROWSER_THEME?(this._settingsContainer.setObject(o.CUSTOM_DARK_MODE_THEME,t),T.setDefaultDarkModeTheme(n.THEMES.BROWSER_THEME)):this._settingsContainer.removeObject(o.CUSTOM_DARK_MODE_THEME),this._customDarkModeThemeChangeListeners.forEach(function(e){e(t)}),this._notifyDarkModeThemeToAllTabs(t===n.THEMES.BROWSER_THEME?null:t),{isSuccess:!0}}getCustomDarkModeTheme(){var e;return E(this._settingsContainer)?(i.log("Settings not initialized"),S.logger.log("Settings not initialized"),null):(e=this._settingsContainer.getObject(o.CUSTOM_DARK_MODE_THEME),{customDarkModeTheme:t(e)?e:n.THEMES.BROWSER_THEME})}handleMessage(a,n,e){if(!E(a)){var r=a.id;if(!E(r)){let e=null,t=!0;switch(r){case o.SET_CUSTOM_DARK_MODE_THEME:var i=a.payload;if(E(i))return;e=this.setCustomDarkModeTheme(i.customDarkModeTheme);break;case o.GET_CUSTOM_DARK_MODE_THEME:e=this.getCustomDarkModeTheme();break;default:t=!1}t&&n({id:a.id,payload:e})}}}async _getCustomOrDefaultThemeValue(){var e,t=this.getCustomDarkModeTheme().customDarkModeTheme;return E(t)||t===n.THEMES.BROWSER_THEME?(e=SymBfw.darkModeHandler.getDarkModeStatus(),E(e)?NSSS.constants.NOT_SET:await NSSS.nsssDarkModeHandlerBG.isDarkModeSet()?n.THEMES.DARK_THEME:n.THEMES.LIGHT_THEME):t}async getThemeForTelemetryTracker(){return this._getCustomOrDefaultThemeValue()}getTelemetryDataForHeartBeat(){return{[a.parameters.CUSTOM_DIMENSION27]:()=>this._getCustomOrDefaultThemeValue()}}},NSSS.customDarkModeManager.initialize(),NSSS.homePageFeaturesManager.registerHomePageFeature(NSSS.customDarkModeManager)})(executionContext),(e=>{var{}=SymBfw;let{uiConstants:t,helperUtils:a,customDarkModeManager:n}=NSSS;(e.NSSS=e.NSSS||{}).nsssDarkModeResolverBG=new class{constructor(){this.getDarkModeTheme=this.getDarkModeTheme.bind(this)}async getDarkModeTheme(){var e;return a.isDS()?(e=await a.getSettingsFromHomePageExtension(),a.getDarkModeThemeForDS(e)):a.isHP()||a.isMediaDotNetExtension()?(e=n.getCustomDarkModeTheme(),a.getDarkModeThemeForHP(e)):a.isBrowserDarkModeSet()?t.THEMES.DARK_THEME:t.THEMES.LIGHT_THEME}}})(executionContext),(e=>{let{extensionAdapter:n,utils:{isNil:s}}=SymBfw,{constants:r,uiConstants:E,uiConstants:{MESSAGES:o},helperUtils:_,globalSettings:T,nsssDarkModeResolverBG:t,nsssNewTabSettingChangeHandler:a,customDarkModeManager:i}=NSSS;(e.NSSS=e.NSSS||{}).nsssDarkModeHandlerBG=new class{constructor(){this.initialize=this.initialize.bind(this),this.isDarkModeSet=this.isDarkModeSet.bind(this),this.handleMessage=this.handleMessage.bind(this),this.handleMessageFromDependentExtension=this.handleMessageFromDependentExtension.bind(this),this.handleMessageFromProviderExtension=this.handleMessageFromProviderExtension.bind(this),this._onBrowserDarkModeThemeChange=this._onBrowserDarkModeThemeChange.bind(this),this._refreshIconAndTabUrls=this._refreshIconAndTabUrls.bind(this),this._onNewTabSettingChange=this._onNewTabSettingChange.bind(this),this._getQueryParams=this._getQueryParams.bind(this),this._onCustomDarkModeChange=this._onCustomDarkModeChange.bind(this),this._notifyHomePageTabs=this._notifyHomePageTabs.bind(this),this._sendHPSettings=this._sendHPSettings.bind(this),this._previousBrowserDarkModeSet=null}initialize(){_.isHP()||_.isMediaDotNetExtension()?(n.addMessageListener(this.handleMessage),a.addNewTabSettingChangeListener(this._onNewTabSettingChange),i.addCustomDarkModeThemeChangeListener(this._onCustomDarkModeChange),n.addMessageExternalListener(this.handleMessageFromDependentExtension)):_.isDS()&&(n.addMessageListener(this.handleMessage),n.addMessageExternalListener(this.handleMessageFromProviderExtension))}async _notifyHomePageTabs(e){var t=await _.getAllHomePageTabs();let a={name:o.DARK_MODE_THEME_CHANGE_EVENT,payload:{darkModeTheme:e?E.THEMES.DARK_THEME:E.THEMES.LIGHT_THEME}};t.forEach(e=>{n.sendMessageToTab(e,a)})}async _refreshIconAndTabUrls(e){if(void 0!==e)return this._previousBrowserDarkModeSet===e?void 0:(this._previousBrowserDarkModeSet=e,void((_.isDS()&&n.isManifestV3Extension()||_.isMediaDotNetExtension()&&n.isManifestV3Extension())&&await _.handleOmniSearch()));var e=await this.isDarkModeSet(),t=T.getNewTabForSearchResultsEnabled(),t=!(null===t||t);_.updateSERPTabUrls(e,t),_.isHP()&&(this.notifyOtherExtensions(e),await this._notifyHomePageTabs(e)),_.isMediaDotNetExtension()&&(await this._notifyHomePageTabs(e),n.isManifestV3Extension())&&await _.handleOmniSearch()}_getQueryParams(e){var t=T.getNewTabForSearchResultsEnabled();return{[E.DARK_MODE_PARAM]:e,[E.SAME_TAB_LAUNCH_SERP_PARAM]:null!=t&&!t,[E.IS_BROWSER_DARK_MODE_SET]:_.isBrowserDarkModeSet()}}notifyOtherExtensions(e){let t={name:E.HP_SETTINGS_CHANGED_EXTERNAL,payload:this._getQueryParams(e)};r.NORTON_DS_EXTENSION_IDS.forEach(e=>{n.sendMessageExternal(e,t,()=>{})})}async _onBrowserDarkModeThemeChange(){var e=_.isBrowserDarkModeSet();T.setDefaultDarkModeTheme(E.THEMES.BROWSER_THEME),(_.isDS()||_.isMediaDotNetExtension())&&(T.setPrevBrowserDarkModeSet(e),T.setPreviousHPDarkModeTheme(E.THEMES.BROWSER_THEME)),_.isDS()&&n.isManifestV3Extension()?await _.handleOmniSearch():await this._refreshIconAndTabUrls(),_.isMediaDotNetExtension()&&n.isManifestV3Extension()&&await _.handleOmniSearch()}async _onNewTabSettingChange(){await this._refreshIconAndTabUrls()}async _onCustomDarkModeChange(){await this._refreshIconAndTabUrls()}async isDarkModeSet(){return await t.getDarkModeTheme()===E.THEMES.DARK_THEME}handleMessage(e,t,a){if(!s(e)&&!s(e.id)){var n=e.id;switch(n){case o.BROWSER_DARK_MODE_THEME_CHANGED:this._onBrowserDarkModeThemeChange();break;case o.INIT_BROWSER_DARK_MODE_THEME:var r,i=e.payload.isDarkModeSet;_.isHP()&&(r=i?E.THEMES.DARK_THEME:E.THEMES.LIGHT_THEME,null===T.getInstallTimeBrowserDarkModeTheme()?T.setInstallTimeBrowserDarkModeTheme(r):T.getInstallTimeBrowserDarkModeTheme()!==r&&T.setDefaultDarkModeTheme(E.THEMES.BROWSER_THEME)),this._refreshIconAndTabUrls(i)}}}async _sendHPSettings(e){var t=await this.isDarkModeSet();e(this._getQueryParams(t))}handleMessageFromProviderExtension(e,t,a){var n=e.name,t=t.id;r.NORTON_HP_EXTENSION_IDS.includes(t)&&n===E.HP_SETTINGS_CHANGED_EXTERNAL&&(t=e.payload[E.IS_BROWSER_DARK_MODE_SET],this._refreshIconAndTabUrls(t))}handleMessageFromDependentExtension(e,t,a){e=e.name,t=t.id;if(r.NORTON_DS_EXTENSION_IDS.includes(t))switch(e){case E.GET_HP_SETTINGS_EXTERNAL:return this._sendHPSettings(a),!0;case E.IS_HP_DARK_MODE_HANDLER:a({isHPDarkModeHandler:!0})}}}})(executionContext),(e=>{e.NSSS.init=((r,i,e,a,n)=>{var s={};let{logger:E,extensionAdapter:o,telemetryConstants:_,utils:{isNil:T,isntNil:S,isString:l,isBoolean:t}}=r,{constants:c,constants:{MULTIVARIATE_SDK_CONFIG:A},uiConstants:R,NSSSHelper:O,antiTrackerStatusProvider:I,globalSettings:u,ocodeMgr:d,telemetryTrackerClient:N,trackerLogger:g}=i;return s.supported_languages={pl:!0,sv:!0,he:!0,da:!0,no:!0,pt_br:!0,ja:!0,el:!0,it:!0,zh_tw:!0,cs:!0,ru:!0,ro:!0,zh_cn:!0,pt:!0,ar:!0,hu:!0,nl:!0,nb:!0,de:!0,ko:!0,fi:!0,fr:!0,es:!0,en:!0,tr:!0},s.initializeLocalizer=function(){return new Promise((a,n)=>{r.localizer.initialize(s.supported_languages,function(e,t){!0===e?a("localizer is ready"):n("localizer initialize failed: "+t)})})},s.getClientID=function(){let e="";return T(i.portalCguid)?e=i.globalSettings.getCGuid():(e=i.portalCguid.toLowerCase(),i.globalSettings.setCGuid(e)),e},s.initializeTrackingServerSDK=async()=>{if(T(n))return E.error("trackingServerSdk is not initialized "),!1;try{var e=await N.getSuperParams(),t=i.helperUtils.getApplicationSettings();await N.init(e,t),await g.init()}catch(e){return E.error("Failed to initialize telemetry. "+e),!1}return!0},s.initializeTelemetry=function(){return new Promise((t,a)=>{var e=r.telemetryConstants,e=(i.globalSettings,{APPLICATION_NAME:c.PRODUCT_NAME+"_"+r.extensionAdapter.getExtensionId(),APPLICATION_VERSION:c.VERSION,CLIENT_ID:s.getClientID(),DATA_SOURCE:e.dataSource.BROWSER_EXTENSION,TRACKING_ID:c.TELEMETRY_TRACKING_ID,USER_LANGUAGE:navigator.language,ANONYMIZE_IP:1,GOOGLE_ANALYTICS_PROTOCOL_VERSION:1,BROWSER_NAME:r.globals.BROWSER});try{r.telemetry.init(e,function(e){!0===e?t("Telemetry initialized"):a("Failed to initialize telemetry")})}catch(e){a("Failed to initialize telemetry. "+e)}})},s._handleTelemetryFF=()=>{var e=i.PrivacyPromptController.getTelemetryOptInStatus();t(e)?(r.telemetrySettings.setTelemetryEnabled(e),e&&i.init._sendInstallHBPing()):i.globalSettings.getPrivacyConsentAcceptClicked()&&!r.telemetrySettings.isTelemetryEnabled()||i.init._sendInstallHBPing()},s.initializeGlobalSettings=function(){return new Promise((t,a)=>{i.globalSettings.initialize(function(e){e?t("Global settings initialized"):a("Failed to initialize global settings")})})},s.initializeSessionSettings=function(){return new Promise((t,a)=>{i.sessionSettings.initialize(function(e){e?t("Session settings initialized"):a("Failed to initialize session settings")})})},s.initializeLinkGuard=async()=>{var e,t;i.NSSSHelper.isLinkGuardSupported()&&(t=await N.getSuperParams(),e=i.helperUtils.getApplicationSettings(),t={defaultIconURL:"content/images/"+i.constants.DEFAULT_INFO_ICON,filePaths:{cssPath:"content/ui",csPath:"content/scripts"},telemetryParams:{superParams:t,applicationSettings:e}},await a.linkGuardManager.initialize(t))},s._initializeWebProtectionPolicy=()=>new Promise((e,t)=>{try{S(i.webProtectionPolicy)&&i.webProtectionPolicy.initialize(),e("Web Protection Policy initialized")}catch(e){t("Error initializing Web Protection Policy: "+e.message)}}),s._initializeFormjackProtection=async()=>{if("Safari"!==r.globals.BROWSER&&!T(i.formjackProtectionManager))try{return await i.formjackProtectionManager.init({onDomainBlocked:function(e){i.webProtection.handleFormjackProtectionEvent(e)}})}catch(e){E.error("Error in _initializeFormjackProtection: "+e),g.logEvent(g.LOG_TYPE.ERROR,"Error in _initializeFormjackProtection: "+g.errorToString(e))}},s._initializeSafewebSDK=function(){e.manager.init({[e.Config.APP_CONFIG.APP_TYPE_KEY]:e.Config.APP_CONFIG.APP_TYPES.URLITE})},s._getHBConfigs=async function(){var e=new HeartbeatSDK.HBConfig;e.prodName=c.PRODUCT_NAME+"_"+r.extensionAdapter.getExtensionId(),e.prodVersion=c.VERSION,e.machineId=s.getClientID(),e.dataSource=c.HEARTBEAT_CONFIG.DATA_SOURCE,e.apiKey=c.TELEMETRY_TRACKING_ID,e.userLanguage=navigator.language,e.heartBeatIntervalInMilliSec=c.HEARTBEAT_CONFIG.HEARTBEAT_SDK_PING_INTERVAL;let t=i.globalSettings.getCustomChicklets();return t=t||[],e.eventSpecificParams={count:t.length},e.superParams=await N.getSuperParams(),e.getDynamicTelemetryParams=N.getDynamicTelemetryParams,e},s._initializeHeartBeatSDK=async function(){try{let a=await s._getHBConfigs();a.isInstallPingEnabled=!1,a.isFreshInstall=!1,a.isHeartBeatPingEnabled=!0,R.EXTENSION_TYPE===R.SAFEWEB_EXTENSION&&(a.heartBeatIntervalInMilliSec=c.HEARTBEAT_CONFIG.HEARTBEAT_SDK_PING_INTERVAL_48_HOURS),a.additionalHeartBeatPingParams={[r.telemetryConstants.parameters.CUSTOM_DIMENSION3]:()=>r.telemetrySettings.isTelemetryEnabled(),...R.EXTENSION_TYPE!==R.SAFEWEB_EXTENSION&&{[r.telemetryConstants.parameters.CUSTOM_DIMENSION4]:()=>c.VENDOR},...[R.HOMEPAGE_EXTENSION,R.DEFAULT_SEARCH_EXTENSION].includes(R.EXTENSION_TYPE)&&r.globals.BROWSER===r.constants.BROWSER_TYPE.CHROME,...i.privacyPromptSettings&&{[r.telemetryConstants.parameters.CUSTOM_DIMENSION13]:i.privacyPromptSettings.getPrivacyConsent},...S(i.globalSettings.getCustomChicklets())&&{[r.telemetryConstants.parameters.CUSTOM_DIMENSION14]:()=>i.globalSettings.getCustomChicklets().length},...R.EXTENSION_TYPE!==R.SAFEWEB_EXTENSION&&{[r.telemetryConstants.parameters.CUSTOM_DIMENSION15]:O.isVendorMigrationDone},[r.telemetryConstants.parameters.CUSTOM_DIMENSION19]:()=>O.saveAndgetExtensionInstallMonthAndYear(),...i.abTestingDataProvider&&{...i.abTestingDataProvider.getHeartBeatPingCustomDimesions()},...i.homePageFeaturesManager&&{...i.homePageFeaturesManager.getHeartBeatPingCustomDimesions()},...R.EXTENSION_TYPE===R.DEFAULT_SEARCH_EXTENSION&&{...i.helperUtils.getParamsForHeartbeat()},...i.helperUtils.isMediaDotNetExtension()&&{[r.telemetryConstants.parameters.CUSTOM_DIMENSION39]:()=>i.helperUtils.getThreeInOneUserType()},[r.telemetryConstants.parameters.CUSTOM_DIMENSION41]:()=>i.NSSSHelper.getLayoutType(),...i.externalCommunication&&{...i.externalCommunication.getHbPingDataForExternalExtensions()}},R.EXTENSION_TYPE!==R.SAFEWEB_EXTENSION&&(a.additionalHeartBeatPingParams[_.parameters.CUSTOM_DIMENSION25]=()=>i.NSSSHelper.getCampaignCodeForHbPing(),a.additionalHeartBeatPingParams[_.parameters.CUSTOM_DIMENSION23]=()=>i.NSSSHelper.getInstallSourceForHbPing(),a.additionalHeartBeatPingParams[_.parameters.CUSTOM_DIMENSION22]=()=>O.getWeekOfInstall(),a.additionalHeartBeatPingParams[_.parameters.CUSTOM_DIMENSION26]=()=>i.NSSSHelper.getTrackValue(),a.additionalHeartBeatPingParams[_.parameters.CUSTOM_DIMENSION34]=()=>i.NSSSHelper.getBrowserValue(),a.additionalHeartBeatPingParams[_.parameters.CUSTOM_DIMENSION37]=()=>i.globalSettings.getWebStoreUrl(),a.additionalHeartBeatPingParams[_.parameters.CUSTOM_DIMENSION38]=()=>i.NSSSHelper.getExtensionInstallType()),(i.helperUtils.isDS()||i.helperUtils.isHP()||i.helperUtils.isMediaDotNetExtension())&&(a.additionalHeartBeatPingParams[_.parameters.CUSTOM_DIMENSION35]=()=>i.helperUtils.getBrowserThemeForHbPing()),I&&I.getAntiTrackerTelemetryParamsMap().forEach((e,t)=>{a.additionalHeartBeatPingParams[t]=e}),HeartbeatSDK.hbManager.init(a)}catch(e){E.error("Heartbeat SDK Failed to intialize for heartbeat Ping",e)}},s._getProductCode=function(){return R.EXTENSION_TYPE},s.onABTestingRulesUpdated=async function(e){let t=s._getProductCode().toLowerCase(),a=null;var e=e.tests.find(e=>i.abTestingAppsRepo.abTestImpls[e.id]);(a=e&&e.variant&&e.variant.data&&0<e.variant.data.length&&(e=e.variant.data.find(e=>e.product.toLowerCase()===t&&e.oCode&&0<e.oCode.length))?{oCode:e.oCode}:a)?d.updateDefaultOCode(t,a.oCode,c.OCODE_PROVIDER.AB_TEST,!0):(e=c.ocodeMap[c.IAC][t],d.updateDefaultOCode(t,e,c.OCODE_PROVIDER.AB_TEST,!1))},s._getMultiVariateSDKConfig=async function(){var e=c.PRODUCT_NAME,t=await i.externalCommunication.getSafeSearchExtensionsInstalled();return{settingsStorage:i.globalSettings,rulesJsonCdnPath:A.CDN_URL,rulesRootCA:A.ROOT_CA,certInfo:c.CERT_INFO,schedulerInterval:A.SCHEDULER_INTERVAL,appName:e,productCode:R.EXTENSION_TYPE,subCategory:c.VENDOR,category:c.PRODUCT_NAME_CATEGORY_MAP[e],installDate:u.getInstallDate(),onRulesUpdated:s.onABTestingRulesUpdated,layout:i.NSSSHelper.getLayoutType().toUpperCase(),installedExtensions:t}},s._initializeMultiVariateTestingSDK=async function(){try{var e=await s._getMultiVariateSDKConfig();await multiVariateTestingSDK.multiVariateTestManager.init(e)}catch(e){E.error("Failed to initialize MultiVariate Testing SDK",e)}},s.sendInstallPing=async function(e,t){try{var a=await s._getHBConfigs();a.isInstallPingEnabled=!0,a.isFreshInstall=!0,a.isHeartBeatPingEnabled=!1,a.additionalInstallPingParams={...R.EXTENSION_TYPE!==R.SAFEWEB_EXTENSION&&l(c.VENDOR)&&0!==c.VENDOR.length&&{[r.telemetryConstants.parameters.CUSTOM_DIMENSION4]:()=>c.VENDOR},...R.EXTENSION_TYPE!==R.SAFEWEB_EXTENSION&&S(e)&&{[r.telemetryConstants.parameters.CUSTOM_DIMENSION7]:()=>e},...R.EXTENSION_TYPE!==R.SAFEWEB_EXTENSION&&S(t)&&{[r.telemetryConstants.parameters.CUSTOM_DIMENSION8]:()=>t},...i.abTestingDataProvider&&{...i.abTestingDataProvider.getInstallPingCustomDimesions()}},R.EXTENSION_TYPE!==R.SAFEWEB_EXTENSION&&(a.additionalInstallPingParams[_.parameters.CUSTOM_DIMENSION25]=()=>i.NSSSHelper.getCampaignCodeForHbPing(),a.additionalInstallPingParams[_.parameters.CUSTOM_DIMENSION23]=()=>i.NSSSHelper.getInstallSourceForHbPing(),a.additionalInstallPingParams[_.parameters.CUSTOM_DIMENSION22]=()=>O.getWeekOfInstall(),a.additionalInstallPingParams[_.parameters.CUSTOM_DIMENSION26]=()=>i.NSSSHelper.getTrackValue(),a.additionalInstallPingParams[_.parameters.CUSTOM_DIMENSION34]=()=>i.NSSSHelper.getBrowserValue(),a.additionalInstallPingParams[_.parameters.CUSTOM_DIMENSION37]=()=>i.globalSettings.getWebStoreUrl(),a.additionalInstallPingParams[_.parameters.CUSTOM_DIMENSION38]=()=>i.NSSSHelper.getExtensionInstallType()),i.helperUtils.isMediaDotNetExtension()&&(a.additionalInstallPingParams[_.parameters.CUSTOM_DIMENSION39]=()=>i.helperUtils.getThreeInOneUserType()),HeartbeatSDK.hbManager.init(a)}catch(e){E.error("Heartbeat SDK Failed to intialize for Install Ping",e)}},s.updateAntiTrackerStatus=function(){I&&I.updateAntiTrackerStatus()},s._readPortalParameters=function(){return new Promise((t,e)=>{var a;if(T(i.isFreshInstall)&&(a=i.globalSettings.getValue(i.constants.NSSS_INSTALLDATEKEY),i.isFreshInstall=T(a)),!i.isFreshInstall)return t(!1);r.extensionAdapter.getAllTabs(e=>{e=i.helperUtils.getPagesToFlavor(e);return 0<e.length&&e.forEach(e=>{var t;S(e)&&(e=e.url,t=(e=new URI(e)).query(!0),T(i.portalCguid)&&(i.portalCguid=t[i.constants.URL_PARAMS_KEY.CGUID]),e=e.protocol()+"://"+e.host()+e.path(),u.setInstallationPageURL(e),s._readAndStoreDefaultParamsFromLandingPage(t))}),t(!0)})})},s._readAndStoreDefaultParamsFromLandingPage=e=>{var t=e[c.URL_PARAMS_KEY.INSTALL_SOURCE];l(t)&&u.setInstallSource(t);let a=e[c.URL_PARAMS_KEY.CAMPAIGN_NAME];l(a)&&(a=a.toLowerCase()===c.ZDEFAULT_TRIGGER?c.NEWINST:a,u.setCampaignCode(a));var t=e[c.URL_PARAMS_KEY.TRACK],n=(i.NSSSHelper.isValidTrackValue(t)&&u.setTrackValue(t),e[c.URL_PARAMS_KEY.BROWSER]),t=(l(t)&&u.setBrowserValue(n),e[c.URL_PARAMS_KEY.DATE_OF_INSTALL]),n=(S(t)&&u.setInstallDate(t),e[c.URL_PARAMS_KEY.LAYOUT_TYPE]),t=(S(n)&&u.setLayoutType(n),e[c.URL_PARAMS_KEY.PARTNERID]),n=(S(t)&&u.setPartnerId(t),e[c.URL_PARAMS_KEY.PARTNER_UNIT_ID]);S(n)&&u.setPUID(n)},s._initializePrivacyConsentFlow=async function(){if(T(i.PrivacyPromptController))return Promise.resolve();await i.PrivacyPromptController.userPrivacyConsent()},s._checkForLandingPageAndResolve=async function(){await new Promise(t=>{o.getAllTabs(async e=>{e=e.filter(e=>O.isLandingPageURL(e.url));if(0===e.length)return t();i.enableAllFlow.sendEnableAllFlowCommListenerAddedMsgToTab(e),await i.enableAllFlow.handleEnableAllFlow(),t()})})},s._initEnableAllFlowStatus=async function(){return T(i.enableAllFlow)||(await i.privacyPromptSettings.initialize(),i.privacyPromptSettings.getPrivacyConsent())?Promise.resolve():void await s._checkForLandingPageAndResolve()},s._initPrivacyPromptSettings=async function(){if(T(i.privacyPromptSettings))return Promise.resolve();await i.privacyPromptSettings.initializeSettingsContainer()},s._sendInstallHBPing=async()=>{await s.sendInstallPing(),await s._initializeHeartBeatSDK()},s._initializeDynamicQuicksLinksData=()=>{i.quickLinksProvider&&R.EXTENSION_TYPE!==R.SAFEWEB_EXTENSION&&r.globals.BROWSER!==r.constants.BROWSER_TYPE.FIREFOX&&i.quickLinksProvider.initializeDynamicQuickLinksData()},s._shouldHandleTelemetryForFF=()=>"Firefox"===r.globals.BROWSER&&R.EXTENSION_TYPE!==R.SAFEWEB_EXTENSION,s.initializeActiveUserSearch=()=>{i.activeUserSearch&&i.activeUserSearch.sendActiveUserSearchPing()},s.ready=function(){return S(s.readyPromise)||(s.readyPromise=(async()=>{try{r.extensionAdapter.init(),s._initializeSafewebSDK(),await Promise.all([s.initializeGlobalSettings(),s.initializeSessionSettings(),s.initializeLocalizer()]),await r.darkModeHandler.initialize(),await s._readPortalParameters(),await s.initializeTrackingServerSDK(),await s._initPrivacyPromptSettings(),await s._initEnableAllFlowStatus(),await s._initializeMultiVariateTestingSDK(),await s._initializePrivacyConsentFlow(),await s._initializeWebProtectionPolicy(),i.customDarkModeManager&&await i.customDarkModeManager.initialize();r.localizer.getLocale();return await s.initializeTelemetry(),s._shouldHandleTelemetryForFF()&&i.init._handleTelemetryFF(),s._shouldHandleTelemetryForFF()||await s._sendInstallHBPing(),await Promise.all([r.notificationSettings.intializeNotificationSettings(),s._initializeFormjackProtection(),s.initializeLinkGuard()]),s.initializeActiveUserSearch(),i.uiConstants.EXTENSION_TYPE===R.THREE_IN_ONE&&i.twitterFeeds&&i.twitterFeeds.initializeTwitterFeeds(),"swds"!==i.constants.TWO_IN_ONE_EXTENSIONS&&i.locationServiceManager&&i.locationServiceManager.fetchAndSetLocationDataInit(),i.nsssDarkModeHandlerBG&&i.nsssDarkModeHandlerBG.initialize(),Promise.resolve("NSSS is ready")}catch(e){return Promise.reject("NSSS initialize failed: "+e)}})()),s.readyPromise},s})(e.SymBfw,e.NSSS,e.SafeWeb,e.LinkGuardSDK,e.trackingServerSDK)})(executionContext),(e=>{(e.NSSS=e.NSSS||{}).settingsManager=((_,r,i)=>{let{constants:T,uiConstants:n,uiConstants:{THEMES:{DARK_THEME:s,LIGHT_THEME:E,BROWSER_THEME:e}},helperUtils:o,globalSettings:S,telemetryTrackerClient:l,telemetryWrapper:c}=r;var A={};_.logger;let R=_.utils.isntNil,O=_.utils.isNil,t=_.utils.isBoolean,I=_.localizer,u=_.extensionAdapter,d=n.MESSAGES,N=n.SETTINGS_UI.strings,g=n.BROWSER_NOTIFICATION.strings,C=_.telemetrySettings;return A._postSignOut=function(e){var t=I.getLocalizedStrings(g);let a=null;a=e?t["You have successfully logged out of your NortonLifeLock Account"]:t["Sorry, something went wrong. Please try again."];e=new _.TimedNotification(a,n.BROWSER_NOTIFICATION_IMAGE);_.notificationCenter.addNotification(e)},A._setTelemetryStatus=async e=>{t(e)&&(await r.init.ready(),C.setTelemetryEnabled(e),R(r._telemetryNotificationID))&&e&&(_.notificationCenter.removeNotification(r._telemetryNotificationID),r._telemetryNotificationID=null)},A._openPrivacyPolicypage=async()=>{await r.init.ready(),u.createTab(T.GEN_PRIVACY_URL)},A._sendSettingsPagedata=async e=>{await r.init.ready();var t={},a=(t.showHomepageTourButton=o.isHomePageTourSupported(),t.direction=I.getCurrentLanguageDirection(),t.strings=I.getLocalizedStrings(N),t.isTelemetryEnabled=C.isTelemetryEnabled(),r.NSSSHelper.isLinkGuardSupported());a&&(t.isLinkGuardEnabled=r.NSSSHelper.getLinkGuardEnabled(),t.isLinkGuardSupported=a),e(t)},A._handleStartHomePageTourClick=async()=>{await r.init.ready(),r.homePage.didUserTriggerHomePageTour=!0,r.telemetryWrapper.sendTourTriggeredByUserEvent(),l.sendTourTriggeredByUserEvent(),u.createTab(u.getExtensionURL(r.constants.HOME_PAGE))},A._resetSettingsAndSendData=async function(e){await r.init.ready(),S.setDefaultDarkModeTheme(n.THEMES.BROWSER_THEME),A.resetDefaultsSettings(),l.sendRestoreToDefaultTelemetryEvent(),r.homePageFeaturesManager.handleRestoreToDefaultClick(),c.sendRestoreToDefaultTelemetry(),e(await A.getHomePageSettings())},A._saveSettingsAndSendData=async function(e,t){await r.init.ready(),A.saveHpSettings(e),t(await A.getHomePageSettings())},A._getHomePageSettingsAndSendData=async function(e){await r.init.ready(),e(await A.getHomePageSettings())},A._handleLinkGuardToggle=async function(e){await r.init.ready(),LinkGuardSDK.linkGuardManager.setLinkGuardEnabled(e)},A.handleMessage=function(e,t,a){var n=e.message;switch(e.name){case d.SET_TELEMETRY_ENABLED:A._setTelemetryStatus(n);break;case d.SETTINGS_PRIVACY_POLICY:A._openPrivacyPolicypage();break;case d.UPDATE_FG_LINK_GUARD:return A._handleLinkGuardToggle(n),!0;case d.SETTINGS_PAGE_UI_INIT:return A._sendSettingsPagedata(t),!0;case d.SIGN_OUT:if(R(i)&&R(i.session))return i.session.logout(e=>{t({isLogoutSuccess:e}),A._postSignOut(e)}),!0;break;case d.START_HOME_PAGE_TOUR:A._handleStartHomePageTourClick();break;case d.RESET_HP_DEFAULT_SETTINGS:return A._resetSettingsAndSendData(t),!0;case d.GET_HP_DEFAULT_SETTINGS:return A._getHomePageSettingsAndSendData(t),!0;case d.SAVE_HP_SETTINGS:return A._saveSettingsAndSendData(n,t),!0;case d.NEW_TAB_SEARCH_TOGGLED:l.sendSettingsToggleTelemetry(T.NEW_TAB_SETTING,n.newTabSearchEnabled),c.sendSettingsToggleTelemetry(T.NEW_TAB_SETTING,n.newTabSearchEnabled)}},A.getHomePageSettings=async function(){null===S.getNewTabForSearchResultsEnabled()&&A.resetDefaultsSettings();var e=await r.nsssDarkModeHandlerBG.isDarkModeSet();return{newTabChecked:S.getNewTabForSearchResultsEnabled(),showMostVisitedSites:S.getMostVisitedSitesEnabled(),showWeatherWidget:S.getWeatherWidgetEnabled(),showTimeWidget:S.getTimerWidgetEnabled(),backgroundImageData:S.getBackgroundImageSetting(),isCustomDarkMode:e,showBookmark:S.getBookmarksToolbarEnabled(),isTelemetryEnabled:C.isTelemetryEnabled()}},A._notifyNewTabSettingChange=function(){r.nsssNewTabSettingChangeHandler.onNewTabSettingChange()},A.saveHpSettings=function(e){S.getNewTabForSearchResultsEnabled()!==e.newTabChecked&&(S.setNewTabForSearchResultsEnabled(e.newTabChecked),A._notifyNewTabSettingChange()),S.setMostVisitedSitesEnabled(e.showMostVisitedSites),S.setWeatherWidgetEnabled(e.showWeatherWidget),S.setTimerWidgetEnabled(e.showTimeWidget),S.setBookmarksToolbarEnabled(e.showBookmark);var t=e.isCustomDarkMode?s:E,a=r.customDarkModeManager.getCustomDarkModeTheme();null!==a&&a.customDarkModeTheme===t||(r.customDarkModeManager.setCustomDarkModeTheme(t),e.customThemeToggle&&(c.sendCustomThemeToggleTelemetry(t),l.sendCustomThemeToggleTelemetry(t)))},A.resetDefaultsSettings=function(){S.setNewTabForSearchResultsEnabled(!0),A._notifyNewTabSettingChange(),S.setMostVisitedSitesEnabled(!1),S.setWeatherWidgetEnabled(!0),S.setTimerWidgetEnabled(!0),S.setBackgroundImageSetting({isEnabled:!1}),r.customDarkModeManager.setCustomDarkModeTheme(e),S.setBookmarksToolbarEnabled(!1)},A.openSiteDirector=function(e,t=T.DEFAULT_ORIGIN_VALUE,a=!1,n=!1,r=T.DEST_PARAM_PRIVACY){let i=T.SITE_DIRECTOR_URL;var s=_.localizer.getNavigatorLanguage().split("-"),E=s[0];let o=s[1];O(o)&&(o=T.DEFAULT_COUNTRY);var s=T.ISO2_ISO3_COUNTRY[o.toUpperCase()],E=T.ISO2_ISO3_LANGUAGE[E.toUpperCase()];i=(i=(i=(i=(i=i.replace("ISO3_COUNTRY_CODE",s)).replace("ISO3_LAN_CODE",E)).replace("SSDCAT_VALUE",e)).replace("ORIGIN",t)).replace("DESTINATION",r),a&&(s=A.getAdditionalParams(),i+=s),n&&(i+=n),u.createTab(i)},A.getAdditionalParams=()=>{var e=r.globalSettings.getPartnerId(),t=r.globalSettings.getPUID(),a=r.globalSettings.getLayoutType();let n=T.SITE_DIRECTOR_ADDITIONAL_PARAM;return n=O(e)||O(t)||O(a)?T.ISPID:(n=(n=n.replace("LAYOUT_TYPE",a)).replace("PARTNERID",e)).replace("PUID",t)},u.addMessageListener(A.handleMessage),A})(e.SymBfw,e.NSSS,e.SymO2)})(executionContext),(e=>{let{extensionAdapter:t,logger:a,utils:n}=SymBfw,{constants:s,globalSettings:E,uiConstants:o,URLSearchParams:_,trackerLogger:r}=NSSS;(e.NSSS=e.NSSS||{}).uninstallSurveyHelper=new class{_isUninstallSurveySupported(){var e;return o.EXTENSION_TYPE!==o.SAFEWEB_EXTENSION&&(e=E.getLayoutType(),!(n.isntNil(e)&&!s.UNINSTALL_SURVEY_SUPPORTED_LAYOUTS.includes(e.toUpperCase())))}_constructSurveyURL(){var e=new _,t=s.UNINSTALL_SURVEY_URL,a=E.getCGuid(),n=E.getInstallDate(),r=E.getVersion();let i;return i=o.EXTENSION_TYPE===o.HOMEPAGE_EXTENSION?"Nortonhomepageuninstall":o.EXTENSION_TYPE===o.DEFAULT_SEARCH_EXTENSION?"Nortonsafesearchuninstall":"Nortonsecuresearch",e.append(s.UNINSTALL_SURVEY_PARAMS.MID,a),e.append(s.UNINSTALL_SURVEY_PARAMS.SOURCE,i),e.append(s.UNINSTALL_SURVEY_PARAMS.VERSION,r),e.append(s.UNINSTALL_SURVEY_PARAMS.DOI,n),e.append(s.UNINSTALL_SURVEY_PARAMS.LANGUAGE,navigator.language.substring(0,2)),t+="&"+e.toString()}async initializeUninstallSurveyURL(){let e="";this._isUninstallSurveySupported()&&(e=this._constructSurveyURL());try{await t.setUninstallURL(e)}catch(e){a.error(e),r.logEvent(r.LOG_TYPE.ERROR,""+r.errorToString(e))}}}})(executionContext),(e=>{let{extensionAdapter:t,utils:{isArray:r,isString:a,isObject:i}}=SymBfw,{constants:s,NSSSHelper:n,uiConstants:E,uiConstants:{MESSAGES:o}}=NSSS;(e.NSSS=e.NSSS||{}).externalCommunication=new class{async getExternalExtensionsData(e){var t,a,n;if(r(e)&&0!==e.length)return t=e.map(e=>this.checkExternalExtensionExists(e)),(a=(t=await Promise.allSettled(t)).find(e=>e.status===s.FULFILLED))?(n=t.findIndex(e=>e.status===s.FULFILLED),a&&(a.status||a.doi)?this.getExtensionName(e[n]):void 0):t.find(e=>e.reason===s.TIMED_OUT)?s.UNKNOWN:s.FREE}getHbPingDataForExternalExtensions(){var t,a={};for(t of s.OTHER_EXTENSION_DETAILS[E.EXTENSION_TYPE]){let e=s.EXTERNAL_EXTENSION_COMMUNICATION_DETAILS[t].extensions;a[s.EXTERNAL_EXTENSION_COMMUNICATION_DETAILS[t].custom_dimension]=()=>this.getExternalExtensionsData(e)}return a}async getSafeSearchExtensionsInstalled(){var e=this.getHbPingDataForExternalExtensions();if(i(e)){var t,a=[];for(t of Object.entries(e)){var n=await e[t[0]]();n===s.FREE||s.REPETITIVE_EXTENSIONS.includes(n)||a.push(n.toLowerCase())}return a}}async isExtensionsInstalled(e){if(!r(e))return!1;let t=await this.getSafeSearchExtensionsInstalled();return!(!r(t)||0===t.length)&&e.every(e=>t.includes(e))}getExtensionName(t){return Object.entries(s.EXTENSION_ID_NAME_MAP).find(e=>e[1].includes(t))[0]}checkExternalExtensionExists(e){if(!a(e))return Promise.reject("Invalid extension id");let t=o.EXTENSION_EXISTENCE_CHECK;return s.REPETITIVE_EXTENSION_IDS.includes(e)&&(t=s.GET_INSTALL_DATE),n.sendMessageToExternalExtension(e,{name:t})}handleExternalMessage(e,t,a){t=t.id;s.NORTON_EXTENSION_IDS.includes(t)&&e.name===o.EXTENSION_EXISTENCE_CHECK&&a({status:!0})}},t.addMessageExternalListener(NSSS.externalCommunication.handleExternalMessage)})(executionContext),(e=>{let{utils:{isntNil:t,isNil:a},cdnFileDownloader:n,logger:r}=e.SymBfw,{constants:i,globalSettings:s,trackerLogger:E}=e.NSSS;(e.NSSS=e.NSSS||{}).twitterFeeds=new class{async fetchAndSaveTwitterFeeds(){try{var e;this._isTimeElapsedToFetchTweetsJsonFromCDN()&&(e=await n.getPayloadFromCdnFile(i.TWITTER_FEEDS_CDN_URL,i.twitterFeedsJsonRootCA,i.CERT_INFO),t(e))&&3===e.length&&s.setTwitterFeedsData(e)}catch(e){r.error("Fetching twitter feeds from CDN failed.",e),E.logEvent(E.LOG_TYPE.ERROR,"Fetching twitter feeds from CDN failed."+E.errorToString(e))}}async initializeTwitterFeeds(){var e=await SymBfw.extensionAdapter.getAlarm(i.ALARM_NAMES.TWITTER_FEEDS);t(e)||(await this.fetchAndSaveTwitterFeeds(),await this._createAlarmForTwitterFeed())}async _createAlarmForTwitterFeed(){var e={periodInMinutes:i.TWITTER_FEEDS_PERIOD_IN_MINUTES};SymBfw.extensionAdapter.createAlarm(i.ALARM_NAMES.TWITTER_FEEDS,e)}_isTimeElapsedToFetchTweetsJsonFromCDN(){var e=s.getTweetsLastFetchedTimestamp();return!!a(e)||Date.now()-e>=i.TWITTER_FEEDS_CDN_FETCH_DELAY}}})(executionContext),(()=>{let{uiConstants:t,constants:a}=NSSS;class n{static get SUPPORTED_DOMAINS(){return{YAHOO_DOMAIN:/\.?search\.yahoo\.com?\.?/,IAC_DOMAIN:/nortonsafe\.search\.ask\.com/,GOOGLE_DOMAIN:/\.google\./,BING_DOMAIN:/bing\.com/}}static get IAC_NORTON_SERP_PARAMS(){return{[a.URL_PARAMS_KEY.OCODE]:["*"]}}static get YAHOO_NORTON_SERP_PARAMS(){var e=a.yahooVendorConstants;return{[e.HSPART]:[e.HSPART_VALUE],[e.HSIMP]:[e.HSIMP_VALUE,e.HSIMP_VALUE_THREE_IN_ONE,e.HSIMP_VALUE_EDGE_CHROMIUM,e.HSIMP_VALUE_CHROME_TEST_ELIGIBLE]}}static get SUPPORTED_DOMAIN_DETAILS(){return{IAC_NORTON_SERP:{domain:this.SUPPORTED_DOMAINS.IAC_DOMAIN,params:this.IAC_NORTON_SERP_PARAMS},YAHOO_NORTON_SERP:{domain:this.SUPPORTED_DOMAINS.YAHOO_DOMAIN,params:this.YAHOO_NORTON_SERP_PARAMS},GOOGLE_SERP:{domain:this.SUPPORTED_DOMAINS.GOOGLE_DOMAIN},YAHOO_SERP:{domain:this.SUPPORTED_DOMAINS.YAHOO_DOMAIN},BING_SERP:{domain:this.SUPPORTED_DOMAINS.BING_DOMAIN}}}static get VENDOR_TO_SUPPORTED_DOMAINS_MAP(){return{[a.IAC]:this.SUPPORTED_DOMAIN_DETAILS.IAC_NORTON_SERP,[a.YAHOO]:this.SUPPORTED_DOMAIN_DETAILS.YAHOO_NORTON_SERP}}}NSSS.annotationManager=new class{constructor(){this.loadEventHandler=this.loadEventHandler.bind(this)}_getSafeWebSupportedDomains(){var e=SymBfw.utils.getOSType();return SymBfw.globals.BROWSER===SymBfw.constants.BROWSER_TYPE.CHROME&&e===SymBfw.constants.os.WINDOWS?[n.SUPPORTED_DOMAIN_DETAILS.IAC_NORTON_SERP,n.SUPPORTED_DOMAIN_DETAILS.YAHOO_SERP,n.SUPPORTED_DOMAIN_DETAILS.GOOGLE_SERP,n.SUPPORTED_DOMAIN_DETAILS.BING_SERP]:[n.SUPPORTED_DOMAIN_DETAILS.IAC_NORTON_SERP,n.SUPPORTED_DOMAIN_DETAILS.YAHOO_NORTON_SERP]}_getSupportedDomains(){return[n.VENDOR_TO_SUPPORTED_DOMAINS_MAP[a.VENDOR]]}_getAnnotationConfigs(){let e;return{domains:{supportedDomains:e=t.EXTENSION_TYPE===t.SAFEWEB_EXTENSION?this._getSafeWebSupportedDomains():this._getSupportedDomains()},safeWebInitPromise:NSSS.init.ready()}}async loadEventHandler(){var e=this._getAnnotationConfigs();await(new annotationSDK.AnnotationBG).init(e),await NSSS.init.ready(),t.EXTENSION_TYPE!==t.SAFEWEB_EXTENSION&&await NSSS.helperUtils.isVendorInitialized()}},NSSS.AnnotationSupportedDomains=n,NSSS.annotationManager.loadEventHandler()})(executionContext),NSSS.activeUserSearchConstants=class{static get TELEMETRY_INTERVAL_IN_MINS(){return 1440}static get ACTIVE_USER_SEARCH_PING_DELAY_IN_MILLISECS(){return 864e5}static get RETRY_INTERVAL_IN_MINS(){return 30}static get SEARCH_COUNT_EVENT_NAME(){return"active_search_user"}},(e=>{let{alarmHelper:t,logger:a,scheduledEventsManager:n,utils:{isNil:r}}=SymBfw,{activeUserSearchConstants:i,globalSettings:s,telemetryWrapper:E,trackerLogger:o,telemetryTrackerClient:_}=NSSS;(e.NSSS=e.NSSS||{}).activeUserSearch=new class{shouldSendActivePing(e){return Date.now()-e>=i.ACTIVE_USER_SEARCH_PING_DELAY_IN_MILLISECS}async sendActiveUserSearchPing(){var e=await t.doesAlarmExist(n.getAlarmName(i.SEARCH_COUNT_EVENT_NAME));if(!e){e=s.getActiveUserSearchLastSentTimestamp();if(this.shouldSendActivePing(e)){try{await this._sendActiveUserSearchPing()}catch(e){a.debug(e),o.logger.debug(e)}n.createScheduledEvent(i.SEARCH_COUNT_EVENT_NAME)}}}async _sendActiveUserSearchPing(){await NSSS.init.ready();var e=s.getSearchCount();if(r(e)||0===e)a.debug("Search count is zero, not sending telemetry"),o.logger.debug("Search count is zero, not sending telemetry");else{await E.sendActiveSearchEvent(e.toString());if(!await _.sendActiveSearchEvent(e))throw new Error("Error in sending active search user ping");s.setActiveUserSearchLastSentTimestamp(Date.now()),s.setSearchCount(0)}}incrementSearchCount(){let e=s.getSearchCount();r(e)&&(e=0),e+=1,s.setSearchCount(e)}initializeSchedulerEvent(){var e={schedulerIntervalInMins:i.TELEMETRY_INTERVAL_IN_MINS,eventName:i.SEARCH_COUNT_EVENT_NAME,callback:this._sendActiveUserSearchPing,retryIntervalInMins:i.RETRY_INTERVAL_IN_MINS};n.init(e)}},NSSS.activeUserSearch.initializeSchedulerEvent()})(executionContext),(e=>{let{utils:{isntNil:r,isNil:n},extensionAdapter:t,logger:i}=SymBfw,{constants:s,NSSSHelper:E,globalSettings:a,trackerLogger:o,uiConstants:{MESSAGES:_}}=NSSS;s.VENDOR_DETECTION_SOURCE={LANDING_PAGE:"landingPage",CHROME_STORE_PAGE:"chromeWebStore",GEO_LOCATION:"geoLocation",BROWSER_LOCALE:"browserLocale",EXTENSION_COMMUNICATION:"extensionCommunication",EXTENSION_COMMUNICATION_OTHERS:"extensionCommunication_Others"},(e.NSSS=e.NSSS||{}).vendorSetup=new class{constructor(){t.addMessageListener(this._handleMessage),this.vendorPromise=new Promise(e=>{this.vendorPromiseResolve=e})}async _determineVendor(){return{vendorOffered:s.IAC}}_setVendor(e){a.setVendor(e)}_setVendorDetectionSource(e){this.vendorDetectionSource=e}getVendorDetectionSource(){return NSSS.vendorSetup.vendorDetectionSource}_setVendorSetFlow(e){this.vendorSetFlow=e}getVendorSetFlow(){return NSSS.vendorSetup.vendorSetFlow}_setMigrationUrl(e){this.migrationUrl=e}getMigrationUrl(){return NSSS.vendorSetup.migrationUrl}async _setVendorInfo(e){var t,a,n;"update"===e?this._setVendorOnUpdate():({vendorOffered:t,vendorSource:a,migrationUrl:n}=await this._determineVendor(),E.isValidVendor(t)&&(this._setVendor(t),NSSS.telemetryWrapper.sendVendorSetFlow(e)),r(a)&&this._setVendorDetectionSource(a),"install"===e&&r(n)&&this._setMigrationUrl(n),r(e)&&this._setVendorSetFlow(e))}_setVendorOnUpdate(){var e=a.getVendor();NSSS.NSSSHelper.isValidVendor(e)||(a.setVendor(NSSS.constants.IAC),NSSS.telemetryWrapper.sendVendorMigrationPing())}_handleMessage(e,t,a){if(n(e))i.error("Request cannot be null"),o.logEvent(o.LOG_TYPE.ERROR,"Request cannot be null");else{e=e.name;if(e===_.GET_VENDOR){if(!NSSS.NSSSHelper.isValidVendor(s.VENDOR)){let e=setInterval(()=>{NSSS.NSSSHelper.isValidVendor(s.VENDOR)&&(clearInterval(e),t({vendor:s.VENDOR}))},2e3);return!0}t({vendor:s.VENDOR})}}}}})(executionContext),(e=>{var{SymBfw:t,NSSS:a}=e;let n=t.constants,{constants:r,constants:{URL_PARAMS_KEY:i},uiConstants:s}=a;(e.NSSS=e.NSSS||{}).migratorConstants=new class{constructor(){this.HP_LEGACY_V1_ID="ejbdobdndcjhdmljipngpeoekdinlohe",this.DS_LEGACY_V1_ID="nmgcfemagnogdodbambjhdcmfcpicngl",this.HP_LEGACY_V2_ID="gfoabcdjalmeenbjjngidappmppchblc",this.DS_LEGACY_V2_ID="hbmobhkkblcgdifigjglcjneplefbkmh",this.DS_GENERIC_ID="mpnlkmlkncncpgnnkmkgoobfpnjmblnk",this.HP_GENERIC_ID="mhffmephdchhhbfjmdpoaldedhhdanbn",this.DS_REPETITIVE_ID="eogpedgkejfmehnklhahflpmplhiceal",this.HP_REPETITIVE_ID="embphknneakipabfiipdgklmpllaibmh"}get MESSAGE_GUIDS(){return{GET_VENDOR:"ca7193c3-437c-400a-91d2-e8c501bb116f",GET_ALL_PARAMETERS:"121de938-6a4a-4e4c-97fb-c8305ef7bcd3",UNINSTALL_REPETITIVE_EXTENSION:"85e27234-8f6f-4de8-9477-0e02297fe7fa"}}get MIGRATION_PAGE_LAUNCHED_TIME(){return"migrationPageLaunchedTime"}get REPETITIVE_EXTENSION_IDS(){return{[n.BROWSER_TYPE.CHROME]:{[s.HOMEPAGE_EXTENSION]:"embphknneakipabfiipdgklmpllaibmh",[s.DEFAULT_SEARCH_EXTENSION]:"eogpedgkejfmehnklhahflpmplhiceal",[s.THREE_IN_ONE]:"gkjahlcnbjiangkneanonnndppicobbd"}}}get OTHER_EXTENSION_IDS(){return{[n.BROWSER_TYPE.CHROME]:{ds:[this.HP_GENERIC_ID,this.HP_REPETITIVE_ID,this.HP_LEGACY_V2_ID,this.DS_LEGACY_V2_ID,this.HP_LEGACY_V1_ID,this.DS_LEGACY_V1_ID],hp:[this.DS_GENERIC_ID,this.DS_REPETITIVE_ID,this.HP_LEGACY_V2_ID,this.DS_LEGACY_V2_ID,this.HP_LEGACY_V1_ID,this.DS_LEGACY_V1_ID]}}}get LEGACY_EXTENSION_IDS(){return{[n.BROWSER_TYPE.CHROME]:{[s.HOMEPAGE_EXTENSION]:[this.HP_LEGACY_V2_ID,this.HP_LEGACY_V1_ID],[s.DEFAULT_SEARCH_EXTENSION]:[this.DS_LEGACY_V2_ID,this.DS_LEGACY_V1_ID]}}}get MIGRATION_PAGE_URL(){return"https://search.norton.com/migration?"}get MIGRATION_PAGE_LAUNCH_INTERVAL(){return 1728e5}get MIGRATION_POLL_TIME(){return 36e5}get GLOBAL_SETTINGS_KEY_TO_URL_PARAMS_KEY_MAP(){return{[r.PARTNERIDKEY]:i.PARTNERID,[r.NSSS_INSTALLDATEKEY]:i.DATE_OF_INSTALL,[i.DATE_OF_ASSOCIATION]:i.DATE_OF_ASSOCIATION,[i.PARTNER_UNIT_ID]:i.PARTNER_UNIT_ID,[i.PRODUCT_NAME]:i.PRODUCT_NAME,[i.VERSION]:i.VERSION,[i.LAYOUT_TYPE]:i.LAYOUT_TYPE,[i.TRACK_ID]:i.TRACK_ID}}}})(executionContext),(e=>{let{extensionAdapter:r,logger:n,utils:{isNil:i,isEmptyObject:t}}=SymBfw,{migratorConstants:s,uiConstants:a,trackerLogger:E}=NSSS;(e.NSSS=e.NSSS||{}).migratorDestination=new class{constructor(){this.repetitiveExtensionId=s.REPETITIVE_EXTENSION_IDS[SymBfw.globals.BROWSER][a.EXTENSION_TYPE],this.otherExtensionsIds=s.OTHER_EXTENSION_IDS[SymBfw.globals.BROWSER][a.EXTENSION_TYPE],this.legacyExtensionIds=s.LEGACY_EXTENSION_IDS[SymBfw.globals.BROWSER][a.EXTENSION_TYPE]}_sendMessageToExternalExtension(e,n){return new Promise((t,a)=>{if(i(e)||i(n))return a("extensionId or message should not be null");r.sendMessageExternal(e,n,e=>{if(r.getLastError()||i(e))return a("Extension is not available or result is null");t(e)}),setTimeout(()=>{a("SendMessageExternalExtension timed out")},1e3)})}async getVendorFromRepetiveExtension(){if(i(this.repetitiveExtensionId))return null;try{return this.getVendorFromExtensionIds([this.repetitiveExtensionId])}catch(e){return n.debug(e),E.logger.debug(""+E.errorToString(e)),null}}async getVendorFromOtherExtensions(){if(t(this.otherExtensionsIds))return null;try{return this.getVendorFromExtensionIds(this.otherExtensionsIds)}catch(e){return n.debug(e),E.logger.debug(""+E.errorToString(e)),null}}async getVendorFromExtensionIds(e){try{var t=e.map(e=>this._sendMessageToExternalExtension(e,{name:s.MESSAGE_GUIDS.GET_VENDOR})),a=(await Promise.allSettled(t)).find(e=>"fulfilled"===e.status);return i(a)||i(a.value)||!NSSS.NSSSHelper.isValidVendor(a.value.vendor)?null:a.value.vendor}catch(e){return n.debug(e),E.logger.debug(""+E.errorToString(e)),null}}async getAllParamsFromRepetitiveExtension(){try{var e=(await this._sendMessageToExternalExtension(this.repetitiveExtensionId,{name:s.MESSAGE_GUIDS.GET_ALL_PARAMETERS})).params;return e}catch(e){return n.debug(e),E.logger.debug(""+E.errorToString(e)),null}}async getAllParamsFromLegacyExtension(){try{var e=this.legacyExtensionIds.map(e=>this._sendMessageToExternalExtension(e,{name:s.MESSAGE_GUIDS.GET_ALL_PARAMETERS})),t=(await Promise.allSettled(e)).find(e=>"fulfilled"===e.status);return i(t)||i(t.value)||i(t.value.params)?null:t.value.params}catch(e){return n.debug(e),E.logger.debug(""+E.errorToString(e)),null}}async uninstallRepetitiveExtension(){try{return await this._sendMessageToExternalExtension(this.repetitiveExtensionId,{name:s.MESSAGE_GUIDS.UNINSTALL_REPETITIVE_EXTENSION}),!0}catch(e){return n.debug(e),E.logger.debug(""+E.errorToString(e)),!1}}async uninstallLegacyExtension(){try{var e=this.legacyExtensionIds.map(e=>this._sendMessageToExternalExtension(e,{name:s.MESSAGE_GUIDS.UNINSTALL_REPETITIVE_EXTENSION}));return(await Promise.allSettled(e)).some(e=>"fulfilled"===e.status)}catch(e){return n.debug(e),E.logger.debug(""+E.errorToString(e)),!1}}async uninstallExtensions(){this.uninstallLegacyExtension(),this.uninstallRepetitiveExtension()}handleExternalMessage(e,t,a){t=t.id;NSSS.constants.NORTON_EXTENSION_IDS.includes(t)&&e.name===s.MESSAGE_GUIDS.GET_VENDOR&&a({vendor:NSSS.constants.VENDOR})}},r.addMessageExternalListener(NSSS.migratorDestination.handleExternalMessage)})(executionContext);