!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("React"),require("ReactDOM")):"function"==typeof define&&define.amd?define(["React","ReactDOM"],e):"object"==typeof exports?exports.annotationSDK=e(require("React"),require("ReactDOM")):t.annotationSDK=e(t.React,t.ReactDOM)}(this,((t,e)=>(()=>{var o={285:t=>{t.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+Cjxzdmcgd2lkdGg9IjE2cHgiIGhlaWdodD0iMTZweCIgdmlld0JveD0iMCAwIDE2IDE2IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPgogICAgPCEtLSBHZW5lcmF0b3I6IHNrZXRjaHRvb2wgNDAuMyAoMzM4MzkpIC0gaHR0cDovL3d3dy5ib2hlbWlhbmNvZGluZy5jb20vc2tldGNoIC0tPgogICAgPHRpdGxlPjgyRTAzN0UwLUQxNjctNDZCQS04NjNFLUZGRDVDNEJENEExQjwvdGl0bGU+CiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggc2tldGNodG9vbC48L2Rlc2M+CiAgICA8ZGVmcz48L2RlZnM+CiAgICA8ZyBpZD0iLUJhc2UtRWxlbWVudHMiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSJBc3NldHMiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0yOS4wMDAwMDAsIC0xNjEuMDAwMDAwKSIgZmlsbD0iIzMzOTkzMyI+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik0zOS4yMzI4NCwxNjkuMTM0MTQ4IEwzOC4wOTMzODg2LDE3MC4yNzM2IEwzNi4wMDAzNTM2LDE3Mi4zNjY2MzUgTDM1Ljk5MjI3MjMsMTcyLjM1ODE0OSBMMzUuOTgzNzg3MSwxNzIuMzY2NjM1IEwzNC44NDQzMzU2LDE3MS4yMjcxODMgTDMyLjc1MTMwMDYsMTY5LjEzNDE0OCBMMzMuODkwNzUyMSwxNjcuOTk0Njk3IEwzNS45ODM3ODcxLDE3MC4wODc3MzIgTDM1Ljk5MjI3MjMsMTcwLjA5NTgxMyBMMzYuOTUzOTM3MSwxNjkuMTM0MTQ4IEwzOC4wOTMzODg2LDE2Ny45OTQ2OTcgTDQwLjE4NjQyMzYsMTY1LjkwMTY2MiBMNDEuMzI1ODc1LDE2Ny4wNDExMTMgTDM5LjIzMjg0LDE2OS4xMzQxNDggWiBNMzcsMTYxIEMzMi41ODE1OTUsMTYxIDI5LDE2NC41ODE1OTUgMjksMTY5IEMyOSwxNzMuNDE4NDA1IDMyLjU4MTU5NSwxNzcgMzcsMTc3IEM0MS40MTg0MDUsMTc3IDQ1LDE3My40MTg0MDUgNDUsMTY5IEM0NSwxNjQuNTgxNTk1IDQxLjQxODQwNSwxNjEgMzcsMTYxIEwzNywxNjEgWiIgaWQ9ImljX3NlcnBfc2FmZSI+PC9wYXRoPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+"},694:t=>{t.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDI1LjQuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHZpZXdCb3g9IjAgMCAxNSAxNSIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMTUgMTU7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4KPHN0eWxlIHR5cGU9InRleHQvY3NzIj4KCS5zdDB7ZmlsbC1ydWxlOmV2ZW5vZGQ7Y2xpcC1ydWxlOmV2ZW5vZGQ7ZmlsbDojRkY2NjAwO30KPC9zdHlsZT4KPHBhdGggY2xhc3M9InN0MCIgZD0iTTEwLjIsOS44bC0xLjEsMS4xbC0yLTJsLTIsMkw0LjEsOS44bDItMmwtMi0ybDEuMS0xLjFsMiwybDItMmwxLjEsMS4xbC0yLDJMMTAuMiw5LjhMMTAuMiw5Ljh6IE03LjUsMAoJQzMuNCwwLDAsMy40LDAsNy41UzMuNCwxNSw3LjUsMTVTMTUsMTEuNiwxNSw3LjVTMTEuNiwwLDcuNSwweiIvPgo8L3N2Zz4K"},621:t=>{t.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+Cjxzdmcgd2lkdGg9IjE2cHgiIGhlaWdodD0iMTZweCIgdmlld0JveD0iMCAwIDE2IDE2IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPgogICAgPCEtLSBHZW5lcmF0b3I6IHNrZXRjaHRvb2wgNDAuMyAoMzM4MzkpIC0gaHR0cDovL3d3dy5ib2hlbWlhbmNvZGluZy5jb20vc2tldGNoIC0tPgogICAgPHRpdGxlPjM1MzEwQzBGLUIzQ0QtNDEyRC1BMkEwLTU1NzMyNEZDNUNDNTwvdGl0bGU+CiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggc2tldGNodG9vbC48L2Rlc2M+CiAgICA8ZGVmcz48L2RlZnM+CiAgICA8ZyBpZD0iLUJhc2UtRWxlbWVudHMiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSJBc3NldHMiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0yOS4wMDAwMDAsIC0yMDAuMDAwMDAwKSIgZmlsbD0iIzgwODA4MCI+CiAgICAgICAgICAgIDxnIGlkPSJTZXJwIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNS4wMDAwMDAsIDc3LjAwMDAwMCkiPgogICAgICAgICAgICAgICAgPHBhdGggZD0iTTIyLjY2OTUyODgsMTMyLjk2NTM1MiBMMjEuMzMwNDcxMiwxMzIuOTY1MzUyIEMyMS4zMzA0NzEyLDEzMC43ODk4ODggMjMuMzM5MDU3NSwxMzAuOTU3MTcgMjMuMzM5MDU3NSwxMjkuNjE4MTEyIEMyMy4zMzkwNTc1LDEyOC44ODE5MTMgMjIuNzM2NjAyOSwxMjguMjc5NDU5IDIyLDEyOC4yNzk0NTkgQzIxLjI2MzgwMTIsMTI4LjI3OTQ1OSAyMC42NjEzNDY1LDEyOC44ODE5MTMgMjAuNjYxMzQ2NSwxMjkuNjE4MTEyIEwxOS4zMjIyODksMTI5LjYxODExMiBDMTkuMzIyMjg5LDEyOC4xMzg4NDUgMjAuNTIwNzMzNCwxMjYuOTQwNDAxIDIyLDEyNi45NDA0MDEgQzIzLjQ3OTY3MDcsMTI2Ljk0MDQwMSAyNC42Nzc3MTEsMTI4LjEzODg0NSAyNC42Nzc3MTEsMTI5LjYxODExMiBDMjQuNjc3NzExLDEzMS4yOTE3MzIgMjIuNjY5NTI4OCwxMzEuNDU5MDEzIDIyLjY2OTUyODgsMTMyLjk2NTM1MiBMMjIuNjY5NTI4OCwxMzIuOTY1MzUyIFogTTIxLjMzMDQ3MTIsMTM0Ljk3MzUzNCBMMjIuNjY5NTI4OCwxMzQuOTczNTM0IEwyMi42Njk1Mjg4LDEzMy42MzQ4ODEgTDIxLjMzMDQ3MTIsMTMzLjYzNDg4MSBMMjEuMzMwNDcxMiwxMzQuOTczNTM0IFogTTIyLDEyMyBDMTcuNTgxNTk1LDEyMyAxNCwxMjYuNTgxOTk5IDE0LDEzMSBDMTQsMTM1LjQxODQwNSAxNy41ODE1OTUsMTM5IDIyLDEzOSBDMjYuNDE4MDAwOSwxMzkgMzAsMTM1LjQxODQwNSAzMCwxMzEgQzMwLDEyNi41ODE5OTkgMjYuNDE4MDAwOSwxMjMgMjIsMTIzIEwyMiwxMjMgWiIgaWQ9ImljX3NlcnBfdW50ZXN0ZWQiPjwvcGF0aD4KICAgICAgICAgICAgPC9nPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+"},142:t=>{t.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+Cjxzdmcgd2lkdGg9IjE2cHgiIGhlaWdodD0iMTZweCIgdmlld0JveD0iMCAwIDE2IDE2IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPgogICAgPCEtLSBHZW5lcmF0b3I6IHNrZXRjaHRvb2wgNDAuMyAoMzM4MzkpIC0gaHR0cDovL3d3dy5ib2hlbWlhbmNvZGluZy5jb20vc2tldGNoIC0tPgogICAgPHRpdGxlPkQ3NEJDQ0M4LUVEN0QtNDJCNC1CMTY4LTNEOEU4ODY5NjAwODwvdGl0bGU+CiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggc2tldGNodG9vbC48L2Rlc2M+CiAgICA8ZGVmcz48L2RlZnM+CiAgICA8ZyBpZD0iLUJhc2UtRWxlbWVudHMiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSJBc3NldHMiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0yOS4wMDAwMDAsIC0xMTguMDAwMDAwKSIgZmlsbD0iI0M4MUEwMCI+CiAgICAgICAgICAgIDxnIGlkPSJTZXJwIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNS4wMDAwMDAsIDc3LjAwMDAwMCkiPgogICAgICAgICAgICAgICAgPHBhdGggZD0iTTI1LjIzMjQ4NjUsNTEuMDkzMDM1IEwyNC4wOTMwMzUsNTIuMjMyNDg2NSBMMjIsNTAuMTM5NDUxNSBMMTkuOTA2OTY1LDUyLjIzMjQ4NjUgTDE4Ljc2NzUxMzUsNTEuMDkzMDM1IEwyMC44NjA1NDg1LDQ5IEwxOC43Njc1MTM1LDQ2LjkwNjk2NSBMMTkuOTA2OTY1LDQ1Ljc2NzUxMzUgTDIyLDQ3Ljg2MDU0ODUgTDI0LjA5MzAzNSw0NS43Njc1MTM1IEwyNS4yMzI0ODY1LDQ2LjkwNjk2NSBMMjMuMTM5NDUxNSw0OSBMMjUuMjMyNDg2NSw1MS4wOTMwMzUgWiBNMjIsNDEgQzE3LjU4MTU5NSw0MSAxNCw0NC41ODE1OTUgMTQsNDkgQzE0LDUzLjQxODQwNSAxNy41ODE1OTUsNTcgMjIsNTcgQzI2LjQxODQwNSw1NyAzMCw1My40MTg0MDUgMzAsNDkgQzMwLDQ0LjU4MTU5NSAyNi40MTg0MDUsNDEgMjIsNDEgTDIyLDQxIFoiIGlkPSJpY19zZXJwX3dhcm5pbmciPjwvcGF0aD4KICAgICAgICAgICAgPC9nPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+"},184:t=>{t.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+Cjxzdmcgd2lkdGg9IjE2cHgiIGhlaWdodD0iMTZweCIgdmlld0JveD0iMCAwIDE2IDE2IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPgogICAgPCEtLSBHZW5lcmF0b3I6IHNrZXRjaHRvb2wgNDAuMyAoMzM4MzkpIC0gaHR0cDovL3d3dy5ib2hlbWlhbmNvZGluZy5jb20vc2tldGNoIC0tPgogICAgPHRpdGxlPkREMzdDNjRDLTZFNjUtNDU0QS05NEU1LUVDRkU4MTE1OTA1QTwvdGl0bGU+CiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggc2tldGNodG9vbC48L2Rlc2M+CiAgICA8ZGVmcz48L2RlZnM+CiAgICA8ZyBpZD0iLUJhc2UtRWxlbWVudHMiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSJBc3NldHMiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0yOS4wMDAwMDAsIC03Ny4wMDAwMDApIiBmaWxsPSIjRkY3MjAwIj4KICAgICAgICAgICAgPGcgaWQ9IlNlcnAiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDE1LjAwMDAwMCwgNzcuMDAwMDAwKSI+CiAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMjEuMTkxODc4NCw4LjY4OTMyNzc0IEwyMi44MDgxMjE2LDguNjg5MzI3NzQgTDIyLjgwODEyMTYsMy44NDA1OTgwMSBMMjEuMTkxODc4NCwzLjg0MDU5ODAxIEwyMS4xOTE4Nzg0LDguNjg5MzI3NzQgWiBNMjEuMTkxODc4NCwxMS45MjE4MTQyIEwyMi44MDgxMjE2LDExLjkyMTgxNDIgTDIyLjgwODEyMTYsMTAuMzA1NTcxIEwyMS4xOTE4Nzg0LDEwLjMwNTU3MSBMMjEuMTkxODc4NCwxMS45MjE4MTQyIFogTTIyLDEuNTA5OTAzMzFlLTE0IEMxNy41ODE1OTUsMS41MDk5MDMzMWUtMTQgMTQsMy41ODE1OTUwMyAxNCw4IEMxNCwxMi40MTg0MDUgMTcuNTgxNTk1LDE2IDIyLDE2IEMyNi40MTg0MDUsMTYgMzAsMTIuNDE4NDA1IDMwLDggQzMwLDMuNTgxNTk1MDMgMjYuNDE4NDA1LDEuNTA5OTAzMzFlLTE0IDIyLDEuNTA5OTAzMzFlLTE0IEwyMiwxLjUwOTkwMzMxZS0xNCBaIiBpZD0iaWNfc2VycF9jYXV0aW9uIj48L3BhdGg+CiAgICAgICAgICAgIDwvZz4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ZnPg=="},24:e=>{"use strict";e.exports=t},314:t=>{"use strict";t.exports=e}},n={};function i(t){var e=n[t];if(void 0!==e)return e.exports;var s=n[t]={exports:{}};return o[t](s,s.exports,i),s.exports}i.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return i.d(e,{a:e}),e},i.d=(t,e)=>{for(var o in e)i.o(e,o)&&!i.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})},i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var s={};return(()=>{"use strict";var t=i(24),e=i(314);const o=globalThis.SymBfw,n=(globalThis.SafeWeb,{MESSAGES:{FETCH_WRS_RATING:"975843B2-13E8-4947-80C6-97AB31E6F696",IS_ANNOTATION_SUPPORTED_FOR_THIS_PAGE:"33E7E2A5-6FED-4BD6-8722-C92CBEFFAED2",OPEN_FULLREPORT:"0705FC0E-9629-4D48-AC2D-B00AE608EF29",FETCH_ANNOTATION_RULES:"224bd6b4-8a58-4385-b59b-00820d3014f9",ANNOTATION_POPUP_INIT:"5d4c828c-9e03-4f1c-9203-b4c7b8bd9577",DISPLAY_POPUP_MAIN_WINDOW:"04D11A9A-C255-40FF-ABB4-1B157E30D7B8",DISPLAY_POPUP_MAIN_WINDOW_CS:"30AB7916-2441-4AAB-BF89-FD5E7EA5826F"},EXTENSION_PROTOCOL:{Chrome:"chrome-extension:",Firefox:"moz-extension:","Edge-Chromium":"chrome-extension:"},DEFAULT_FULL_REPORT_URL:"https://safeweb.norton.com/report/show",ANNOTATION_DIV_ELEMENT:"annotation-div",ANNOTATION_POPUP_DIV_ELEMENT:"618ED870-F5C2-45EC-9577-C62E3071FA43",ANNOTATION_POPUP_STRINGS:["Threats","This site has not been tested yet","SAFE","SECURE","CAUTION","UNTESTED","UNSAFE","Full Report"],SUPPORTED_LANGUAGES:{el:!0,en:!0,pt_br:!0,it:!0,ar:!0,cs:!0,es:!0,ru:!0,nl:!0,pt:!0,no:!0,nb:!0,tr:!0,ro:!0,pl:!0,fr:!0,zh_tw:!0,de:!0,hu:!0,fi:!0,da:!0,ja:!0,he:!0,zh_cn:!0,ko:!0,sv:!0},MUTATION_OBSERVER_NOT_REQUIRED_DOMAINS:["search.yahoo.com"],ANNOTATION_POPUP_TIMEOUT_DURATION:3e3,RULES_CDN_URL:"https://static.nortoncdn.com/nortonextensionhomepage/URLParsingRules.json",ROOT_CA:"\n    -----BEGIN CERTIFICATE-----\n    MIIEvjCCA6agAwIBAgIQBtjZBNVYQ0b2ii+nVCJ+xDANBgkqhkiG9w0BAQsFADBh\n    MQswCQYDVQQGEwJVUzEVMBMGA1UEChMMRGlnaUNlcnQgSW5jMRkwFwYDVQQLExB3\n    d3cuZGlnaWNlcnQuY29tMSAwHgYDVQQDExdEaWdpQ2VydCBHbG9iYWwgUm9vdCBD\n    QTAeFw0yMTA0MTQwMDAwMDBaFw0zMTA0MTMyMzU5NTlaME8xCzAJBgNVBAYTAlVT\n    MRUwEwYDVQQKEwxEaWdpQ2VydCBJbmMxKTAnBgNVBAMTIERpZ2lDZXJ0IFRMUyBS\n    U0EgU0hBMjU2IDIwMjAgQ0ExMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKC\n    AQEAwUuzZUdwvN1PWNvsnO3DZuUfMRNUrUpmRh8sCuxkB+Uu3Ny5CiDt3+PE0J6a\n    qXodgojlEVbbHp9YwlHnLDQNLtKS4VbL8Xlfs7uHyiUDe5pSQWYQYE9XE0nw6Ddn\n    g9/n00tnTCJRpt8OmRDtV1F0JuJ9x8piLhMbfyOIJVNvwTRYAIuE//i+p1hJInuW\n    raKImxW8oHzf6VGo1bDtN+I2tIJLYrVJmuzHZ9bjPvXj1hJeRPG/cUJ9WIQDgLGB\n    Afr5yjK7tI4nhyfFK3TUqNaX3sNk+crOU6JWvHgXjkkDKa77SU+kFbnO8lwZV21r\n    eacroicgE7XQPUDTITAHk+qZ9QIDAQABo4IBgjCCAX4wEgYDVR0TAQH/BAgwBgEB\n    /wIBADAdBgNVHQ4EFgQUt2ui6qiqhIx56rTaD5iyxZV2ufQwHwYDVR0jBBgwFoAU\n    A95QNVbRTLtm8KPiGxvDl7I90VUwDgYDVR0PAQH/BAQDAgGGMB0GA1UdJQQWMBQG\n    CCsGAQUFBwMBBggrBgEFBQcDAjB2BggrBgEFBQcBAQRqMGgwJAYIKwYBBQUHMAGG\n    GGh0dHA6Ly9vY3NwLmRpZ2ljZXJ0LmNvbTBABggrBgEFBQcwAoY0aHR0cDovL2Nh\n    Y2VydHMuZGlnaWNlcnQuY29tL0RpZ2lDZXJ0R2xvYmFsUm9vdENBLmNydDBCBgNV\n    HR8EOzA5MDegNaAzhjFodHRwOi8vY3JsMy5kaWdpY2VydC5jb20vRGlnaUNlcnRH\n    bG9iYWxSb290Q0EuY3JsMD0GA1UdIAQ2MDQwCwYJYIZIAYb9bAIBMAcGBWeBDAEB\n    MAgGBmeBDAECATAIBgZngQwBAgIwCAYGZ4EMAQIDMA0GCSqGSIb3DQEBCwUAA4IB\n    AQCAMs5eC91uWg0Kr+HWhMvAjvqFcO3aXbMM9yt1QP6FCvrzMXi3cEsaiVi6gL3z\n    ax3pfs8LulicWdSQ0/1s/dCYbbdxglvPbQtaCdB73sRD2Cqk3p5BJl+7j5nL3a7h\n    qG+fh/50tx8bIKuxT8b1Z11dmzzp/2n3YWzW2fP9NsarA4h20ksudYbj/NhVfSbC\n    EXffPgK2fPOre3qGNm+499iTcc+G33Mw+nur7SpZyEKEOxEXGlLzyQ4UfaJbcme6\n    ce1XR2bFuAJKZTRei9AqPCCcUZlM51Ke92sRKw2Sfh3oius2FkOH6ipjv3U/697E\n    A7sKPPcw7+uvTPyLNhBzPvOk\n    -----END CERTIFICATE-----\n    ",CERT_INFO:{CERT_ISSUER_NAME:"DigiCert TLS RSA SHA256 2020 CA1",CERT_ISSUED:"static.nortoncdn.com"},ANNOTATION_STORAGE_CONTAINER:"ANNOTATION_STORAGE_CONTAINER",ANNOTATION_RULES:"ANNOTATION_RULES",ANNOTATION_RULES_DOWNLOAD_INTERVAL_IN_MINUTES:1440,ANNOTATION_RULES_DOWNLOAD_RETRY_INTERVAL_IN_MINUTES:30,ANNOTATION_RULES_LAST_DOWNLOAD_TIMESTAMP:"ANNOTATION_RULES_LAST_DOWNLOAD_TIMESTAMP",RETRY_ANNOTATION_RULES_DOWNLOAD:"RETRY_ANNOTATION_RULES_DOWNLOAD",ANNOTATION_RULES_DOWNLOAD:"ANNOTATION_RULES_DOWNLOAD",VISIBILITY_HIDDEN:"hidden",DARKMODE_PARAM:"darkMode",DARKMODE_CLASS:"dark"}),s=["sb_safeAnnotation.svg","sb_unknownAnnotation.svg","sb_unsafeAnnotation.svg","sb_webnuisanceAnnotation.svg"];var l,r,a;!function(t){t.middleLeft="middleLeft",t.topLeft="topLeft",t.bottomLeft="bottomLeft",t.topRight="topRight",t.bottomRight="bottomRight",t.middleRight="middleRight",t.bottomMiddle="bottomMiddle",t.topMiddle="topMiddle"}(l||(l={})),function(t){t.left="left",t.top="top",t.right="right",t.bottom="bottom"}(r||(r={})),function(t){t.SAFE="Safe",t.CAUTION="Caution",t.WARNING="Warning",t.SUSPICIOUS="Suspicious",t.UNTESTED="Untested",t.MONITORING="Monitoring",t.UNSAFE_TO_SHOP="Unsafe to Shop",t.SAFEWEB_IS_OFF="Safe Web is off",t.PAGE_NOT_ANALYZED="Page not analyzed"}(a||(a={}));const d=["adsensecustomsearchads","google","syndicatedsearch"],u=new class{getValidUrl(t){return(t=t.trim())?t=(t=t.replace(/›/g,"/").replace(/ /g,"")).match(/^https?:\/\//i)?t:"https://"+t:""}isTrustedEvent(t){return t.isTrusted}getLocationHost(){return location.host}isIframeVisibleInViewport(t){return t.getBoundingClientRect().bottom>=0}debounce(t,e=300){let o;return n=>{clearTimeout(o),o=setTimeout((()=>{t()}),e)}}},g=o.extensionAdapter,M=n.MESSAGES;var c;!function(t){t.SAFE="green",t.UNSAFE="red",t.WARN="warn",t.UNKNOWN="unknown"}(c||(c={}));const I=174,N=390,A="rtl";globalThis._getElementPosition=t=>t.getBoundingClientRect(),globalThis._getWindowSize=()=>({width:window.innerWidth,height:window.innerHeight});class E extends t.Component{constructor(t){super(t),this._timerId=0,this._onClick=this._onClick.bind(this)}_getCustomPositionValues(t,e,o="ltr"){var n,i,s;const l=null===(s=null===(i=null===(n=this.props.uiConfig)||void 0===n?void 0:n.popupUIConfig)||void 0===i?void 0:i.popupPosition)||void 0===s?void 0:s.regionValues;if(!l||!l[o]||!l[o][t])return null;const r=l[o][t].positionValues;return r&&r[e]?r[e]:null}_calculatePositionRtl(t,e){const o={left:0,top:0,arrowPositionCssClass:"",arrowColorCssClass:""};if(t.right>N)if(t.bottom+87<e.height&&t.top-87>0){const e=this._getCustomPositionValues(l.middleLeft.toString(),r.left.toString(),A),n=e?e.offset:-40,i=this._getCustomPositionValues(l.middleLeft.toString(),r.top.toString(),A),s=i?i.offset:0,a=i?i.midFinderDivisor:2;o.left=t.right-N+n,o.top=t.top-I/a+20/a+s,o.arrowPositionCssClass="popup-arrow-middle-left",o.arrowColorCssClass="pop-arrow-middle-right-border-color-"+this.props.data.siteStatus}else t.top-I>0?(o.top=t.bottom-I+12,t.right>N&&(o.left=t.right-N-40,o.arrowPositionCssClass="popup-arrow-top-right-rtl")):t.right>N&&(o.top=t.top-12,o.left=t.right-N-40,o.arrowPositionCssClass="popup-arrow-bottom-right",o.arrowColorCssClass="pop-arrow-bottom-right-border-color-rtl-"+this.props.data.siteStatus);else if(o.left=t.left-10,t.top-I>0){const e=this._getCustomPositionValues(l.topRight.toString(),r.top.toString(),A),n=e?e.offset:-25;o.top=t.top-I+n,o.arrowPositionCssClass="popup-arrow-top-left"}else o.top=t.bottom+20,o.arrowPositionCssClass="popup-arrow-bottom-left",o.arrowColorCssClass="pop-arrow-bottom-left-border-color-"+this.props.data.siteStatus;return o}_calculatePosition(t){var e,o,n;const i=(null===(n=null===(o=null===(e=this.props.uiConfig)||void 0===e?void 0:e.popupUIConfig)||void 0===o?void 0:o.popupPosition)||void 0===n?void 0:n.margin)||25;let s={top:0,bottom:0,right:0,left:0};if(t)s=t;else{const t=this.props.nodeElement.parentElement.getElementsByClassName("annotation-icon"),e=Array.from(t)[0];s=globalThis._getElementPosition(e)}let a={left:0,top:0,arrowPositionCssClass:"",arrowColorCssClass:""};const d=globalThis._getWindowSize();if(this.props.bodyDirection===A)return a=this._calculatePositionRtl(s,d),a;if(s.right+N<d.width)if(s.bottom+87<d.height&&s.top-87>0){const t=this._getCustomPositionValues(l.middleRight.toString(),r.top.toString()),e=t?t.midFinderDivisor:2,o=t?t.offset:0;a.left=s.right+i,a.top=s.top-I/e+20/e+o,a.arrowPositionCssClass="popup-arrow-middle-left",a.arrowColorCssClass="pop-arrow-middle-left-border-color-"+this.props.data.siteStatus}else if(s.top-I>0){const t=this._getCustomPositionValues(l.topRight.toString(),r.top.toString()),e=t?t.offset:12,o=this._getCustomPositionValues(l.topRight.toString(),r.left.toString()),n=o?o.offset:0;a.top=s.bottom-I+e,s.right+N<d.width&&(a.left=s.right+i+n,a.arrowPositionCssClass="popup-arrow-top-right")}else s.right+N<d.width&&(a.top=s.top-12,a.left=s.right+i,a.arrowPositionCssClass="popup-arrow-bottom-right",a.arrowColorCssClass="pop-arrow-bottom-right-border-color-"+this.props.data.siteStatus);else{const t=this._getCustomPositionValues(l.topLeft.toString(),r.left.toString()),e=t?t.offset:12;if(a.left=s.right-N+e,s.top-I>0){const t=this._getCustomPositionValues(l.topLeft.toString(),r.top.toString()),e=t?t.offset:-i;if(a.top=s.top-I+e,a.arrowPositionCssClass="popup-arrow-top-left",a.left<0){const t=this._getCustomPositionValues(l.topMiddle.toString(),r.left.toString()),e=t?t.midFinderDivisor:2;a.left=s.right-N/e,a.arrowPositionCssClass="popup-arrow-top-middle"}}else if(a.top=s.bottom+i,a.arrowPositionCssClass="popup-arrow-bottom-left",a.arrowColorCssClass="pop-arrow-bottom-left-border-color-"+this.props.data.siteStatus,a.left<0){const t=this._getCustomPositionValues(l.bottomMiddle.toString(),r.left.toString()),e=t?t.midFinderDivisor:2;a.left=s.right-N/e,a.arrowPositionCssClass="popup-arrow-bottom-middle"}}return a}_onClick(t){if(!u.isTrustedEvent(t))return;const e={id:M.OPEN_FULLREPORT,payload:{fullReportURL:U(this.props.data.fullURL)}};g.sendMessage(e)}_removeAnnotationPopup(){e.render(null,document.getElementById(n.ANNOTATION_POPUP_DIV_ELEMENT))}componentDidMount(){window.addEventListener("scroll",this._removeAnnotationPopup),window.addEventListener("click",this._removeAnnotationPopup),window.addEventListener("blur",this._removeAnnotationPopup)}componentWillUnmount(){window.removeEventListener("scroll",this._removeAnnotationPopup),window.removeEventListener("click",this._removeAnnotationPopup),window.removeEventListener("blur",this._removeAnnotationPopup)}_getAnnotationThemeClass(){const t=window.location.search;return"true"===new URLSearchParams(t).get(n.DARKMODE_PARAM)?n.DARKMODE_CLASS:""}_sendAnnotationPositionToMainWindow(){const t=this.props.nodeElement.parentElement.getElementsByClassName("annotation-icon"),e=Array.from(t)[0],o=globalThis._getElementPosition(e),n={id:M.DISPLAY_POPUP_MAIN_WINDOW,payload:{source:location.href,annotation:{annotationIconPosition:o,data:this.props.data,popupIndex:this.props.popupIndex,bodyDirection:this.props.bodyDirection}}};g.sendMessage(n)}render(){var e,n,i,s,l,r,a,d,u,g,M,c,I,N,E,T,D,m,C,h,w,S,y,b,O,L;let v;if(this.props.data.showFullReport,!o.utils.isTopLevelWindow())return this._sendAnnotationPositionToMainWindow(),null;v=this._calculatePosition(this.props.annotation);const U=null===(e=this.props.uiConfig)||void 0===e?void 0:e.popupUIConfig,R=null===(n=null==U?void 0:U.logo)||void 0===n?void 0:n.style,_=R?void 0:"nortonLogo",f=null===(i=null==U?void 0:U.popupStyle)||void 0===i?void 0:i.rootStyle,P=Object.assign({},v);if(f)for(const t in f)P[t]=f[t];const x=this.props.bodyDirection===A?null===(l=null===(s=null==U?void 0:U.popupStyle)||void 0===s?void 0:s.statusImageStyle)||void 0===l?void 0:l.rtl:null===(a=null===(r=null==U?void 0:U.popupStyle)||void 0===r?void 0:r.statusImageStyle)||void 0===a?void 0:a.ltr,z=this.props.bodyDirection===A?null===(u=null===(d=null==U?void 0:U.popupStyle)||void 0===d?void 0:d.statusRowStyle)||void 0===u?void 0:u.rtl:null===(M=null===(g=null==U?void 0:U.popupStyle)||void 0===g?void 0:g.statusRowStyle)||void 0===M?void 0:M.ltr,j=this.props.bodyDirection===A?null===(I=null===(c=null==U?void 0:U.popupStyle)||void 0===c?void 0:c.domainStyle)||void 0===I?void 0:I.rtl:null===(E=null===(N=null==U?void 0:U.popupStyle)||void 0===N?void 0:N.domainStyle)||void 0===E?void 0:E.ltr,B=this.props.bodyDirection===A?null===(m=null===(D=null===(T=null==U?void 0:U.popupStyle)||void 0===T?void 0:T.arrowStyle)||void 0===D?void 0:D.arrowRegionValues)||void 0===m?void 0:m.rtl:null===(w=null===(h=null===(C=null==U?void 0:U.popupStyle)||void 0===C?void 0:C.arrowStyle)||void 0===h?void 0:h.arrowRegionValues)||void 0===w?void 0:w.ltr,G=B&&B[P.arrowPositionCssClass],Z=(null===(S=null==U?void 0:U.popupStyle)||void 0===S?void 0:S.resultSpanStyle)||{},k=this._getAnnotationThemeClass(),Q={localizedStatusTexts:null==U?void 0:U.localizedStatusTexts,statusStyle:null===(y=null==U?void 0:U.popupStyle)||void 0===y?void 0:y.statusStyle,statusImageStyle:x,statusRowStyle:z,domainStyle:j,resultSpanStyle:Z},W=null===(O=null===(b=null==U?void 0:U.popupStyle)||void 0===b?void 0:b.arrowStyle)||void 0===O?void 0:O.arrowStatusColors,H=W?W[P.arrowColorCssClass]:null;if(H&&G)for(const t in H)G[t]=H[t];return t.createElement("div",{className:`popup-area ${k}`,style:P,dir:this.props.bodyDirection,onMouseLeave:this._removeAnnotationPopup},t.createElement("div",{className:"content-area","data-state":this.props.data.siteStatus},t.createElement(p,{data:this.props.data,strings:this.props.strings,statusUIStyle:Q}),t.createElement("div",{className:"bottom",style:null===(L=null==U?void 0:U.popupStyle)||void 0===L?void 0:L.bottomStyle},t.createElement("div",{id:_,style:R}," "))),t.createElement("div",{className:`popup-arrow ${P.arrowPositionCssClass} ${P.arrowColorCssClass}`,style:G}))}}const p=e=>{var o,n,i,s,l;const r=(null===(o=e.statusUIStyle)||void 0===o?void 0:o.resultSpanStyle)||{},a=t=>{var o;const n=(null===(o=e.statusUIStyle)||void 0===o?void 0:o.localizedStatusTexts)||{};return e.strings[t]&&n[t.toLowerCase()]?n[t.toLowerCase()]:e.strings[t]};return t.createElement("div",{className:"status",style:null===(n=e.statusUIStyle)||void 0===n?void 0:n.statusStyle},t.createElement("span",{className:"status-image",style:null===(i=e.statusUIStyle)||void 0===i?void 0:i.statusImageStyle}),t.createElement("div",{className:"domain-div"},t.createElement("span",{className:"domain",title:e.data.normalizedURL,style:null===(s=e.statusUIStyle)||void 0===s?void 0:s.domainStyle},e.data.normalizedURL)),t.createElement("div",{className:"status-row",style:null===(l=e.statusUIStyle)||void 0===l?void 0:l.statusRowStyle},t.createElement("div",{className:"status-wrapper"},t.createElement("span",{className:"result-span-safe",style:r["result-span-safe"]}," ",a("SAFE")," "),t.createElement("span",{className:"result-span-secure",style:r["result-span-secure"]}," ",a("SECURE")," "),t.createElement("span",{className:"result-span-caution",style:r["result-span-caution"]}," ",a("CAUTION")," "),t.createElement("span",{className:"result-span-suspicious",style:r["result-span-suspicious"]}," ",a("UNSAFE")," "),t.createElement("span",{className:"result-span-untested",style:r["result-span-untested"]}," ",a("UNTESTED")," "),t.createElement("span",{className:"result-span-unsafe",style:r["result-span-unsafe"]}," ",a("UNSAFE")," "))))};var T=i(285),D=i.n(T),m=i(142),C=i.n(m),h=i(184),w=i.n(h),S=i(621),y=i.n(S),b=i(694),O=i.n(b);globalThis._getElementPosition=t=>t.getBoundingClientRect(),o.extensionAdapter,n.MESSAGES;const{useState:L,useEffect:v}=t,U=t=>`${n.DEFAULT_FULL_REPORT_URL}?url=${t}&ulang=${navigator.language.split("-")[0]}`,R=i=>{const s=`sbresult_${i.index}`,l=document.getElementsByTagName("body")[0],r=o.uiUtils.isPageRTL(l)?"rtl":"ltr";return t.createElement("img",{className:"annotation-icon",style:i.uiConfig?i.uiConfig.iconUIConfig.style:void 0,id:s,src:i.uiConfig?i.uiConfig.iconUIConfig.iconImages[i.rating.siteStatus]:(t=>{let e;switch(t){case a.SAFE:e=D();break;case a.WARNING:e=C();break;case a.SUSPICIOUS:e=O();break;case a.CAUTION:case a.UNSAFE_TO_SHOP:e=w();break;case a.UNTESTED:case a.PAGE_NOT_ANALYZED:case a.SAFEWEB_IS_OFF:case a.MONITORING:default:e=y()}return e})(i.rating.siteStatus),onMouseEnter:()=>{e.render(t.createElement(E,{popupIndex:i.index,data:i.rating,nodeElement:i.nodeElement,bodyDirection:r,strings:i.strings,uiConfig:i.uiConfig}),document.getElementById(n.ANNOTATION_POPUP_DIV_ELEMENT))}})},_=o.extensionAdapter,f=n.MESSAGES,P=o.logger,x=o.utils.isntNil,z=o.utils.isNil,j=new class{constructor(){this._strings=null}_isNodeAlreadyAnnotated(t){const e=t.closest(".PartialSearchResults-item"),i=e?e.dataset.rating:"";if(""!==i&&x(i))return!0;const l=t.getElementsByTagName("img");if(0===l.length)return!1;if(!0===Array.from(l).some((t=>"annotation-icon"===t.className)))return!0;const r=Array.from(l,(t=>t.src)),a=n.EXTENSION_PROTOCOL[o.globals.BROWSER];for(const t of r){const e=new URL(t);if(e.protocol===a&&s.includes(e.pathname.split("/content/images/")[1]))return!0}return!1}_onClickHandler(t){t.stopPropagation(),t.preventDefault()}_createSpanElement(){const t=document.createElement("SPAN");return t.setAttribute("class","icon-container"),t.addEventListener("click",this._onClickHandler),t}_appendIconContainer(t,e,o){t?t.appendChild(o):e.appendChild(o)}_annotateMainResultNodes(n,i,s,l,r,a){n.url.forEach(((i,l)=>{let d;d="A"===i.tagName?u.getValidUrl(x(n.readUrlAsTextElement)?i.textContent:i.href):u.getValidUrl(i.textContent);const g=s.find((t=>t.fullURL===d));if(!g){let t=o.utils.isTopLevelWindow()?document.URL:document.referrer;return t=t.split("?")[0],void P.error(`No rating for this url - ${d} - WindowURL - ${t}`)}const M=x(n.text)?n.text[l]:i;if(!this._isNodeAlreadyAnnotated(M)&&g){const o=M.querySelector(".span"),n=this._createSpanElement();e.render(t.createElement(R,{index:l,rating:g,nodeElement:M,strings:r,uiConfig:a}),n),this._appendIconContainer(o,M,n)}}))}_annotateSubResultNodes(o,n,i,s,l,r){o.subResults.forEach((o=>{let s;s="A"===o.parentUrl.tagName?u.getValidUrl(x(o.readParentUrlAsTextElement)?o.parentUrl.textContent:o.parentUrl.href):u.getValidUrl(o.parentUrl.textContent);const a=i.find((t=>t.fullURL===s));if(!a)return void P.error(`No rating for this parent url - ${s}`);const d=x(o.parentText)?o.parentText:o.parentUrl;if(!this._isNodeAlreadyAnnotated(d)&&a){const o=d.querySelector(".span"),i=this._createSpanElement();e.render(t.createElement(R,{index:n,rating:a,nodeElement:d,strings:l,uiConfig:r}),i),this._appendIconContainer(o,d,i)}o.childItems.forEach((o=>{if(!this._isNodeAlreadyAnnotated(o)&&a){const i=o,s=i.querySelector(".span"),d=this._createSpanElement();e.render(t.createElement(R,{index:++n,rating:a,nodeElement:i,strings:l,uiConfig:r}),d),this._appendIconContainer(s,i,d)}}))}))}_annotateMainAndSubResults(t,e,o,n,i){t.forEach(((t,s)=>{x(t.url)?this._annotateMainResultNodes(t,s,e,o,n,i):x(t.subResults)&&this._annotateSubResultNodes(t,s+100*s,e,o,n,i)}))}_handleMessage(i,s,l){if(z(i)||z(i.id)||z(i.payload))return;const r=i.payload;if(i.id===f.DISPLAY_POPUP_MAIN_WINDOW_CS&&o.utils.isTopLevelWindow()){const o=r.annotation.bodyDirection,i=document.getElementsByTagName("iframe"),s=Array.prototype.slice.call(i).find((t=>{if(t.src===r.source&&t.style.visibility!==n.VISIBILITY_HIDDEN&&u.isIframeVisibleInViewport(t))return t})),l={top:0,bottom:0,right:0,left:0};if(!s)return;const a=globalThis._getElementPosition(s),d=r.annotation.annotationIconPosition;l.top=d.top+a.top,l.bottom=d.bottom+a.bottom-a.height,l.right=d.right+a.right-a.width,l.left=d.left+a.left,e.render(t.createElement(E,{annotation:l,data:r.annotation.data,bodyDirection:o,strings:this._strings,uiConfig:r.uiConfig}),document.getElementById(n.ANNOTATION_POPUP_DIV_ELEMENT))}}addMessageListener(){this._handleMessage=this._handleMessage.bind(this),_.addMessageListener(this._handleMessage)}setPopupStrings(t){this._strings=t}getPopupStrings(){return this._strings}renderAnnotationIcon(t,e,o,n){this._strings=o,x(t.organic)&&this._annotateMainAndSubResults(t.organic,e,!1,o,n),x(t.advt)&&this._annotateMainAndSubResults(t.advt,e,!0,o,n)}},B=o.logger,G=o.utils.isntNil,Z=o.utils.isNil;class k{_getMainResultNodes(t){const e=[],o=this._getXPathResults(t.url);if(!o.length)return null;if(e.url=o,G(t.text)){const n=this._getXPathResults(t.text);if(n&&n.length&&(e.text=n),n.length!=o.length)return B.error(`URL and TEXT XPaths did not return equal number of elements. check this URL XPath = ${t.url} and TEXT XPath = ${t.text}`),null}return(G(e.url)||G(e.text))&&G(t.readUrlAsTextElement)&&(e.readUrlAsTextElement=t.readUrlAsTextElement),e}_getSubResultNodes(t){const e=[],o=this._getXPathResults(t.root);return o&&o.length&&o.forEach((o=>{const n=this._getXPathResults(t.parentUrl,o);if(0===n.length)return null;if(n.length&&1!==n.length)return B.error(`parentURL element should be only one, but found ${n.length} elements, check this XPath = ${t.parentUrl}`),null;const i=this._getXPathResults(t.childItems,o);if(i.length){const s={};s.childItems=i,s.parentUrl=n[0];const l=G(t.parentText)?this._getXPathResults(t.parentText,o):[];if(l.length){if(1!==l.length)return B.error(`More than one parentTEXT element found, check this XPath = ${t.parentText}`),null;s.parentText=l[0]}G(t.readParentUrlAsTextElement)&&(s.readParentUrlAsTextElement=t.readParentUrlAsTextElement),e.push(s)}})),e.length?e:null}_addMainResultNodes(t,e,o){null!=t&&(e in o||(o[e]=[]),o[e].push(t))}_addSubResultNodes(t,e,o){null!=t&&(e in o||(o[e]=[]),o[e].push({subResults:t}))}_getNodeElements(t){const e={};let o;for(o of Object.keys(t)){let n;for(n of t[o])if(G(n.url)){const t=this._getMainResultNodes(n);null!=t&&this._addMainResultNodes(t,o,e)}else if(G(n.root)){const t=this._getSubResultNodes(n);null!=t&&this._addSubResultNodes(t,o,e)}}return e}_getXPathResults(t,e=document){const o=[],n=document.evaluate(t,e,null,XPathResult.ANY_TYPE,null);let i;for(;i=n.iterateNext();)o.push(i);return o}_getUniqueURLs(t){const e={};let o;for(o of Object.keys(t)){let n;const i=[];for(n in t[o]){let e;G(t[o][n].url)?(e=t[o][n].url.map((e=>"A"===e.tagName||"SPAN"===e.tagName?u.getValidUrl(G(t[o][n].readUrlAsTextElement)?e.textContent:e.href):u.getValidUrl(e.textContent))),e=e.filter((t=>null!=t&&t.trim())),i.push(...e)):G(t[o][n].subResults)&&t[o][n].subResults.length&&(e=[],t[o][n].subResults.forEach((t=>{G(t.parentUrl)&&("A"===t.parentUrl.tagName||"SPAN"===t.parentUrl.tagName?e.push(u.getValidUrl(G(t.readParentUrlAsTextElement)?t.parentUrl.textContent:t.parentUrl.href)):e.push(u.getValidUrl(t.parentUrl.textContent)))})),e=e.filter((t=>null!=t&&t.trim())),i.push(...e))}i.length&&(Z(e[o])&&(e[o]=[]),e[o].push(...i))}for(o of Object.keys(e))e[o]=Array.from(new Set([...e[o]]));return e}processSearchResults(t){const e=this._getNodeElements(t);return[e,this._getUniqueURLs(e)]}}const Q=new class{constructor(){this.addMutationObserver=()=>{const t=this._getDocumentBody();t&&this._createMutationObserver().observe(t,{childList:!0,subtree:!1})}}_createMutationObserver(){return new MutationObserver((t=>{for(const e of t){if(!Array.prototype.slice.call(e.addedNodes).some((t=>"b_content"===t.id)))return;this.annotTimer&&clearTimeout(this.annotTimer),this.annotTimer=setTimeout((()=>{Y.annotationFlow()}),300)}}))}_getDocumentBody(){return document.body}};var W=function(t,e,o,n){return new(o||(o=Promise))((function(i,s){function l(t){try{a(n.next(t))}catch(t){s(t)}}function r(t){try{a(n.throw(t))}catch(t){s(t)}}function a(t){var e;t.done?i(t.value):(e=t.value,e instanceof o?e:new o((function(t){t(e)}))).then(l,r)}a((n=n.apply(t,e||[])).next())}))};const H=o.extensionAdapter,V=n.MESSAGES,Y=new class{constructor(){this._renderAnnotation=this._renderAnnotation.bind(this),this.initAnnotationFlow=this.initAnnotationFlow.bind(this)}_sendMessageToBG(t){return new Promise((e=>{H.sendMessage(t,(t=>{e(t)}))}))}_getRulesForTabUrlDomain(){return W(this,void 0,void 0,(function*(){const t={id:V.FETCH_ANNOTATION_RULES};return yield this._sendMessageToBG(t)}))}_fetchNodeElementsAndURLS(){return W(this,void 0,void 0,(function*(){const t=yield this._getRulesForTabUrlDomain(),e=(new k).processSearchResults(t);[this.nodeObject,this.urlObject]=e}))}_getRatingFromBG(){return W(this,void 0,void 0,(function*(){const t={AdvtURLs:this.urlObject.advt||[],urls:this.urlObject.organic||[]},e={id:V.FETCH_WRS_RATING,payload:t};return yield this._sendMessageToBG(e)}))}_renderAnnotation(t,e,o){j.renderAnnotationIcon(this.nodeObject,t,e,o)}_isSearchDomainSupportedForAnnotation(t){return W(this,void 0,void 0,(function*(){const t={id:V.IS_ANNOTATION_SUPPORTED_FOR_THIS_PAGE};return yield this._sendMessageToBG(t)}))}_injectAnnotationDivElement(){let t=document.getElementById(n.ANNOTATION_DIV_ELEMENT);return!t&&(t=document.createElement("div"),t.id=n.ANNOTATION_DIV_ELEMENT,t.style.display="none",document.body.append(t),!0)}_getDocumentURL(){return document.URL}_injectAnnotationPopup(){if(document.getElementById(n.ANNOTATION_POPUP_DIV_ELEMENT))return;const t=document.createElement("div");t.id=n.ANNOTATION_POPUP_DIV_ELEMENT,document.body.append(t)}_addMutationObservers(){u.getLocationHost().includes("bing")&&o.utils.isTopLevelWindow()&&Q.addMutationObserver()}annotationFlow(t=!0){return W(this,void 0,void 0,(function*(){yield this._fetchNodeElementsAndURLS();const e=yield this._getRatingFromBG();this._injectAnnotationPopup(),H.sendMessage({id:n.MESSAGES.ANNOTATION_POPUP_INIT},(o=>{t?this._renderAnnotation(e,o.strings,o.uiConfig):j.setPopupStrings(o.strings)}))}))}initAnnotationFlow(t){return W(this,void 0,void 0,(function*(){const e=this._getDocumentURL();if(!(yield this._isSearchDomainSupportedForAnnotation(e)))return;j.addMessageListener();const o=!!t||this._injectAnnotationDivElement();yield this.annotationFlow(o),this._addMutationObservers()}))}};(new class{constructor(){this.isMutationObserverRequired=()=>{const t=document.getElementById("adBlock");let e=!1;o.utils.isntNil(t)&&(e=u.getLocationHost().includes("google")&&!t.hasChildNodes()&&!o.utils.isTopLevelWindow());const n=document.querySelectorAll("div.compTitle h3.title a"),i=this.isMutationObserverRequiredYahoo(n),s=document.getElementById("adBlock"),l=this.isMutationObserverRequiredAsk(s);return e||i||l},this.googleMutationObserverBlock=()=>{const t=document.getElementById("adBlock");new MutationObserver(((t,e)=>{for(const o of t)if("attributes"===o.type){Y.initAnnotationFlow(),e.disconnect();break}})).observe(t,{attributes:!0})},this.yahooMutationObserverBlock=()=>{const t=document.querySelectorAll("div.compTitle h3.title a"),e={attributes:!0},o=new MutationObserver(((t,e)=>{for(const o of t)if("attributes"===o.type&&"href"===o.attributeName){Y.initAnnotationFlow(),e.disconnect();break}}));t.forEach((t=>{o.observe(t,e)}))},this.askMutationObserverBlock=()=>{const t=document.getElementById("adBlock");new MutationObserver(((t,e)=>{for(const o of t)if("attributes"===o.type){Y.initAnnotationFlow(),e.disconnect();break}})).observe(t,{subtree:!0,attributes:!0})}}isMutationObserverRequiredYahoo(t){if(o.utils.isNil(t))return!1;if(0===t.length)return!1;const e=new URL(Y._getDocumentURL());return!n.MUTATION_OBSERVER_NOT_REQUIRED_DOMAINS.includes(e.hostname)}matchesHostNamePatternAsk(){return d.some((t=>u.getLocationHost().includes(t)))}isMutationObserverRequiredAsk(t){return!o.utils.isNil(t)&&this.matchesHostNamePatternAsk()}initAnnotation(){if(this.isMutationObserverRequired())u.getLocationHost().includes("google")?this.googleMutationObserverBlock():u.getLocationHost().includes("yahoo")?this.yahooMutationObserverBlock():this.matchesHostNamePatternAsk()&&this.askMutationObserverBlock();else if(Y.initAnnotationFlow(),u.getLocationHost().includes("google")){const t=u.debounce((()=>Y.initAnnotationFlow(!0)),150);window.addEventListener("scroll",t)}}}).initAnnotation()})(),s.default})()));