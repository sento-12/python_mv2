!function a(o,s,r){function i(t,e){if(!s[t]){if(!o[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(c)return c(t,!0);throw(e=new Error("Cannot find module '"+t+"'")).code="MODULE_NOT_FOUND",e}n=s[t]={exports:{}},o[t][0].call(n.exports,function(e){return i(o[t][1][e]||e)},n,n.exports,a,o,s,r)}return s[t].exports}for(var c="function"==typeof require&&require,e=0;e<r.length;e++)i(r[e]);return i}({1:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var a=function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e};function o(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var s=u(e("./TimeWidget.jsx")),r=u(e("./accuweatherWidget.jsx")),i=u(e("./settings/settingsModal.jsx")),c=u(e("./googleApps/googleAppsPane.jsx")),l=u(e("../utils.jsx"));function u(e){return e&&e.__esModule?e:{default:e}}var e=SymBfw,d=(e.extensionAdapter,e.utils.isntNil,e.constants.BROWSER_TYPE.CHROME),e=NSSS,e=(e.uiConstants.MESSAGES,(e=>{var t=n;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);function n(e){if(this instanceof n)return(e=((e,t)=>{if(e)return!t||"object"!=typeof t&&"function"!=typeof t?e:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")})(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e))).state={showModal:e._canShowModal()},e._settingsIconClicked=e._settingsIconClicked.bind(e),e._settingsCloseClicked=e._settingsCloseClicked.bind(e),e;throw new TypeError("Cannot call a class as a function")}return t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e),a(n,[{key:"_canShowModal",value:function(){return!!l.default.isSettingsIconClick()}},{key:"_settingsIconClicked",value:function(e){"click"!==e.type&&13!==e.keyCode||(this.props.onSettingsIconClick(),this.setState({showModal:!0}))}},{key:"_settingsCloseClicked",value:function(){this.setState({showModal:!1}),this.props.onSettingsClose()}},{key:"render",value:function(){return React.createElement("div",{className:"settings-icon-container"},React.createElement("div",{className:"top-row-first-column"},this.props.settings.showWeatherWidget&&React.createElement(r.default,{strings:this.props.strings,widgetData:this.props.accuWeatherData})),React.createElement("div",{className:"top-row-second-column"},this.props.settings.showTimeWidget&&React.createElement(s.default,{localizedTimeUnit:this.props.localizedTimeUnit}),SymBfw.globals.BROWSER===d?React.createElement(c.default,{data:this.props.googleAppsData}):null,React.createElement("div",{className:"settings-icon-wrapper",onClick:this._settingsIconClicked,onKeyDown:this._settingsIconClicked,tabIndex:0},React.createElement("div",{className:"settings-icon"})),this.state.showModal&&React.createElement(i.default,{strings:this.props.strings,onCloseClick:this._settingsCloseClicked,settings:this.props.settings,backgroundImageData:this.props.backgroundImageData})))}}]),n})(React.Component));n.default=e},{"../utils.jsx":14,"./TimeWidget.jsx":2,"./accuweatherWidget.jsx":3,"./googleApps/googleAppsPane.jsx":6,"./settings/settingsModal.jsx":12}],2:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e)){var n=t,a=[],o=!0,t=!1,s=void 0;try{for(var r,i=e[Symbol.iterator]();!(o=(r=i.next()).done)&&(a.push(r.value),!n||a.length!==n);o=!0);}catch(e){t=!0,s=e}finally{try{!o&&i.return&&i.return()}finally{if(t)throw s}}return a}throw new TypeError("Invalid attempt to destructure non-iterable instance")},a=React,i=a.useEffect,c=a.useState;n.default=function(n){function e(){var e=(new Date).toLocaleString("en-US",{hour:"numeric",hour12:!0,minute:"numeric"}),t=e.split(" ")[1];return e.replace(t,n.localizedTimeUnit[t])}var t=void 0,a=c(e()),a=r(a,2),o=a[0],s=a[1];return i(function(){return t=!t&&setInterval(function(){s(e())},500),function(){return clearInterval(t)}},[o]),React.createElement("div",{className:"time-wrap"},React.createElement("span",{className:"time"},o),React.createElement("span",{className:"time-divider-vertical"}))}},{}],3:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var y=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e)){var n=t,a=[],o=!0,t=!1,s=void 0;try{for(var r,i=e[Symbol.iterator]();!(o=(r=i.next()).done)&&(a.push(r.value),!n||a.length!==n);o=!0);}catch(e){t=!0,s=e}finally{try{!o&&i.return&&i.return()}finally{if(t)throw s}}return a}throw new TypeError("Invalid attempt to destructure non-iterable instance")},R=React.useState,a=NSSS,b=a.constants,k=a.uiConstants.MESSAGES,S=SymBfw.extensionAdapter;n.default=function(e){function t(e,t){e.stopPropagation(),S.sendMessage({id:k.WEATHER_WIDGET_UNIT_CHANGED,weatherUnit:t}),h(!1)}function n(){v&&h(!1)}function a(e){"click"!==e.type&&13!==e.keyCode||S.sendMessage({id:k.WEATHER_WIDGET_CLICK,url:s.Link})}var o,s,r,i,c,l,u,d,m,g=b.CELSIUS,f=b.FARENHEIT,p=b.WEATHERIMAGE_URL,E=R(!1),E=y(E,2),v=E[0],h=E[1];return e.widgetData?(o=(E=e.widgetData).locationData,r=E.dateInformation,i=(u=e.strings).Fahrenheit,c=u.FarenheitUnit,l=u.Celsius,u=u.CelsiusUnit,p=p.replace("##WEATHER_ICON##",(s=E.weatherData).WeatherIcon),E=e.widgetData.weatherUnit===g,d=""+s.temperature.celsius,m=""+s.temperature.farenheit,React.createElement("div",{className:"accuweather-section",onClick:a,onKeyDown:a,tabIndex:0,onMouseLeave:n},React.createElement("img",{className:"weather-icon",src:p,onError:function(e){e.target.style.visibility="hidden"}}),React.createElement("section",{className:"accuweather-info"},React.createElement("div",{className:"weather-options",onClick:function(e){e.stopPropagation(),h(!v)}}),v&&React.createElement("div",{className:"weather-tooltip",onMouseLeave:n},React.createElement("div",{className:"weather-option "+(E?"":"selected"),onClick:function(e){return t(e,f)}},i),React.createElement("div",{className:"weather-option "+(E?"selected":""),onClick:function(e){return t(e,g)}},l)),React.createElement("div",{className:"weather-text"},E?d:m,E?u:c),React.createElement("div",{className:"weather-date"},r.day+", "+r.date+" "+r.month),React.createElement("div",{className:"weather-location"},o.City+", "+o.State),React.createElement("div",{className:"forecast-text"},React.createElement("span",null,e.strings["See Forecast"])),React.createElement("div",{className:"accuweather-text"})))):null}},{}],4:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var a=function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e};function o(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var s=NSSS,r=(s.backgroundImageManager,s.backgroundImageConstants),i=s.backgroundImageCompressor,c=s.trackerLoggerCS,l=SymBfw.logger,s=(a(u,null,[{key:"_setBodyImage",value:function(e){var t=document.getElementsByTagName("body");t&&t[0]&&(e?(t[0].setAttribute("style","background-image: url("+e+");background-repeat: no-repeat;background-size: cover;background-position: center;"),t[0].classList.add("custombg")):(t[0].setAttribute("style","background-image: none"),t[0].classList.remove("custombg")))}},{key:"handleCustomImageFileSelected",value:async function(e){var t=new FileReader,e=e.target.files[0],n=null,n=(n=i.isSupportedForCompression(e)?await i.compressImage(e):n)||e;t.onload=function(t){NSSS.backgroundImageManager.setBackgroundImageData({isEnabled:!0,imageType:r.IMAGE_TYPE.CUSTOM_IMAGE,image:t.target.result}).then(function(e){e&&!1!==e.isEnabled?(e.image=t.target.result,u.applyBackgroundImage(e)):(l.error("Setting custom background image failed"),c.logEvent(c.LOG_TYPE.ERROR,"Setting custom background image failed"))}).catch(function(e){return l.error("Error while setting custom background image")})},t.readAsDataURL(n)}},{key:"handleExtensionImageSelected",value:async function(e){NSSS.backgroundImageManager.setBackgroundImageData({isEnabled:!0,imageType:r.IMAGE_TYPE.EXTN_IMAGE,imageId:e}).then(function(e){e&&!1!==e.isEnabled?u.applyBackgroundImage(e):(l.error("Setting extension background image failed"),c.logEvent(c.LOG_TYPE.ERROR,"Setting extension background image failed"))}).catch(function(e){return l.error("Error while setting extension background image")})}},{key:"disableBackgroundImage",value:function(){NSSS.backgroundImageManager.setBackgroundImageData({isEnabled:!1,customImageClose:0<arguments.length&&void 0!==arguments[0]&&arguments[0]}).then(function(e){e&&!0!==e.isEnabled?u.applyBackgroundImage(null):(l.error("Disabling background image failed"),c.logEvent(c.LOG_TYPE.ERROR,"Disabling background image failed"))}).catch(function(e){return l.error("Error while disabling extension background image")})}},{key:"applyBackgroundImage",value:function(t){var e;t&&!1!==t.isEnabled?(t.imageType===r.IMAGE_TYPE.EXTN_IMAGE?(e=r.EXTN_BACKGROUND_IMAGES.find(function(e){return e.imageId===t.imageId}),e=r.BACKGROUND_IMAGES_CDN_PATH+e.fileName,u._setBodyImage(e)):u._setBodyImage(t.image),l.log(t.imageType+" background image file set successfully"),c.logEvent(c.LOG_TYPE.LOG,t.imageType+" background image file set successfully")):u._setBodyImage(null)}}]),u);function u(){if(!(this instanceof u))throw new TypeError("Cannot call a class as a function")}n.default=s},{}],5:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var a=function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e};function o(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var e=e("../../utils.jsx"),s=(e=e)&&e.__esModule?e:{default:e};var r=NSSS.constants.KEY_CODES,i=SymBfw.utils;function c(){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function")}a(c,null,[{key:"handleKeyDown",value:function(e,t,n){s.default.isTrustedEvent(e)&&i.isFunction(t)&&i.isFunction(n)&&(e.keyCode===r.ENTER_KEY?(t(e),e.preventDefault()):e.keyCode===r.ESCAPE_KEY&&(n(e),e.preventDefault()))}}]),n.default=c},{"../../utils.jsx":14}],6:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var g=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e)){var n=t,a=[],o=!0,t=!1,s=void 0;try{for(var r,i=e[Symbol.iterator]();!(o=(r=i.next()).done)&&(a.push(r.value),!n||a.length!==n);o=!0);}catch(e){t=!0,s=e}finally{try{!o&&i.return&&i.return()}finally{if(t)throw s}}return a}throw new TypeError("Invalid attempt to destructure non-iterable instance")},f=o(e("./googleAppsPopup.jsx")),p=o(e("../../utils.jsx")),a=o(e("./googleAppsHelper.jsx")),E=e("../homePageTour.jsx");function o(e){return e&&e.__esModule?e:{default:e}}var v=React.useState,e=SymBfw,h=e.utils,y=e.extensionAdapter,R=a.default.handleKeyDown;n.default=function(e){var t,n,a,o,s,r,i,c,l,u,d,m;return h.isNil(e.data)||!h.isArray(e.data.configs)||h.isNil(e.data.strings)?null:(t=(n=e.data).configs,n=n.strings,o=a=s=void 0,s=!h.isNil(e.tourData)&&(a=e.tourData.tourData,o=e.tourData.tourAction,e.tourData.tourStepEnabled),u=v(!1),u=g(u,2),r=u[0],i=u[1],c=function(){return i(!r)},l=function(){return i(!1)},u="google-apps-icon-div",u+=r?" dark-icon":" bright-icon",d=s?"tour-focus-element-icon":null,m=s?"tour-focus-element-popup":null,e=e.data.strings.tourStrings,React.createElement("div",{className:"googleAppsSection"},s?React.createElement(E.SemiTransparentBackground,{onClick:function(){o(a.nextStep)}}):null,React.createElement("div",{className:"google-apps-container"},s&&(0,E.getTooltipComponent)(e,a,o),React.createElement("div",{className:d},React.createElement("div",{tabIndex:"0",className:u,onClick:function(e){p.default.isTrustedEvent(e)&&i(!r)},onKeyDown:function(e){return R(e,c,l)}},React.createElement("img",{className:"google-apps-icon",src:y.getExtensionURL("content/images/hp-google-apps-grid-icon.svg"),alt:"Google Apps"}))),React.createElement("div",{className:m},(r||s)&&React.createElement(f.default,{strings:n,configs:t,onClickOutside:function(){i(!1)}})))))}},{"../../utils.jsx":14,"../homePageTour.jsx":8,"./googleAppsHelper.jsx":5,"./googleAppsPopup.jsx":7}],7:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var d=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e)){var n=t,a=[],o=!0,t=!1,s=void 0;try{for(var r,i=e[Symbol.iterator]();!(o=(r=i.next()).done)&&(a.push(r.value),!n||a.length!==n);o=!0);}catch(e){t=!0,s=e}finally{try{!o&&i.return&&i.return()}finally{if(t)throw s}}return a}throw new TypeError("Invalid attempt to destructure non-iterable instance")},a=o(e("./googleAppsHelper.jsx")),m=o(e("../../utils.jsx"));function o(e){return e&&e.__esModule?e:{default:e}}function g(t){function n(e){m.default.isTrustedEvent(e)&&(y.sendMessage({name:s.MORE_GOOGLE_APPS_CLICKED}),t.onEscPress(e))}return React.createElement("div",{className:"more-google-apps-container",onClick:n,onKeyDown:function(e){return r(e,n,t.onEscPress)}},React.createElement("div",{tabIndex:"0",className:"more-google-apps-image-container"},React.createElement("img",{src:y.getExtensionURL("content/images/hp-google-apps-more-icon.svg"),alt:"More Google Apps"})),React.createElement("span",{className:"more-google-apps-text"},t.strings.moreAppsText))}function f(t){var n,a=t.name,o=t.url,e=t.spriteImagePosition;return h.isNil(a)||h.isNil(o)||h.isNil(e)?null:(n=function(e){m.default.isTrustedEvent(e)&&(y.sendMessage({name:s.GOOGLE_APP_CLICKED,message:{appName:a,url:o}}),t.onEscPress(e))},React.createElement("div",{tabIndex:"0",className:"google-app",onClick:n,onKeyDown:function(e){r(e,n,t.onEscPress)}},React.createElement("div",{className:"google-app-image-div"},React.createElement("span",{className:"google-app-image",style:{backgroundPosition:e}})),React.createElement("span",{className:"google-app-name"},a)))}var p=React.useEffect,E=React.useRef,v=React.useState,e=SymBfw,h=e.utils,y=e.extensionAdapter,s=NSSS.uiConstants.MESSAGES,r=a.default.handleKeyDown;n.default=function(t){var n,e,a,o,s=t.configs,r=t.strings,i=t.onClickOutside,c=v({}),c=d(c,2),l=c[0],u=c[1];return h.isArray(s)&&!h.isEmptyObject(r)&&h.isFunction(i)?(n=E(null),e=function(e){m.default.isTrustedEvent(e)&&e.target!==n.current&&t.onClickOutside(e)},a=function(){var e=document.querySelector(".googleAppsSection"),e=e?e.getBoundingClientRect():{left:1200,bottom:90},t=document.getElementsByTagName("body")[0].getAttribute("dir"),t=e.left-("ltr"===t?310:0),e=e.bottom+5;u({left:t,top:e})},o=m.default.debounce(function(){a()},10),p(function(){return a(),document.addEventListener("click",e),window.addEventListener("resize",o),window.addEventListener("scroll",a,!0),y.sendMessage({name:NSSS.uiConstants.MESSAGES.GOOGLE_APPS_POPUP_SHOWN}),function(){document.removeEventListener("click",e),window.removeEventListener("resize",o),window.removeEventListener("scroll",a,!0)}},[]),(c=s.map(function(e,t){return React.createElement(f,{key:t,name:e.name,spriteImagePosition:e.spriteImagePosition,url:e.url,onEscPress:i})})).push(React.createElement(g,{key:"more-apps",onEscPress:i,strings:r})),React.createElement("div",{className:"google-apps-popup",ref:n,style:{left:l.left,top:l.top,position:"fixed"}},c)):null}},{"../../utils.jsx":14,"./googleAppsHelper.jsx":5}],8:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getAutoHideTooltipComponent=n.getTooltipComponent=n.SemiTransparentBackground=n.HPTourTooltipAutoHide=n.HPTourTooltip=n.HPTourWelcome=void 0;var a=function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e};function o(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var e=e("../utils.jsx"),r=(e=e)&&e.__esModule?e:{default:e};function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(e)return!t||"object"!=typeof t&&"function"!=typeof t?e:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var l=SymBfw.extensionAdapter,u=(NSSS.uiConstants,c(d,React.Component),a(d,[{key:"componentDidMount",value:function(){this.tooltipRef.current.scrollIntoView({behavior:"smooth",block:"center",inline:"center"})}},{key:"onClickActionButton",value:function(e){r.default.isTrustedEvent(e)&&(e.stopPropagation(),this.props.tourAction(this.props.nextStep))}},{key:"render",value:function(){var t=this,e=this.props.titleText?React.createElement("div",{className:"tour-tooltip-title"}," ",this.props.titleText," "):null,n=this.props.titleText?" tour-tooltip-description tour-tooltip-description-small ":" tour-tooltip-description ",a=this.props.pageNumberText?React.createElement("div",{className:"tour-tooltip-page-number-text-container"}," ",React.createElement("div",{className:"tour-tooltip-page-number-text"}," ",this.props.pageNumberText," ")," "):null,o=this.props.buttonText?React.createElement("div",{className:"button-yellow-bg tour-tooltip-action-button",onClick:this.onClickActionButton}," ",React.createElement("div",{className:"tour-tooltip-action-button-text"}," ",this.props.buttonText," ")," "):null,s=this.props.toolTipCss||"tour-tooltip-container";return React.createElement("div",{className:" "+s+" "+this.props.positionCSS+" ",ref:this.tooltipRef,onClick:function(e){r.default.isTrustedEvent(e)&&t.props.tourAction(t.props.nextStep)}},React.createElement("div",{className:" tour-tooltip-title-and-description-container "},e,React.createElement("div",{className:n}," ",this.props.descriptionText," "),a,o))}}]),d);function d(e){s(this,d);e=i(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,e));return e.tooltipRef=React.createRef(),e.onClickActionButton=e.onClickActionButton.bind(e),e}c(g,React.Component),a(g,[{key:"componentDidMount",value:function(){var e=this;this.tooltipRef.current.scrollIntoView({behavior:"smooth",block:"center"}),setTimeout(function(){e.setState({hide:!0})},1e4)}},{key:"render",value:function(){return!0===this.state.hide?null:React.createElement("div",{className:" tour-tooltip-for-settings-icon "+this.props.positionCSS+" ",ref:this.tooltipRef},React.createElement("div",{className:" tour-tooltip-icon-container "}," ",React.createElement("img",{src:l.getExtensionURL(this.props.iconPath),className:" tour-tooltip-icon "})," "),React.createElement("div",{className:" tour-tooltip-title-and-description-container padding-left-20px "},React.createElement("div",{className:" tour-tooltip-auto-hide-description "}," ",this.props.descriptionText," ")))}}]);var m=g;function g(e){s(this,g);e=i(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,e));return e.tooltipRef=React.createRef(),e.state={hide:!1},e}n.HPTourWelcome=function(t){return!0!==t.tourStepEnabled?null:React.createElement("div",{className:"tour-welcome-outer-container  "+(t.tourData?" semi-transparent-layer ":""),onClick:function(e){r.default.isTrustedEvent(e)&&t.tourAction(t.tourData.nextStep)}},React.createElement("div",{className:"tour-welcome-container"},React.createElement("div",{className:"tour-title"}," ",t.strings["Welcome to Norton Safe Search"]," "),React.createElement("div",{className:"tour-description"}," ",t.strings["Take a tour to see what has changed and make the most of your Safe Search features."]," "),React.createElement("div",{className:"button-yellow-bg tour-start-button",onClick:function(e){r.default.isTrustedEvent(e)&&t.tourAction(t.tourData.nextStep)}}," ",React.createElement("div",{className:"start-button-text"}," ",t.strings["Start Tour"]," ")," ")))},n.HPTourTooltip=u,n.HPTourTooltipAutoHide=m,n.SemiTransparentBackground=function(t){return React.createElement("div",{className:" semi-transparent-layer ",onClick:function(e){r.default.isTrustedEvent(e)&&t.onClick()}})},n.getTooltipComponent=function(e,t,n){return React.createElement(u,{positionCSS:t.positionCSS,descriptionText:e[t.descriptionText],titleText:e[t.titleText],buttonText:e[t.buttonText],nextStep:t.nextStep,pageNumberText:t.pageNumberText,tourAction:n,toolTipCss:t.toolTipCss})},n.getAutoHideTooltipComponent=function(e,t,n){return React.createElement(m,{positionCSS:t.positionCSS,autoHideTooltip:t.autoHideTooltip,cssClassName:t.cssClassName,iconPath:t.iconPath,descriptionText:e[t.descriptionText],tourAction:n})}},{"../utils.jsx":14}],9:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var g=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e)){var n=t,a=[],o=!0,t=!1,s=void 0;try{for(var r,i=e[Symbol.iterator]();!(o=(r=i.next()).done)&&(a.push(r.value),!n||a.length!==n);o=!0);}catch(e){t=!0,s=e}finally{try{!o&&i.return&&i.return()}finally{if(t)throw s}}return a}throw new TypeError("Invalid attempt to destructure non-iterable instance")},e=e("../backgroundImage/backgroundImageHelper.jsx"),f=(e=e)&&e.__esModule?e:{default:e};var p=React.useState,E=React.useEffect,v=NSSS.uiConstants;n.default=function(t){function s(){var t=React.createRef();return React.createElement("div",{className:"gallery-image-upload-section",tabIndex:0,onKeyDown:function(e){13===e.keyCode&&(t.current&&t.current.click(),e.preventDefault())}},React.createElement("label",{for:"file-upload",class:"gallery-input-wrap"},l["Choose an image from your device"]),React.createElement("input",{class:"gallery-input",id:"file-upload",type:"file",accept:"image/*",ref:t,onChange:function(e){return f.default.handleCustomImageFileSelected(e)}}))}function r(e){function t(e){"click"!==e.type&&13!==e.keyCode||a()}var n=e.selected,a=e.handleClick;return React.createElement("div",{className:"gallery-image default-image "+(n?"selected":""),onClick:t,onKeyDown:t,tabIndex:0},React.createElement("div",{className:"default-image-text"},l["Default theme"]))}function i(e){function t(e){"click"!==e.type&&13!==e.keyCode||f.default.disableBackgroundImage(!0)}return React.createElement("div",{className:"gallery-image-custom",style:{backgroundImage:"url("+e.image+")"}},React.createElement("span",{className:"custom-image-delete",onClick:t,onKeyDown:t,tabIndex:0}))}function c(e){function t(e){"click"===e.type||13===e.keyCode?n(a):9===e.keyCode&&o&&(e.stopPropagation(),e.preventDefault(),m.current)&&m.current.focus()}var n=e.onClick,a=e.imageId,o=e.isLastElement;return React.createElement("div",{className:"gallery-image "+a+" "+(e.selected?"selected":""),onClick:t,onKeyDown:t,tabIndex:0})}var l=t.strings,u=t.backgroundImageData,d=u&&u.isEnabled&&u.imageType===NSSS.backgroundImageConstants.IMAGE_TYPE.CUSTOM_IMAGE,m=React.createRef();return ReactDOM.createPortal(React.createElement(function(){var n=NSSS.backgroundImageConstants.EXTN_BACKGROUND_IMAGES,e=p((e=u)&&e.imageId?e.imageId:e&&e.imageType===NSSS.backgroundImageConstants.IMAGE_TYPE.CUSTOM_IMAGE?null:v.DEFAULT_IMAGE),e=g(e,2),a=e[0],o=e[1];E(function(){function e(e){27===e.keyCode&&t.onClose()}return document.addEventListener("keydown",e,!1),function(){return document.removeEventListener("keydown",e,!1)}},[]);return React.createElement("div",{className:"gallery-modal"},React.createElement("div",{className:"gallery-container"},React.createElement("div",{className:"gallery-modal-inner"},React.createElement("div",{className:"gallery-header"},React.createElement("section",null,React.createElement("div",{className:"gallery-heading"},l.Gallery),React.createElement("div",{className:"gallery-desc"},l["Choose from one of five images"])),React.createElement("div",{className:"gallery-close",tabIndex:0,ref:m,onClick:t.onClose,onKeyDown:function(e){13===e.keyCode&&t.onClose()}})),React.createElement("div",{className:"gallery-image-section"},d?React.createElement(i,{image:u&&u.image}):React.createElement(s,null),React.createElement(r,{selected:a===v.DEFAULT_IMAGE,handleClick:function(){o(v.DEFAULT_IMAGE),f.default.disableBackgroundImage()}}),n.map(function(t,e){return React.createElement(c,{selected:a===t.imageId,imageId:t.imageId,onClick:function(){return e=t.imageId,o(e),void f.default.handleExtensionImageSelected(e);var e},isLastElement:e===n.length-1})})))))},null),document.body)}},{"../backgroundImage/backgroundImageHelper.jsx":4}],10:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});n.default=function(e){var t=e.inputType,n=e.onChange;return React.createElement("div",{className:t+"-wrapper",onClick:n,tabIndex:0,onKeyDown:function(e){13===e.keyCode&&n()}},React.createElement("input",{type:"checkbox",className:t+"-input",checked:e.checked,tabIndex:-1}),React.createElement("div",{className:t+"-area"}))}},{}],11:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var u=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e)){var n=t,a=[],o=!0,t=!1,s=void 0;try{for(var r,i=e[Symbol.iterator]();!(o=(r=i.next()).done)&&(a.push(r.value),!n||a.length!==n);o=!0);}catch(e){t=!0,s=e}finally{try{!o&&i.return&&i.return()}finally{if(t)throw s}}return a}throw new TypeError("Invalid attempt to destructure non-iterable instance")},d=React.useState;n.default=function(a){function o(e){(e=document.querySelector(".option-"+e))&&e.focus()}function e(e){"click"===e.type||13===e.keyCode?(e.stopPropagation(),e.preventDefault(),r(!n)):40===e.keyCode&&n&&o(0)}function s(e,t,n){"click"===e.type||13===e.keyCode?(c(t.id),r(!1),a.onClick&&a.onClick(t.id)):9!==e.keyCode||e.shiftKey||n!==l.length-1?40===e.keyCode?o(n+1):38===e.keyCode&&o(n-1):r(!1)}var t=d(!1),t=u(t,2),n=t[0],r=t[1],t=d(a.selectedId||0),t=u(t,2),i=t[0],c=t[1],l=a.options;return React.createElement("div",{className:"select-wrapper"},React.createElement("div",null,React.createElement("button",{type:"button",className:"select-container",onClick:e,onKeyDown:e},l[i].value),n&&React.createElement("ul",{className:"options-wrap",tabIndex:-1},l.map(function(t,n){return React.createElement("li",{tabIndex:0,className:"select-option "+(t.id===i?"selected":"")+" option-"+n,onClick:function(e){return s(e,t)},onKeyDown:function(e){return s(e,t,n)}},t.value)}))))}},{}],12:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var F=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e)){var n=t,a=[],o=!0,t=!1,s=void 0;try{for(var r,i=e[Symbol.iterator]();!(o=(r=i.next()).done)&&(a.push(r.value),!n||a.length!==n);o=!0);}catch(e){t=!0,s=e}finally{try{!o&&i.return&&i.return()}finally{if(t)throw s}}return a}throw new TypeError("Invalid attempt to destructure non-iterable instance")},Y=a(e("./toggleSwitch.jsx")),V=a(e("./inputField.jsx")),z=a(e("./select.jsx")),q=a(e("./galleryModal.jsx"));function a(e){return e&&e.__esModule?e:{default:e}}function X(e){var t=e.buttonClass;return React.createElement("div",{className:t&&"button-settings-div "+t,onClick:e.handleClick,tabIndex:0,onKeyDown:e.handleKeyDown},React.createElement("div",{className:"button-settings"},React.createElement("span",{className:e.spanClass},e.strings[e.buttonText])))}var e=NSSS,Q=(e.nsssDarkMode,e.uiConstants.MESSAGES),Z=e.bookmarksController,$=e.mostVisitedSitesController,J=React.useEffect,ee=React.useState,te=SymBfw.extensionAdapter;n.default=function(e){async function t(){var e=!p;await Z.hasBookmarksPermission()||await Z.requestBookmarksPermission()||(e=!1),E(e),P({showBookmark:e}),te.sendMessage({id:Q.BOOKMARKS_TOGGLE,message:{shouldShowBookmarks:e}})}async function n(){var e=!v;v||await $.requestTopSitesPermission()||(e=!1),h(e),y(!e),P({showMostVisitedSites:e}),te.sendMessage({id:Q.MOST_VISITED_SITES_TOGGLE,message:{shouldShowMostVisitedSites:e}})}function a(e){"click"!==e.type&&13!==e.keyCode||I(!0)}function o(e){13===e.keyCode?O():9===e.keyCode&&(e.stopPropagation(),e.preventDefault(),M.current)&&M.current.focus()}function j(){C(!w),te.sendMessage({name:Q.SET_TELEMETRY_ENABLED,message:!w})}function B(){b(!R),P({showWeatherWidget:!R}),te.sendMessage({id:Q.WEATHER_SETTINGS_TOGGLED})}function G(){S(!k),P({showTimeWidget:!k}),te.sendMessage({name:Q.TIME_WIDGET_SETTINGS_TOGGLED,message:{showTimeWidget:!k}})}function L(){f(!g),P({newTabChecked:!g}),te.sendMessage({name:Q.NEW_TAB_SEARCH_TOGGLED,message:{newTabSearchEnabled:!g}})}function s(e){"click"===e.type||13===e.keyCode?te.sendMessage({name:Q.SETTINGS_PRIVACY_POLICY}):9===e.keyCode&&(e.stopPropagation(),e.preventDefault(),M.current)&&M.current.focus()}function r(e){27===e.keyCode&&l()}function W(e){13===e.keyCode&&l()}var i=e.strings,c=void 0===i?{}:i,l=e.onCloseClick,i=e.settings,e=e.backgroundImageData,u=ee(!0),u=F(u,2),d=u[0],m=u[1],u=ee(!0),u=F(u,2),g=u[0],f=u[1],u=ee(i.showBookmark),u=F(u,2),p=u[0],E=u[1],u=ee(i.showMostVisitedSites),u=F(u,2),v=u[0],h=u[1],u=ee(!0),u=F(u,2),y=(u[0],u[1]),u=ee(i.showWeatherWidget),u=F(u,2),R=u[0],b=u[1],u=ee(!0),u=F(u,2),k=u[0],S=u[1],u=ee(!1),u=F(u,2),U=u[0],N=u[1],u=ee(i.isTelemetryEnabled),i=F(u,2),w=i[0],C=i[1],u=ee(null),i=F(u,2),T=i[0],_=i[1],u=ee(!1),i=F(u,2),u=i[0],I=i[1],x=SymBfw.globals.BROWSER===SymBfw.constants.BROWSER_TYPE.FIREFOX,K=SymBfw.globals.BROWSER===SymBfw.constants.BROWSER_TYPE.EDGE_CHROMIUM,A=React.createRef(),M=React.createRef(),H=[{id:0,value:c["Light mode"]},{id:1,value:c["Dark mode"]}],D={newTabChecked:g,showBookmark:p,showMostVisitedSites:v,isCustomDarkMode:T,showWeatherWidget:R,showTimeWidget:k,showBgImage:U},O=function(){te.sendMessage({name:Q.RESET_HP_DEFAULT_SETTINGS},function(e){f((D=e).newTabChecked),E(e.showBookmark),h(e.showMostVisitedSites),y(!e.showMostVisitedSites),_(e.isCustomDarkMode),b(e.showWeatherWidget),S(e.showTimeWidget),N(e.backgroundImageData.isEnabled)})},P=function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1];D[Object.keys(e)[0]]=Object.values(e)[0],D.customThemeToggle=t,te.sendMessage({name:Q.SAVE_HP_SETTINGS,message:D})};J(function(){te.sendMessage({name:Q.GET_HP_DEFAULT_SETTINGS},function(e){f((D=e).newTabChecked),E(e.showBookmark),h(e.showMostVisitedSites),y(!e.showMostVisitedSites),_(e.isCustomDarkMode),b(e.showWeatherWidget),S(e.showTimeWidget),N(e.backgroundImageData.isEnabled),C(e.isTelemetryEnabled)})}),J(function(){A.current&&A.current.focus()},[]),J(function(){return document.addEventListener("keydown",r,!1),function(){return document.removeEventListener("keydown",r,!1)}},[]);return u?React.createElement(q.default,{strings:c,backgroundImageData:e,onClose:function(){return I(!1)}}):ReactDOM.createPortal(React.createElement(function(){return React.createElement("div",{className:"settings-wrapper"},React.createElement("section",{className:"settings-modal"},React.createElement("section",{className:"settings-header"},React.createElement("div",{className:"header-text"},c.Settings),React.createElement("div",{className:"settings-close",tabIndex:0,onClick:l,ref:M,onKeyDown:W})),React.createElement("section",{className:"settings-area"},React.createElement("section",{className:"settings-body"},React.createElement("section",{className:"settings-sidebar "+(x?"moz-sidebar":"")},React.createElement("div",{className:"sidebar-item "+(d?"highlight":""),onClick:function(){m(function(e){return!e})},tabIndex:0,onKeyDown:function(e){13===e.keyCode&&m(function(e){return!e})},ref:A},c.General),React.createElement("div",{className:"sidebar-item "+(d?"":"highlight"),onClick:function(){m(function(e){return!e})},tabIndex:0,onKeyDown:function(e){13===e.keyCode&&m(function(e){return!e})}},c.Other)),React.createElement("section",{className:"settings-content "+(x?"moz-settings-content":"")},d?React.createElement("div",null,React.createElement("div",{className:"settings-row"},React.createElement("div",{className:"settings-left-column"},React.createElement("div",{className:"settings-text"},c["New tab"]),React.createElement("div",{className:"settings-subtext"},c["Launch the search links in a new tab"])),React.createElement("div",{className:"settings-right-column"},React.createElement("div",{className:"settings-input"},React.createElement(Y.default,{checked:g,onChange:L})))),!x&&React.createElement("div",{className:"settings-row"},React.createElement("div",{className:"settings-left-column"},React.createElement("div",{className:"settings-text"},K?c["Show favorites bar"]:c["Show bookmark bar"]),React.createElement("div",{className:"settings-subtext"},c["Requires additional permission"])),React.createElement("div",{className:"settings-right-column"},React.createElement("div",{className:"settings-input bookmarks-toggle"},React.createElement(Y.default,{checked:p,onChange:t})))),React.createElement("div",{className:"settings-subheader"},React.createElement("span",null,c["Quick links"])),React.createElement("div",{className:"settings-row most-visited"},React.createElement("div",{className:"settings-left-column"},React.createElement("div",{className:"settings-text"},c["Most-visited sites"]),React.createElement("div",{className:"settings-subtext"},c["Shown based on websites"])),React.createElement("div",{className:"settings-right-column"},React.createElement("div",{className:"settings-input"},React.createElement(V.default,{inputType:"radio",checked:v,onChange:n})))),React.createElement("div",{className:"settings-row"},React.createElement("div",{className:"settings-left-column"},React.createElement("div",{className:"settings-text"},c["Custom quick links"]),React.createElement("div",{className:"settings-subtext"},c["Quick links added by you"])),React.createElement("div",{className:"settings-right-column"},React.createElement("div",{className:"settings-input"},React.createElement(V.default,{inputType:"radio",checked:!v,onChange:n})))),React.createElement("div",{className:"settings-subheader"},React.createElement("span",null,c.Customize)),React.createElement("div",{className:"settings-row"},React.createElement("div",{className:"settings-left-column"},React.createElement("div",{className:"settings-text"},c["Extension theme"])),React.createElement("div",{className:"settings-right-column"},React.createElement("div",{className:"settings-input"},React.createElement(z.default,{options:H,selectedId:T?1:0,onClick:function(e){_(1===e),P({isCustomDarkMode:1===e},!0)}})))),React.createElement("div",{className:"settings-row customize-weather"},React.createElement("div",{className:"settings-left-column"},React.createElement("div",{className:"settings-text"},c["Show weather widget"])),React.createElement("div",{className:"settings-right-column"},React.createElement("div",{className:"settings-input"},React.createElement(Y.default,{checked:R,onChange:B})))),React.createElement("div",{className:"settings-row customize"},React.createElement("div",{className:"settings-left-column"},React.createElement("div",{className:"settings-text"},c["Show time widget"])),React.createElement("div",{className:"settings-right-column"},React.createElement("div",{className:"settings-input time-widget"},React.createElement(Y.default,{checked:k,onChange:G})))),React.createElement("div",{className:"settings-row customize"},React.createElement("div",{className:"settings-left-column"},React.createElement("div",{className:"settings-text"},c.Background)),React.createElement("div",{className:"settings-right-column"},React.createElement("div",{className:"settings-input"},React.createElement(X,{buttonClass:"choose-button",buttonText:"Choose",strings:c,handleClick:a,handleKeyDown:a}))))):React.createElement("div",null,React.createElement("div",{className:"settings-subheader other-header"},React.createElement("span",null,c["SHARE DATA WITH NORTON"])),React.createElement("div",{className:"settings-row"},React.createElement("div",{className:"settings-left-column other-row"},React.createElement("div",{className:"settings-text"},c["Share usage and error data anonymously"])),React.createElement("div",{className:"settings-right-column"},React.createElement("div",{className:"settings-input share-data"},React.createElement(Y.default,{checked:w,onChange:j})))),React.createElement("div",{className:"settings-row privacy"},React.createElement("div",{className:"settings-left-column"},React.createElement("span",{className:"privacy-link",onClick:s,tabIndex:0,onKeyDown:s},c.Privacy)))))),React.createElement("section",{className:"settings-footer"},d&&React.createElement("div",{className:"restore-button-div"},React.createElement(X,{buttonClass:"restore-button",spanClass:"restore-button-span",buttonText:"Restore to default",strings:c,handleClick:O,handleKeyDown:o}))))))},null),document.body)}},{"./galleryModal.jsx":9,"./inputField.jsx":10,"./select.jsx":11,"./toggleSwitch.jsx":13}],13:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});n.default=function(e){var t=e.onChange,e=e.checked;return React.createElement("div",null,React.createElement("label",{className:"toggle-switch",tabIndex:0,onKeyDown:function(e){13===e.keyCode&&t()}},React.createElement("input",{type:"checkbox",className:"toggle-check",onChange:t,checked:void 0!==e&&e,tabIndex:-1}),React.createElement("span",{className:"toggle-area"})))}},{}],14:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var a=function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e};function o(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var s=SymBfw,r=s.utils,i=r.isntNil,c=r.isString,l=s.extensionAdapter,u=NSSS.uiConstants.MESSAGES,r=(a(d,null,[{key:"setDirection",value:function(e){var t=document.getElementsByTagName("body");i(t)&&i(t[0])&&t[0].setAttribute("dir",e)}},{key:"isTrustedEvent",value:function(e){if(SymBfw.utils.isNil(e))throw new Error("event should not be null");return e.isTrusted}},{key:"constructURL",value:function(e){return e=!SymBfw.utils.isString(e)||""===e||e.startsWith("http://")||e.startsWith("https://")||e.startsWith("ftp://")?e:"https://"+e}},{key:"isValidUrl",value:function(e){if(!/^[a-zA-Z0-9#%@&_\-=:\\.\/?]*$/.test(e))return!1;try{new URL(e)}catch(e){return!1}return!0}},{key:"getDocumentUrl",value:function(){return location.href}},{key:"debounce",value:function(t,n){var a=this,o=arguments,s=void 0;return function(e){s&&clearTimeout(s),s=setTimeout(function(e){s=null,t.apply(a,o)},n)}}},{key:"getFavIconUrl",value:function(e){return l.getExtensionURL("_favicon/?pageUrl="+encodeURIComponent(e)+"&size=32")}},{key:"getTooltipTitle",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:40,e=e&&e.length>n?e.slice(0,n)+"...":e,n=t&&t.length>n?t.slice(0,n)+"...":t;return e&&n?e+"\n"+n:e||n}},{key:"sendBookmarksClickeEventToBG",value:function(e){l.sendMessage({id:u.BOOKMARKS_URL_CLICKED,message:{url:e}})}},{key:"isSettingsIconClick",value:function(){var e=new URL(this.getDocumentUrl()).searchParams.get(NSSS.constants.LAUNCHED_ON);return!(!c(e)||e!==NSSS.constants.SETTINGS_CLICK)}}]),d);function d(){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function")}n.default=r},{}]},{},[1]);