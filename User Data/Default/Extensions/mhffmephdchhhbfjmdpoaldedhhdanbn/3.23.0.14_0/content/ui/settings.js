!function a(r,s,i){function c(t,e){if(!s[t]){if(!r[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(l)return l(t,!0);throw(e=new Error("Cannot find module '"+t+"'")).code="MODULE_NOT_FOUND",e}n=s[t]={exports:{}},r[t][0].call(n.exports,function(e){return c(r[t][1][e]||e)},n,n.exports,a,r,s,i)}return s[t].exports}for(var l="function"==typeof require&&require,e=0;e<i.length;e++)c(i[e]);return c}({1:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});n.default=function(e){var t=e.onChange,e=e.checked;return React.createElement("div",null,React.createElement("label",{className:"toggle-switch",tabIndex:0,onKeyDown:function(e){13===e.keyCode&&t()}},React.createElement("input",{type:"checkbox",className:"toggle-check",onChange:t,checked:void 0!==e&&e,tabIndex:-1}),React.createElement("span",{className:"toggle-area"})))}},{}],2:[function(s,e,i){!function(n){!function(){Object.defineProperty(i,"__esModule",{value:!0});var E=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e)){var n=t,a=[],r=!0,t=!1,s=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(a.push(i.value),!n||a.length!==n);r=!0);}catch(e){t=!0,s=e}finally{try{!r&&c.return&&c.return()}finally{if(t)throw s}}return a}throw new TypeError("Invalid attempt to destructure non-iterable instance")},v=e(s("./utils.jsx")),a=e(s("./homePage/settings/toggleSwitch.jsx"));function e(e){return e&&e.__esModule?e:{default:e}}function R(e){var t=e.strings,n=e.closeModal,e=e.closeButtonRef;return React.createElement("section",{className:"settings-header"},React.createElement("div",{className:"header-text"},(void 0===t?{}:t).Settings),React.createElement("div",{className:"settings-close",tabIndex:0,onClick:n,ref:e}))}function h(e){var t=void 0===(t=e.strings)?{}:t,n=e.linkGuardSupport,e=e.handleLinkGuardToggle;return React.createElement("div",null,React.createElement("div",{className:"settings-subheader"},React.createElement("span",null,t["Link Guard"])),React.createElement("div",{className:"settings-row"},React.createElement("div",{className:"settings-left-column other-row"},React.createElement("div",{className:"settings-text"},t["Identify unsafe links in Webmail, Facebook, and Twitter"])),React.createElement("div",{className:"settings-right-column"},React.createElement("div",{className:"settings-input share-data linkGuard-toggle"},React.createElement(a.default,{checked:n,onChange:e})))))}function S(e){var t=void 0===(t=e.strings)?{}:t,e=e.startTourClicked;return React.createElement("div",{className:"settings-row tour"},React.createElement("div",null,React.createElement("span",{className:"tour-link",onClick:e,tabIndex:0,onKeyDown:e},t["Start Tour"]),React.createElement("span",{className:"new-flag"}," ",t.New," ")))}function y(e){var t=void 0===(t=e.strings)?{}:t,n=e.shareDataChecked,e=e.handleShareDataToggle;return React.createElement("div",null,React.createElement("div",{className:"settings-subheader other-header"},React.createElement("span",null,t["Share Data with Norton"])),React.createElement("div",{className:"settings-row"},React.createElement("div",{className:"settings-left-column other-row"},React.createElement("div",{className:"settings-text"},t["Share usage and error data anonymously with Norton and help us make our products even better"])),React.createElement("div",{className:"settings-right-column"},React.createElement("div",{className:"settings-input share-data telemetry-toggle"},React.createElement(a.default,{checked:n,onChange:e})))))}function p(e){var t=e.strings,e=e.privacyPolicyClicked;return React.createElement("div",{className:"settings-row privacy"},React.createElement("div",{className:"settings-left-column"},React.createElement("span",{className:"privacy-link",onClick:e,tabIndex:0,onKeyDown:e},(void 0===t?{}:t).Privacy)))}function N(e){var e=e.strings,t=SymBfw.globals.BROWSER===SymBfw.constants.BROWSER_TYPE.FIREFOX;return React.createElement("section",{className:"settings-sidebar "+(t?"moz-sidebar":"")},React.createElement("div",{className:"sidebar-item"},(void 0===e?{}:e).Permissions))}function r(e){function t(){u(!o),T.sendMessage({name:k.SET_TELEMETRY_ENABLED,message:!o})}function n(){m(!d),T.sendMessage({name:k.UPDATE_FG_LINK_GUARD,message:!d})}function a(e){"click"===e.type||13===e.keyCode?T.sendMessage({name:k.SETTINGS_PRIVACY_POLICY}):9===e.keyCode&&(e.stopPropagation(),e.preventDefault(),f.current)&&f.current.focus()}function r(e){T.sendMessage({name:k.START_HOME_PAGE_TOUR})}function s(e){T.getActiveTab(function(e){e.id&&T.closeTab(e.id)})}var i=void 0===(l=e.strings)?{}:l,c=e.settings,l=b(c.isTelemetryEnabled),o=(e=E(l,2))[0],u=e[1],l=b(c.isLinkGuardEnabled),d=(e=E(l,2))[0],m=e[1],g=SymBfw.globals.BROWSER===SymBfw.constants.BROWSER_TYPE.FIREFOX,f=React.createRef();return w(c.direction)&&v.default.setDirection(c.direction),_(function(){T.sendMessage({name:k.EXTN_SETTINGS_PAGE_LOADED_TELEMETRY})},[]),ReactDOM.createPortal(React.createElement(function(){return React.createElement("div",{className:"settings-wrapper"},React.createElement("section",{className:"settings-modal"},React.createElement(R,{strings:i,closeModal:s,closeButtonRef:f}),React.createElement("section",{className:"settings-area"},React.createElement("section",{className:"settings-body"},React.createElement(N,{strings:i}),React.createElement("section",{className:"settings-content "+(g?"moz-settings-content":"")},React.createElement("div",null,React.createElement(y,{strings:i,shareDataChecked:o,handleShareDataToggle:t}),c.isLinkGuardSupported&&React.createElement(h,{strings:i,linkGuardSupport:d,handleLinkGuardToggle:n}),c.showHPTourLink&&React.createElement(S,{strings:i,startTourClicked:r}),React.createElement(p,{strings:i,privacyPolicyClicked:a})))))))},null),document.body)}var t,k=NSSS.uiConstants.MESSAGES,T=SymBfw.extensionAdapter,w=SymBfw.utils.isntNil,b=React.useState,_=React.useEffect;i.default=r,t={show:function(){var n=NSSS.uiConstants.EXTENSION_TYPE===NSSS.uiConstants.THREE_IN_ONE;T.sendMessage({name:k.SETTINGS_PAGE_UI_INIT},function(e){var t;w(e)&&(t=e.strings,ReactDOM.render(React.createElement(r,{strings:t,settings:{isTelemetryEnabled:e.isTelemetryEnabled,isLinkGuardEnabled:e.isLinkGuardEnabled,showHPTourLink:n&&e.showHomepageTourButton,direction:e.direction,isLinkGuardSupported:e.isLinkGuardSupported}}),document.getElementById("container")))})}},(n.NSSS.showSettingsUI=t).show()}.call(this)}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./homePage/settings/toggleSwitch.jsx":1,"./utils.jsx":3}],3:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var a=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e};function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var s=SymBfw,i=s.utils,c=i.isntNil,l=i.isString,o=s.extensionAdapter,u=NSSS.uiConstants.MESSAGES,i=(a(d,null,[{key:"setDirection",value:function(e){var t=document.getElementsByTagName("body");c(t)&&c(t[0])&&t[0].setAttribute("dir",e)}},{key:"isTrustedEvent",value:function(e){if(SymBfw.utils.isNil(e))throw new Error("event should not be null");return e.isTrusted}},{key:"constructURL",value:function(e){return e=!SymBfw.utils.isString(e)||""===e||e.startsWith("http://")||e.startsWith("https://")||e.startsWith("ftp://")?e:"https://"+e}},{key:"isValidUrl",value:function(e){if(!/^[a-zA-Z0-9#%@&_\-=:\\.\/?]*$/.test(e))return!1;try{new URL(e)}catch(e){return!1}return!0}},{key:"getDocumentUrl",value:function(){return location.href}},{key:"debounce",value:function(t,n){var a=this,r=arguments,s=void 0;return function(e){s&&clearTimeout(s),s=setTimeout(function(e){s=null,t.apply(a,r)},n)}}},{key:"getFavIconUrl",value:function(e){return o.getExtensionURL("_favicon/?pageUrl="+encodeURIComponent(e)+"&size=32")}},{key:"getTooltipTitle",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:40,e=e&&e.length>n?e.slice(0,n)+"...":e,n=t&&t.length>n?t.slice(0,n)+"...":t;return e&&n?e+"\n"+n:e||n}},{key:"sendBookmarksClickeEventToBG",value:function(e){o.sendMessage({id:u.BOOKMARKS_URL_CLICKED,message:{url:e}})}},{key:"isSettingsIconClick",value:function(){var e=new URL(this.getDocumentUrl()).searchParams.get(NSSS.constants.LAUNCHED_ON);return!(!l(e)||e!==NSSS.constants.SETTINGS_CLICK)}}]),d);function d(){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function")}n.default=i},{}]},{},[2]);