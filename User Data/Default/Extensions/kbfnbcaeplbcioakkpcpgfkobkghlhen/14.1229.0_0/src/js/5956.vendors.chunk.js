(self.webpackChunk=self.webpackChunk||[]).push([[5956],{15956:(t,e,r)=>{function n(t,e,r){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}function o(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function i(t,e){return t.get(n(t,e))}function c(t,e,r){o(t,e),e.set(t,r)}function u(t,e,r){return t.set(n(t,e),r),r}function s(t,e){o(t,e),e.add(t)}function a(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function f(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function l(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?f(Object(r),!0).forEach((function(e){a(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function h(){var t="function"==typeof SuppressedError?SuppressedError:function(t,e){var r=Error();return r.name="SuppressedError",r.error=t,r.suppressed=e,r},e={},r=[];function n(t,e){if(null!=e){if(Object(e)!==e)throw new TypeError("using declarations can only be used with objects, functions, null, or undefined.");if(t)var n=e[Symbol.asyncDispose||Symbol.for("Symbol.asyncDispose")];if(null==n&&(n=e[Symbol.dispose||Symbol.for("Symbol.dispose")]),"function"!=typeof n)throw new TypeError("Property [Symbol.dispose] is not a function.");r.push({v:e,d:n,a:t})}else t&&r.push({d:e,a:t});return e}return{e,u:n.bind(null,!1),a:n.bind(null,!0),d:function(){var n=this.e;function o(){for(;t=r.pop();)try{var t,c=t.d&&t.d.call(t.v);if(t.a)return Promise.resolve(c).then(o,i)}catch(t){return i(t)}if(n!==e)throw n}function i(r){return n=n!==e?new t(r,n):r,o()}return o()}}}r.d(e,{M:()=>kh,p:()=>yh});var p,d,v="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},y={};function g(){if(d)return p;d=1;var t=function(t){return t&&t.Math===Math&&t};return p=t("object"==typeof globalThis&&globalThis)||t("object"==typeof self&&self)||t("object"==typeof self&&self)||t("object"==typeof v&&v)||t("object"==typeof p&&p)||function(){return this}()||Function("return this")()}var m,b,w,S,x,k,O,E,j={};function P(){return b?m:(b=1,m=function(t){try{return!!t()}catch(t){return!0}})}function T(){if(S)return w;S=1;var t=P();return w=!t((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}))}function R(){if(k)return x;k=1;var t=P();return x=!t((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")}))}function I(){if(E)return O;E=1;var t=R(),e=Function.prototype.call;return O=t?e.bind(e):function(){return e.apply(e,arguments)},O}var C,D,A,_,M,W,N,U,F,z,L,B,G,q,J,V,Z,K,Y,H,X,$,Q,tt,et,rt,nt,ot,it,ct,ut,st,at,ft,lt,ht,pt,dt,vt,yt,gt,mt={};function bt(){return A?D:(A=1,D=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}})}function wt(){if(M)return _;M=1;var t=R(),e=Function.prototype,r=e.call,n=t&&e.bind.bind(r,r);return _=t?n:function(t){return function(){return r.apply(t,arguments)}},_}function St(){if(N)return W;N=1;var t=wt(),e=t({}.toString),r=t("".slice);return W=function(t){return r(e(t),8,-1)}}function xt(){return L?z:(L=1,z=function(t){return null==t})}function kt(){if(G)return B;G=1;var t=xt(),e=TypeError;return B=function(r){if(t(r))throw new e("Can't call method on "+r);return r}}function Ot(){if(J)return q;J=1;var t=function(){if(F)return U;F=1;var t=wt(),e=P(),r=St(),n=Object,o=t("".split);return U=e((function(){return!n("z").propertyIsEnumerable(0)}))?function(t){return"String"===r(t)?o(t,""):n(t)}:n}(),e=kt();return q=function(r){return t(e(r))}}function Et(){if(Z)return V;Z=1;var t="object"==typeof document&&document.all;return V=void 0===t&&void 0!==t?function(e){return"function"==typeof e||e===t}:function(t){return"function"==typeof t}}function jt(){if(Y)return K;Y=1;var t=Et();return K=function(e){return"object"==typeof e?null!==e:t(e)}}function Pt(){if(X)return H;X=1;var t=g(),e=Et(),r=function(t){return e(t)?t:void 0};return H=function(e,n){return arguments.length<2?r(t[e]):t[e]&&t[e][n]},H}function Tt(){if(Q)return $;Q=1;var t=wt();return $=t({}.isPrototypeOf)}function Rt(){if(et)return tt;et=1;var t=g().navigator,e=t&&t.userAgent;return tt=e?String(e):""}function It(){if(nt)return rt;nt=1;var t,e,r=g(),n=Rt(),o=r.process,i=r.Deno,c=o&&o.versions||i&&i.version,u=c&&c.v8;return u&&(e=(t=u.split("."))[0]>0&&t[0]<4?1:+(t[0]+t[1])),!e&&n&&(!(t=n.match(/Edge\/(\d+)/))||t[1]>=74)&&(t=n.match(/Chrome\/(\d+)/))&&(e=+t[1]),rt=e}function Ct(){if(it)return ot;it=1;var t=It(),e=P(),r=g().String;return ot=!!Object.getOwnPropertySymbols&&!e((function(){var e=Symbol("symbol detection");return!r(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&t&&t<41}))}function Dt(){if(ut)return ct;ut=1;var t=Ct();return ct=t&&!Symbol.sham&&"symbol"==typeof Symbol.iterator}function At(){if(at)return st;at=1;var t=Pt(),e=Et(),r=Tt(),n=Dt(),o=Object;return st=n?function(t){return"symbol"==typeof t}:function(n){var i=t("Symbol");return e(i)&&r(i.prototype,o(n))}}function _t(){if(lt)return ft;lt=1;var t=String;return ft=function(e){try{return t(e)}catch(t){return"Object"}}}function Mt(){if(pt)return ht;pt=1;var t=Et(),e=_t(),r=TypeError;return ht=function(n){if(t(n))return n;throw new r(e(n)+" is not a function")}}function Wt(){if(vt)return dt;vt=1;var t=Mt(),e=xt();return dt=function(r,n){var o=r[n];return e(o)?void 0:t(o)}}function Nt(){if(gt)return yt;gt=1;var t=I(),e=Et(),r=jt(),n=TypeError;return yt=function(o,i){var c,u;if("string"===i&&e(c=o.toString)&&!r(u=t(c,o)))return u;if(e(c=o.valueOf)&&!r(u=t(c,o)))return u;if("string"!==i&&e(c=o.toString)&&!r(u=t(c,o)))return u;throw new n("Can't convert object to primitive value")}}var Ut,Ft,zt,Lt,Bt,Gt,qt,Jt,Vt,Zt,Kt,Yt,Ht,Xt,$t,Qt,te,ee,re,ne,oe,ie,ce,ue,se={exports:{}};function ae(){return Ft?Ut:(Ft=1,Ut=!1)}function fe(){if(Lt)return zt;Lt=1;var t=g(),e=Object.defineProperty;return zt=function(r,n){try{e(t,r,{value:n,configurable:!0,writable:!0})}catch(e){t[r]=n}return n}}function le(){if(Bt)return se.exports;Bt=1;var t=ae(),e=g(),r=fe(),n="__core-js_shared__",o=se.exports=e[n]||r(n,{});return(o.versions||(o.versions=[])).push({version:"3.38.0",mode:t?"pure":"global",copyright:"Â© 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.38.0/LICENSE",source:"https://github.com/zloirock/core-js"}),se.exports}function he(){if(qt)return Gt;qt=1;var t=le();return Gt=function(e,r){return t[e]||(t[e]=r||{})}}function pe(){if(Vt)return Jt;Vt=1;var t=kt(),e=Object;return Jt=function(r){return e(t(r))}}function de(){if(Kt)return Zt;Kt=1;var t=wt(),e=pe(),r=t({}.hasOwnProperty);return Zt=Object.hasOwn||function(t,n){return r(e(t),n)}}function ve(){if(Ht)return Yt;Ht=1;var t=wt(),e=0,r=Math.random(),n=t(1..toString);return Yt=function(t){return"Symbol("+(void 0===t?"":t)+")_"+n(++e+r,36)}}function ye(){if($t)return Xt;$t=1;var t=g(),e=he(),r=de(),n=ve(),o=Ct(),i=Dt(),c=t.Symbol,u=e("wks"),s=i?c.for||c:c&&c.withoutSetter||n;return Xt=function(t){return r(u,t)||(u[t]=o&&r(c,t)?c[t]:s("Symbol."+t)),u[t]}}function ge(){if(te)return Qt;te=1;var t=I(),e=jt(),r=At(),n=Wt(),o=Nt(),i=ye(),c=TypeError,u=i("toPrimitive");return Qt=function(i,s){if(!e(i)||r(i))return i;var a,f=n(i,u);if(f){if(void 0===s&&(s="default"),a=t(f,i,s),!e(a)||r(a))return a;throw new c("Can't convert object to primitive value")}return void 0===s&&(s="number"),o(i,s)}}function me(){if(re)return ee;re=1;var t=ge(),e=At();return ee=function(r){var n=t(r,"string");return e(n)?n:n+""}}function be(){if(oe)return ne;oe=1;var t=g(),e=jt(),r=t.document,n=e(r)&&e(r.createElement);return ne=function(t){return n?r.createElement(t):{}}}function we(){if(ce)return ie;ce=1;var t=T(),e=P(),r=be();return ie=!t&&!e((function(){return 7!==Object.defineProperty(r("div"),"a",{get:function(){return 7}}).a}))}function Se(){if(ue)return j;ue=1;var t=T(),e=I(),r=function(){if(C)return mt;C=1;var t={}.propertyIsEnumerable,e=Object.getOwnPropertyDescriptor,r=e&&!t.call({1:2},1);return mt.f=r?function(t){var r=e(this,t);return!!r&&r.enumerable}:t,mt}(),n=bt(),o=Ot(),i=me(),c=de(),u=we(),s=Object.getOwnPropertyDescriptor;return j.f=t?s:function(t,a){if(t=o(t),a=i(a),u)try{return s(t,a)}catch(t){}if(c(t,a))return n(!e(r.f,t,a),t[a])},j}var xe,ke,Oe,Ee,je,Pe,Te,Re={};function Ie(){if(ke)return xe;ke=1;var t=T(),e=P();return xe=t&&e((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))}function Ce(){if(Ee)return Oe;Ee=1;var t=jt(),e=String,r=TypeError;return Oe=function(n){if(t(n))return n;throw new r(e(n)+" is not an object")}}function De(){if(je)return Re;je=1;var t=T(),e=we(),r=Ie(),n=Ce(),o=me(),i=TypeError,c=Object.defineProperty,u=Object.getOwnPropertyDescriptor,s="enumerable",a="configurable",f="writable";return Re.f=t?r?function(t,e,r){if(n(t),e=o(e),n(r),"function"==typeof t&&"prototype"===e&&"value"in r&&f in r&&!r.writable){var i=u(t,e);i&&i.writable&&(t[e]=r.value,r={configurable:a in r?r.configurable:i.configurable,enumerable:s in r?r.enumerable:i.enumerable,writable:!1})}return c(t,e,r)}:c:function(t,r,u){if(n(t),r=o(r),n(u),e)try{return c(t,r,u)}catch(t){}if("get"in u||"set"in u)throw new i("Accessors not supported");return"value"in u&&(t[r]=u.value),t},Re}function Ae(){if(Te)return Pe;Te=1;var t=T(),e=De(),r=bt();return Pe=t?function(t,n,o){return e.f(t,n,r(1,o))}:function(t,e,r){return t[e]=r,t}}var _e,Me,We,Ne,Ue,Fe,ze,Le,Be,Ge,qe,Je,Ve,Ze,Ke,Ye={exports:{}};function He(){if(Me)return _e;Me=1;var t=T(),e=de(),r=Function.prototype,n=t&&Object.getOwnPropertyDescriptor,o=e(r,"name"),i=o&&"something"===function(){}.name,c=o&&(!t||t&&n(r,"name").configurable);return _e={EXISTS:o,PROPER:i,CONFIGURABLE:c}}function Xe(){if(Ne)return We;Ne=1;var t=wt(),e=Et(),r=le(),n=t(Function.toString);return e(r.inspectSource)||(r.inspectSource=function(t){return n(t)}),We=r.inspectSource}function $e(){if(Le)return ze;Le=1;var t=he(),e=ve(),r=t("keys");return ze=function(t){return r[t]||(r[t]=e(t))}}function Qe(){return Ge?Be:(Ge=1,Be={})}function tr(){if(Je)return qe;Je=1;var t,e,r,n=function(){if(Fe)return Ue;Fe=1;var t=g(),e=Et(),r=t.WeakMap;return Ue=e(r)&&/native code/.test(String(r))}(),o=g(),i=jt(),c=Ae(),u=de(),s=le(),a=$e(),f=Qe(),l="Object already initialized",h=o.TypeError,p=o.WeakMap;if(n||s.state){var d=s.state||(s.state=new p);d.get=d.get,d.has=d.has,d.set=d.set,t=function(t,e){if(d.has(t))throw new h(l);return e.facade=t,d.set(t,e),e},e=function(t){return d.get(t)||{}},r=function(t){return d.has(t)}}else{var v=a("state");f[v]=!0,t=function(t,e){if(u(t,v))throw new h(l);return e.facade=t,c(t,v,e),e},e=function(t){return u(t,v)?t[v]:{}},r=function(t){return u(t,v)}}return qe={set:t,get:e,has:r,enforce:function(n){return r(n)?e(n):t(n,{})},getterFor:function(t){return function(r){var n;if(!i(r)||(n=e(r)).type!==t)throw new h("Incompatible receiver, "+t+" required");return n}}}}function er(){if(Ve)return Ye.exports;Ve=1;var t=wt(),e=P(),r=Et(),n=de(),o=T(),i=He().CONFIGURABLE,c=Xe(),u=tr(),s=u.enforce,a=u.get,f=String,l=Object.defineProperty,h=t("".slice),p=t("".replace),d=t([].join),v=o&&!e((function(){return 8!==l((function(){}),"length",{value:8}).length})),y=String(String).split("String"),g=Ye.exports=function(t,e,r){"Symbol("===h(f(e),0,7)&&(e="["+p(f(e),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),r&&r.getter&&(e="get "+e),r&&r.setter&&(e="set "+e),(!n(t,"name")||i&&t.name!==e)&&(o?l(t,"name",{value:e,configurable:!0}):t.name=e),v&&r&&n(r,"arity")&&t.length!==r.arity&&l(t,"length",{value:r.arity});try{r&&n(r,"constructor")&&r.constructor?o&&l(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(t){}var c=s(t);return n(c,"source")||(c.source=d(y,"string"==typeof e?e:"")),t};return Function.prototype.toString=g((function(){return r(this)&&a(this).source||c(this)}),"toString"),Ye.exports}function rr(){if(Ke)return Ze;Ke=1;var t=Et(),e=De(),r=er(),n=fe();return Ze=function(o,i,c,u){u||(u={});var s=u.enumerable,a=void 0!==u.name?u.name:i;if(t(c)&&r(c,a,u),u.global)s?o[i]=c:n(i,c);else{try{u.unsafe?o[i]&&(s=!0):delete o[i]}catch(t){}s?o[i]=c:e.f(o,i,{value:c,enumerable:!1,configurable:!u.nonConfigurable,writable:!u.nonWritable})}return o}}var nr,or,ir,cr,ur,sr,ar,fr,lr,hr,pr,dr,vr,yr,gr,mr,br,wr={};function Sr(){if(cr)return ir;cr=1;var t=function(){if(or)return nr;or=1;var t=Math.ceil,e=Math.floor;return nr=Math.trunc||function(r){var n=+r;return(n>0?e:t)(n)}}();return ir=function(e){var r=+e;return r!=r||0===r?0:t(r)}}function xr(){if(sr)return ur;sr=1;var t=Sr(),e=Math.max,r=Math.min;return ur=function(n,o){var i=t(n);return i<0?e(i+o,0):r(i,o)}}function kr(){if(fr)return ar;fr=1;var t=Sr(),e=Math.min;return ar=function(r){var n=t(r);return n>0?e(n,9007199254740991):0}}function Or(){if(hr)return lr;hr=1;var t=kr();return lr=function(e){return t(e.length)}}function Er(){if(yr)return vr;yr=1;var t=wt(),e=de(),r=Ot(),n=function(){if(dr)return pr;dr=1;var t=Ot(),e=xr(),r=Or(),n=function(n){return function(o,i,c){var u=t(o),s=r(u);if(0===s)return!n&&-1;var a,f=e(c,s);if(n&&i!=i){for(;s>f;)if((a=u[f++])!=a)return!0}else for(;s>f;f++)if((n||f in u)&&u[f]===i)return n||f||0;return!n&&-1}};return pr={includes:n(!0),indexOf:n(!1)}}().indexOf,o=Qe(),i=t([].push);return vr=function(t,c){var u,s=r(t),a=0,f=[];for(u in s)!e(o,u)&&e(s,u)&&i(f,u);for(;c.length>a;)e(s,u=c[a++])&&(~n(f,u)||i(f,u));return f}}function jr(){return mr?gr:(mr=1,gr=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"])}function Pr(){if(br)return wr;br=1;var t=Er(),e=jr().concat("length","prototype");return wr.f=Object.getOwnPropertyNames||function(r){return t(r,e)},wr}var Tr,Rr,Ir,Cr,Dr,Ar,_r,Mr,Wr,Nr,Ur,Fr,zr,Lr,Br,Gr,qr,Jr,Vr,Zr,Kr,Yr,Hr,Xr,$r,Qr,tn,en,rn,nn,on,cn,un,sn,an,fn,ln,hn,pn,dn,vn,yn,gn={};function mn(){if(Ir)return Rr;Ir=1;var t=Pt(),e=wt(),r=Pr(),n=(Tr||(Tr=1,gn.f=Object.getOwnPropertySymbols),gn),o=Ce(),i=e([].concat);return Rr=t("Reflect","ownKeys")||function(t){var e=r.f(o(t)),c=n.f;return c?i(e,c(t)):e}}function bn(){if(Dr)return Cr;Dr=1;var t=de(),e=mn(),r=Se(),n=De();return Cr=function(o,i,c){for(var u=e(i),s=n.f,a=r.f,f=0;f<u.length;f++){var l=u[f];t(o,l)||c&&t(c,l)||s(o,l,a(i,l))}}}function wn(){if(_r)return Ar;_r=1;var t=P(),e=Et(),r=/#|\.prototype\./,n=function(r,n){var s=i[o(r)];return s===u||s!==c&&(e(n)?t(n):!!n)},o=n.normalize=function(t){return String(t).replace(r,".").toLowerCase()},i=n.data={},c=n.NATIVE="N",u=n.POLYFILL="P";return Ar=n}function Sn(){if(Wr)return Mr;Wr=1;var t=g(),e=Se().f,r=Ae(),n=rr(),o=fe(),i=bn(),c=wn();return Mr=function(u,s){var a,f,l,h,p,d=u.target,v=u.global,y=u.stat;if(a=v?t:y?t[d]||o(d,{}):t[d]&&t[d].prototype)for(f in s){if(h=s[f],l=u.dontCallGetSet?(p=e(a,f))&&p.value:a[f],!c(v?f:d+(y?".":"#")+f,u.forced)&&void 0!==l){if(typeof h==typeof l)continue;i(h,l)}(u.sham||l&&l.sham)&&r(h,"sham",!0),n(a,f,h,u)}}}function xn(){if(Ur)return Nr;Ur=1;var t=R(),e=Function.prototype,r=e.apply,n=e.call;return Nr="object"==typeof Reflect&&Reflect.apply||(t?n.bind(r):function(){return n.apply(r,arguments)}),Nr}function kn(){if(zr)return Fr;zr=1;var t=wt(),e=Mt();return Fr=function(r,n,o){try{return t(e(Object.getOwnPropertyDescriptor(r,n)[o]))}catch(t){}}}function On(){if(Br)return Lr;Br=1;var t=jt();return Lr=function(e){return t(e)||null===e}}function En(){if(qr)return Gr;qr=1;var t=On(),e=String,r=TypeError;return Gr=function(n){if(t(n))return n;throw new r("Can't set "+e(n)+" as a prototype")}}function jn(){if(Vr)return Jr;Vr=1;var t=kn(),e=jt(),r=kt(),n=En();return Jr=Object.setPrototypeOf||("__proto__"in{}?function(){var o,i=!1,c={};try{(o=t(Object.prototype,"__proto__","set"))(c,[]),i=c instanceof Array}catch(t){}return function(t,c){return r(t),n(c),e(t)?(i?o(t,c):t.__proto__=c,t):t}}():void 0)}function Pn(){if(Kr)return Zr;Kr=1;var t=De().f;return Zr=function(e,r,n){n in e||t(e,n,{configurable:!0,get:function(){return r[n]},set:function(t){r[n]=t}})}}function Tn(){if(Hr)return Yr;Hr=1;var t=Et(),e=jt(),r=jn();return Yr=function(n,o,i){var c,u;return r&&t(c=o.constructor)&&c!==i&&e(u=c.prototype)&&u!==i.prototype&&r(n,u),n}}function Rn(){if($r)return Xr;$r=1;var t={};return t[ye()("toStringTag")]="z",Xr="[object z]"===String(t)}function In(){if(tn)return Qr;tn=1;var t=Rn(),e=Et(),r=St(),n=ye()("toStringTag"),o=Object,i="Arguments"===r(function(){return arguments}());return Qr=t?r:function(t){var c,u,s;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(u=function(t,e){try{return t[e]}catch(t){}}(c=o(t),n))?u:i?r(c):"Object"===(s=r(c))&&e(c.callee)?"Arguments":s}}function Cn(){if(on)return nn;on=1;var t=function(){if(rn)return en;rn=1;var t=In(),e=String;return en=function(r){if("Symbol"===t(r))throw new TypeError("Cannot convert a Symbol value to a string");return e(r)}}();return nn=function(e,r){return void 0===e?arguments.length<2?"":r:t(e)},nn}function Dn(){if(un)return cn;un=1;var t=jt(),e=Ae();return cn=function(r,n){t(n)&&"cause"in n&&e(r,"cause",n.cause)}}function An(){if(pn)return hn;pn=1;var t=Ae(),e=function(){if(an)return sn;an=1;var t=wt(),e=Error,r=t("".replace),n=String(new e("zxcasd").stack),o=/\n\s*at [^:]*:[^\n]*/,i=o.test(n);return sn=function(t,n){if(i&&"string"==typeof t&&!e.prepareStackTrace)for(;n--;)t=r(t,o,"");return t}}(),r=function(){if(ln)return fn;ln=1;var t=P(),e=bt();return fn=!t((function(){var t=new Error("a");return!("stack"in t)||(Object.defineProperty(t,"stack",e(1,7)),7!==t.stack)}))}(),n=Error.captureStackTrace;return hn=function(o,i,c,u){r&&(n?n(o,i):t(o,"stack",e(c,u)))}}function _n(){if(vn)return dn;vn=1;var t=Pt(),e=de(),r=Ae(),n=Tt(),o=jn(),i=bn(),c=Pn(),u=Tn(),s=Cn(),a=Dn(),f=An(),l=T(),h=ae();return dn=function(p,d,v,y){var g="stackTraceLimit",m=y?2:1,b=p.split("."),w=b[b.length-1],S=t.apply(null,b);if(S){var x=S.prototype;if(!h&&e(x,"cause")&&delete x.cause,!v)return S;var k=t("Error"),O=d((function(t,e){var o=s(y?e:t,void 0),i=y?new S(t):new S;return void 0!==o&&r(i,"message",o),f(i,O,i.stack,2),this&&n(x,this)&&u(i,this,O),arguments.length>m&&a(i,arguments[m]),i}));if(O.prototype=x,"Error"!==w?o?o(O,k):i(O,k,{name:!0}):l&&g in S&&(c(O,S,g),c(O,S,"prepareStackTrace")),i(O,S),!h)try{x.name!==w&&r(x,"name",w),x.constructor=O}catch(t){}return O}},dn}function Mn(){if(yn)return y;yn=1;var t=Sn(),e=g(),r=xn(),n=_n(),o="WebAssembly",i=e.WebAssembly,c=7!==new Error("e",{cause:7}).cause,u=function(e,r){var o={};o[e]=n(e,r,c),t({global:!0,constructor:!0,arity:1,forced:c},o)},s=function(e,r){if(i&&i[e]){var u={};u[e]=n("WebAssembly."+e,r,c),t({target:o,stat:!0,constructor:!0,arity:1,forced:c},u)}};return u("Error",(function(t){return function(e){return r(t,this,arguments)}})),u("EvalError",(function(t){return function(e){return r(t,this,arguments)}})),u("RangeError",(function(t){return function(e){return r(t,this,arguments)}})),u("ReferenceError",(function(t){return function(e){return r(t,this,arguments)}})),u("SyntaxError",(function(t){return function(e){return r(t,this,arguments)}})),u("TypeError",(function(t){return function(e){return r(t,this,arguments)}})),u("URIError",(function(t){return function(e){return r(t,this,arguments)}})),s("CompileError",(function(t){return function(e){return r(t,this,arguments)}})),s("LinkError",(function(t){return function(e){return r(t,this,arguments)}})),s("RuntimeError",(function(t){return function(e){return r(t,this,arguments)}})),y}var Wn,Nn,Un,Fn={};function zn(){if(Nn)return Wn;Nn=1;var t=T(),e=P(),r=Ce(),n=Cn(),o=Error.prototype.toString,i=e((function(){if(t){var e=Object.create(Object.defineProperty({},"name",{get:function(){return this===e}}));if("true"!==o.call(e))return!0}return"2: 1"!==o.call({message:1,name:2})||"Error"!==o.call({})}));return Wn=i?function(){var t=r(this),e=n(t.name,"Error"),o=n(t.message);return e?o?e+": "+o:e:o}:o}function Ln(){if(Un)return Fn;Un=1;var t=rr(),e=zn(),r=Error.prototype;return r.toString!==e&&t(r,"toString",e),Fn}var Bn,Gn,qn,Jn={};function Vn(){if(qn)return Jn;qn=1;var t=Rn(),e=rr(),r=function(){if(Gn)return Bn;Gn=1;var t=Rn(),e=In();return Bn=t?{}.toString:function(){return"[object "+e(this)+"]"}}();return t||e(Object.prototype,"toString",r,{unsafe:!0}),Jn}var Zn,Kn,Yn,Hn,Xn={};function $n(){if(Hn)return Yn;Hn=1;var t=de(),e=Et(),r=pe(),n=$e(),o=function(){if(Kn)return Zn;Kn=1;var t=P();return Zn=!t((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))}(),i=n("IE_PROTO"),c=Object,u=c.prototype;return Yn=o?c.getPrototypeOf:function(n){var o=r(n);if(t(o,i))return o[i];var s=o.constructor;return e(s)&&o instanceof s?s.prototype:o instanceof c?u:null}}var Qn,to,eo,ro,no,oo,io,co,uo={};function so(){if(to)return Qn;to=1;var t=Er(),e=jr();return Qn=Object.keys||function(r){return t(r,e)}}function ao(){if(no)return ro;no=1;var t=Pt();return ro=t("document","documentElement")}function fo(){if(io)return oo;io=1;var t,e=Ce(),r=function(){if(eo)return uo;eo=1;var t=T(),e=Ie(),r=De(),n=Ce(),o=Ot(),i=so();return uo.f=t&&!e?Object.defineProperties:function(t,e){n(t);for(var c,u=o(e),s=i(e),a=s.length,f=0;a>f;)r.f(t,c=s[f++],u[c]);return t},uo}(),n=jr(),o=Qe(),i=ao(),c=be(),u=$e(),s=u("IE_PROTO"),a=function(){},f=function(t){return"<script>"+t+"</"+"script>"},l=function(t){t.write(f("")),t.close();var e=t.parentWindow.Object;return t=null,e},h=function(){try{t=new ActiveXObject("htmlfile")}catch(t){}var e,r;h="undefined"!=typeof document?document.domain&&t?l(t):((r=c("iframe")).style.display="none",i.appendChild(r),r.src=String("javascript:"),(e=r.contentWindow.document).open(),e.write(f("document.F=Object")),e.close(),e.F):l(t);for(var o=n.length;o--;)delete h.prototype[n[o]];return h()};return o[s]=!0,oo=Object.create||function(t,n){var o;return null!==t?(a.prototype=e(t),o=new a,a.prototype=null,o[s]=t):o=h(),void 0===n?o:r.f(o,n)}}function lo(){if(co)return Xn;co=1;var t=Sn(),e=g(),r=Tt(),n=$n(),o=jn(),i=bn(),c=fo(),u=Ae(),s=bt(),a=An(),f=Cn(),l=ye(),h=P(),p=ae(),d=e.SuppressedError,v=l("toStringTag"),y=Error,m=!!d&&3!==d.length,b=!!d&&h((function(){return 4===new d(1,2,3,{cause:4}).cause})),w=m||b,S=function(t,e,i){var s,l=r(x,this);return o?s=!w||l&&n(this)!==x?o(new y,l?n(this):x):new d:(s=l?this:c(x),u(s,v,"Error")),void 0!==i&&u(s,"message",f(i)),a(s,S,s.stack,1),u(s,"error",t),u(s,"suppressed",e),s};o?o(S,y):i(S,y,{name:!0});var x=S.prototype=w?d.prototype:c(y.prototype,{constructor:s(1,S),message:s(1,""),name:s(1,"SuppressedError")});return w&&!p&&(x.constructor=S),t({global:!0,constructor:!0,arity:3,forced:w},{SuppressedError:S}),Xn}var ho,po,vo,yo,go,mo,bo,wo,So,xo,ko,Oo,Eo,jo={};function Po(){if(po)return ho;po=1;var t=Tt(),e=TypeError;return ho=function(r,n){if(t(n,r))return r;throw new e("Incorrect invocation")}}function To(){if(yo)return vo;yo=1;var t=rr();return vo=function(e,r,n){for(var o in r)t(e,o,r[o],n);return e}}function Ro(){if(mo)return go;mo=1;var t=er(),e=De();return go=function(r,n,o){return o.get&&t(o.get,n,{getter:!0}),o.set&&t(o.set,n,{setter:!0}),e.f(r,n,o)}}function Io(){if(xo)return So;xo=1;var t=function(){if(wo)return bo;wo=1;var t=St(),e=wt();return bo=function(r){if("Function"===t(r))return e(r)}}(),e=Mt(),r=R(),n=t(t.bind);return So=function(t,o){return e(t),void 0===o?t:r?n(t,o):function(){return t.apply(o,arguments)}},So}function Co(){if(Oo)return ko;Oo=1;var t=I(),e=wt(),r=Io(),n=Ce(),o=Mt(),i=xt(),c=Wt(),u=ye(),s=u("asyncDispose"),a=u("dispose"),f=e([].push),l=function(e,r){if("async-dispose"===r){var n=c(e,s);return void 0!==n||void 0===(n=c(e,a))?n:function(){t(n,this)}}return c(e,a)},h=function(t,e,c){return arguments.length<3&&!i(t)&&(c=o(l(n(t),e))),void 0===c?function(){}:r(c,t)};return ko=function(t,e,r,n){var o;if(arguments.length<4){if(i(e)&&"sync-dispose"===r)return;o=h(e,r)}else o=h(void 0,r,n);f(t.stack,o)},ko}var Do,Ao,_o,Mo,Wo,No,Uo,Fo={};function zo(){if(Ao)return Do;Ao=1;var t,e,r,n=P(),o=Et(),i=jt(),c=fo(),u=$n(),s=rr(),a=ye(),f=ae(),l=a("iterator"),h=!1;return[].keys&&("next"in(r=[].keys())?(e=u(u(r)))!==Object.prototype&&(t=e):h=!0),!i(t)||n((function(){var e={};return t[l].call(e)!==e}))?t={}:f&&(t=c(t)),o(t[l])||s(t,l,(function(){return this})),Do={IteratorPrototype:t,BUGGY_SAFARI_ITERATORS:h}}function Lo(){if(_o)return Fo;_o=1;var t=I(),e=rr(),r=Wt(),n=de(),o=ye(),i=zo().IteratorPrototype,c=o("dispose");return n(i,c)||e(i,c,(function(){var e=r(this,"return");e&&t(e,this)})),Fo}function Bo(){if(Wo)return Mo;Wo=1;var t=g();return Mo=t}!function(){if(Uo)return No;Uo=1,Mn(),Ln(),Vn(),lo(),function(){if(Eo)return jo;Eo=1;var t=Sn(),e=T(),r=Pt(),n=Mt(),o=Po(),i=rr(),c=To(),u=Ro(),s=ye(),a=tr(),f=Co(),l=r("SuppressedError"),h=ReferenceError,p=s("dispose"),d=s("toStringTag"),v="DisposableStack",y=a.set,g=a.getterFor(v),m="sync-dispose",b="disposed",w=function(t){var e=g(t);if(e.state===b)throw new h("DisposableStack already disposed");return e},S=function(){y(o(this,x),{type:v,state:"pending",stack:[]}),e||(this.disposed=!1)},x=S.prototype;c(x,{dispose:function(){var t=g(this);if(t.state!==b){t.state=b,e||(this.disposed=!0);for(var r,n=t.stack,o=n.length,i=!1;o;){var c=n[--o];n[o]=void 0;try{c()}catch(t){i?r=new l(t,r):(i=!0,r=t)}}if(t.stack=void 0,i)throw r}},use:function(t){return f(w(this),t,m),t},adopt:function(t,e){var r=w(this);return n(e),f(r,void 0,m,(function(){e(t)})),t},defer:function(t){var e=w(this);n(t),f(e,void 0,m,t)},move:function(){var t=w(this),r=new S;return g(r).stack=t.stack,t.stack=[],t.state=b,e||(this.disposed=!0),r}}),e&&u(x,"disposed",{configurable:!0,get:function(){return g(this).state===b}}),i(x,p,x.dispose,{name:"dispose"}),i(x,d,v,{nonWritable:!0}),t({global:!0,constructor:!0},{DisposableStack:S})}(),Lo();var t=Bo();No=t.DisposableStack}();var Go,qo,Jo,Vo,Zo,Ko,Yo,Ho,Xo,$o,Qo,ti,ei,ri,ni,oi,ii,ci,ui,si,ai,fi,li,hi,pi,di,vi,yi,gi,mi,bi,wi,Si,xi,ki,Oi,Ei,ji,Pi,Ti,Ri={},Ii={};function Ci(){if(qo)return Go;qo=1;var t=g(),e=Rt(),r=St(),n=function(t){return e.slice(0,t.length)===t};return Go=n("Bun/")?"BUN":n("Cloudflare-Workers")?"CLOUDFLARE":n("Deno/")?"DENO":n("Node.js/")?"NODE":t.Bun&&"string"==typeof Bun.version?"BUN":t.Deno&&"object"==typeof Deno.version?"DENO":"process"===r(t.process)?"NODE":t.window&&t.document?"BROWSER":"REST"}function Di(){if(Vo)return Jo;Vo=1;var t=Ci();return Jo="NODE"===t}function Ai(){if(Ko)return Zo;Ko=1;var t=De().f,e=de(),r=ye()("toStringTag");return Zo=function(n,o,i){n&&!i&&(n=n.prototype),n&&!e(n,r)&&t(n,r,{configurable:!0,value:o})}}function _i(){if(Ho)return Yo;Ho=1;var t=Pt(),e=Ro(),r=ye(),n=T(),o=r("species");return Yo=function(r){var i=t(r);n&&i&&!i[o]&&e(i,o,{configurable:!0,get:function(){return this}})}}function Mi(){if($o)return Xo;$o=1;var t=wt(),e=P(),r=Et(),n=In(),o=Pt(),i=Xe(),c=function(){},u=o("Reflect","construct"),s=/^\s*(?:class|function)\b/,a=t(s.exec),f=!s.test(c),l=function(t){if(!r(t))return!1;try{return u(c,[],t),!0}catch(t){return!1}},h=function(t){if(!r(t))return!1;switch(n(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return f||!!a(s,i(t))}catch(t){return!0}};return h.sham=!0,Xo=!u||e((function(){var t;return l(l.call)||!l(Object)||!l((function(){t=!0}))||t}))?h:l}function Wi(){if(ti)return Qo;ti=1;var t=Mi(),e=_t(),r=TypeError;return Qo=function(n){if(t(n))return n;throw new r(e(n)+" is not a constructor")}}function Ni(){if(ri)return ei;ri=1;var t=Ce(),e=Wi(),r=xt(),n=ye()("species");return ei=function(o,i){var c,u=t(o).constructor;return void 0===u||r(c=t(u)[n])?i:e(c)}}function Ui(){if(oi)return ni;oi=1;var t=wt();return ni=t([].slice)}function Fi(){if(ci)return ii;ci=1;var t=TypeError;return ii=function(e,r){if(e<r)throw new t("Not enough arguments");return e}}function zi(){if(si)return ui;si=1;var t=Rt();return ui=/(?:ipad|iphone|ipod).*applewebkit/i.test(t)}function Li(){if(fi)return ai;fi=1;var t,e,r,n,o=g(),i=xn(),c=Io(),u=Et(),s=de(),a=P(),f=ao(),l=Ui(),h=be(),p=Fi(),d=zi(),v=Di(),y=o.setImmediate,m=o.clearImmediate,b=o.process,w=o.Dispatch,S=o.Function,x=o.MessageChannel,k=o.String,O=0,E={},j="onreadystatechange";a((function(){t=o.location}));var T=function(t){if(s(E,t)){var e=E[t];delete E[t],e()}},R=function(t){return function(){T(t)}},I=function(t){T(t.data)},C=function(e){o.postMessage(k(e),t.protocol+"//"+t.host)};return y&&m||(y=function(t){p(arguments.length,1);var r=u(t)?t:S(t),n=l(arguments,1);return E[++O]=function(){i(r,void 0,n)},e(O),O},m=function(t){delete E[t]},v?e=function(t){b.nextTick(R(t))}:w&&w.now?e=function(t){w.now(R(t))}:x&&!d?(n=(r=new x).port2,r.port1.onmessage=I,e=c(n.postMessage,n)):o.addEventListener&&u(o.postMessage)&&!o.importScripts&&t&&"file:"!==t.protocol&&!a(C)?(e=C,o.addEventListener("message",I,!1)):e=j in h("script")?function(t){f.appendChild(h("script")).onreadystatechange=function(){f.removeChild(this),T(t)}}:function(t){setTimeout(R(t),0)}),ai={set:y,clear:m}}function Bi(){if(hi)return li;hi=1;var t=g(),e=T(),r=Object.getOwnPropertyDescriptor;return li=function(n){if(!e)return t[n];var o=r(t,n);return o&&o.value}}function Gi(){if(di)return pi;di=1;var t=function(){this.head=null,this.tail=null};return t.prototype={add:function(t){var e={item:t,next:null},r=this.tail;r?r.next=e:this.head=e,this.tail=e},get:function(){var t=this.head;if(t)return null===(this.head=t.next)&&(this.tail=null),t.item}},pi=t}function qi(){if(wi)return bi;wi=1;var t,e,r,n,o,i=g(),c=Bi(),u=Io(),s=Li().set,a=Gi(),f=zi(),l=function(){if(yi)return vi;yi=1;var t=Rt();return vi=/ipad|iphone|ipod/i.test(t)&&"undefined"!=typeof Pebble}(),h=function(){if(mi)return gi;mi=1;var t=Rt();return gi=/web0s(?!.*chrome)/i.test(t)}(),p=Di(),d=i.MutationObserver||i.WebKitMutationObserver,v=i.document,y=i.process,m=i.Promise,b=c("queueMicrotask");if(!b){var w=new a,S=function(){var e,r;for(p&&(e=y.domain)&&e.exit();r=w.get();)try{r()}catch(e){throw w.head&&t(),e}e&&e.enter()};f||p||h||!d||!v?!l&&m&&m.resolve?((n=m.resolve(void 0)).constructor=m,o=u(n.then,n),t=function(){o(S)}):p?t=function(){y.nextTick(S)}:(s=u(s,i),t=function(){s(S)}):(e=!0,r=v.createTextNode(""),new d(S).observe(r,{characterData:!0}),t=function(){r.data=e=!e}),b=function(e){w.head||t(),w.add(e)}}return bi=b}function Ji(){return xi||(xi=1,Si=function(t,e){try{1===arguments.length?console.error(t):console.error(t,e)}catch(t){}}),Si}function Vi(){return Oi?ki:(Oi=1,ki=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}})}function Zi(){if(ji)return Ei;ji=1;var t=g();return Ei=t.Promise}function Ki(){if(Ti)return Pi;Ti=1;var t=g(),e=Zi(),r=Et(),n=wn(),o=Xe(),i=ye(),c=Ci(),u=ae(),s=It(),a=e&&e.prototype,f=i("species"),l=!1,h=r(t.PromiseRejectionEvent),p=n("Promise",(function(){var t=o(e),r=t!==String(e);if(!r&&66===s)return!0;if(u&&(!a.catch||!a.finally))return!0;if(!s||s<51||!/native code/.test(t)){var n=new e((function(t){t(1)})),i=function(t){t((function(){}),(function(){}))};if((n.constructor={})[f]=i,!(l=n.then((function(){}))instanceof i))return!0}return!(r||"BROWSER"!==c&&"DENO"!==c||h)}));return Pi={CONSTRUCTOR:p,REJECTION_EVENT:h,SUBCLASSING:l}}var Yi,Hi,Xi={};function $i(){if(Yi)return Xi;Yi=1;var t=Mt(),e=TypeError,r=function(r){var n,o;this.promise=new r((function(t,r){if(void 0!==n||void 0!==o)throw new e("Bad Promise constructor");n=t,o=r})),this.resolve=t(n),this.reject=t(o)};return Xi.f=function(t){return new r(t)},Xi}var Qi,tc,ec,rc,nc,oc,ic,cc,uc,sc,ac,fc,lc,hc,pc,dc,vc,yc={};function gc(){return tc?Qi:(tc=1,Qi={})}function mc(){if(rc)return ec;rc=1;var t=ye(),e=gc(),r=t("iterator"),n=Array.prototype;return ec=function(t){return void 0!==t&&(e.Array===t||n[r]===t)}}function bc(){if(oc)return nc;oc=1;var t=In(),e=Wt(),r=xt(),n=gc(),o=ye()("iterator");return nc=function(i){if(!r(i))return e(i,o)||e(i,"@@iterator")||n[t(i)]}}function wc(){if(cc)return ic;cc=1;var t=I(),e=Mt(),r=Ce(),n=_t(),o=bc(),i=TypeError;return ic=function(c,u){var s=arguments.length<2?o(c):u;if(e(s))return r(t(s,c));throw new i(n(c)+" is not iterable")},ic}function Sc(){if(sc)return uc;sc=1;var t=I(),e=Ce(),r=Wt();return uc=function(n,o,i){var c,u;e(n);try{if(!(c=r(n,"return"))){if("throw"===o)throw i;return i}c=t(c,n)}catch(t){u=!0,c=t}if("throw"===o)throw i;if(u)throw c;return e(c),i},uc}function xc(){if(fc)return ac;fc=1;var t=Io(),e=I(),r=Ce(),n=_t(),o=mc(),i=Or(),c=Tt(),u=wc(),s=bc(),a=Sc(),f=TypeError,l=function(t,e){this.stopped=t,this.result=e},h=l.prototype;return ac=function(p,d,v){var y,g,m,b,w,S,x,k=v&&v.that,O=!(!v||!v.AS_ENTRIES),E=!(!v||!v.IS_RECORD),j=!(!v||!v.IS_ITERATOR),P=!(!v||!v.INTERRUPTED),T=t(d,k),R=function(t){return y&&a(y,"normal",t),new l(!0,t)},I=function(t){return O?(r(t),P?T(t[0],t[1],R):T(t[0],t[1])):P?T(t,R):T(t)};if(E)y=p.iterator;else if(j)y=p;else{if(!(g=s(p)))throw new f(n(p)+" is not iterable");if(o(g)){for(m=0,b=i(p);b>m;m++)if((w=I(p[m]))&&c(h,w))return w;return new l(!1)}y=u(p,g)}for(S=E?p.next:y.next;!(x=e(S,y)).done;){try{w=I(x.value)}catch(t){a(y,"throw",t)}if("object"==typeof w&&w&&c(h,w))return w}return new l(!1)},ac}function kc(){if(hc)return lc;hc=1;var t=ye()("iterator"),e=!1;try{var r=0,n={next:function(){return{done:!!r++}},return:function(){e=!0}};n[t]=function(){return this},Array.from(n,(function(){throw 2}))}catch(t){}return lc=function(r,n){try{if(!n&&!e)return!1}catch(t){return!1}var o=!1;try{var i={};i[t]=function(){return{next:function(){return{done:o=!0}}}},r(i)}catch(t){}return o}}function Oc(){if(dc)return pc;dc=1;var t=Zi(),e=kc(),r=Ki().CONSTRUCTOR;return pc=r||!e((function(e){t.all(e).then(void 0,(function(){}))}))}var Ec,jc={};var Pc,Tc={};var Rc,Ic={};var Cc,Dc,Ac,_c,Mc={};function Wc(){if(Dc)return Cc;Dc=1;var t=Ce(),e=jt(),r=$i();return Cc=function(n,o){if(t(n),e(o)&&o.constructor===n)return o;var i=r.f(n);return(0,i.resolve)(o),i.promise}}function Nc(){return _c||(_c=1,function(){if(Hi)return Ii;Hi=1;var t,e,r,n=Sn(),o=ae(),i=Di(),c=g(),u=I(),s=rr(),a=jn(),f=Ai(),l=_i(),h=Mt(),p=Et(),d=jt(),v=Po(),y=Ni(),m=Li().set,b=qi(),w=Ji(),S=Vi(),x=Gi(),k=tr(),O=Zi(),E=Ki(),j=$i(),P="Promise",T=E.CONSTRUCTOR,R=E.REJECTION_EVENT,C=E.SUBCLASSING,D=k.getterFor(P),A=k.set,_=O&&O.prototype,M=O,W=_,N=c.TypeError,U=c.document,F=c.process,z=j.f,L=z,B=!!(U&&U.createEvent&&c.dispatchEvent),G="unhandledrejection",q=function(t){var e;return!(!d(t)||!p(e=t.then))&&e},J=function(t,e){var r,n,o,i=e.value,c=1===e.state,s=c?t.ok:t.fail,a=t.resolve,f=t.reject,l=t.domain;try{s?(c||(2===e.rejection&&H(e),e.rejection=1),!0===s?r=i:(l&&l.enter(),r=s(i),l&&(l.exit(),o=!0)),r===t.promise?f(new N("Promise-chain cycle")):(n=q(r))?u(n,r,a,f):a(r)):f(i)}catch(t){l&&!o&&l.exit(),f(t)}},V=function(t,e){t.notified||(t.notified=!0,b((function(){for(var r,n=t.reactions;r=n.get();)J(r,t);t.notified=!1,e&&!t.rejection&&K(t)})))},Z=function(t,e,r){var n,o;B?((n=U.createEvent("Event")).promise=e,n.reason=r,n.initEvent(t,!1,!0),c.dispatchEvent(n)):n={promise:e,reason:r},!R&&(o=c["on"+t])?o(n):t===G&&w("Unhandled promise rejection",r)},K=function(t){u(m,c,(function(){var e,r=t.facade,n=t.value;if(Y(t)&&(e=S((function(){i?F.emit("unhandledRejection",n,r):Z(G,r,n)})),t.rejection=i||Y(t)?2:1,e.error))throw e.value}))},Y=function(t){return 1!==t.rejection&&!t.parent},H=function(t){u(m,c,(function(){var e=t.facade;i?F.emit("rejectionHandled",e):Z("rejectionhandled",e,t.value)}))},X=function(t,e,r){return function(n){t(e,n,r)}},$=function(t,e,r){t.done||(t.done=!0,r&&(t=r),t.value=e,t.state=2,V(t,!0))},Q=function(t,e,r){if(!t.done){t.done=!0,r&&(t=r);try{if(t.facade===e)throw new N("Promise can't be resolved itself");var n=q(e);n?b((function(){var r={done:!1};try{u(n,e,X(Q,r,t),X($,r,t))}catch(e){$(r,e,t)}})):(t.value=e,t.state=1,V(t,!1))}catch(e){$({done:!1},e,t)}}};if(T&&(W=(M=function(e){v(this,W),h(e),u(t,this);var r=D(this);try{e(X(Q,r),X($,r))}catch(t){$(r,t)}}).prototype,(t=function(t){A(this,{type:P,done:!1,notified:!1,parent:!1,reactions:new x,rejection:!1,state:0,value:void 0})}).prototype=s(W,"then",(function(t,e){var r=D(this),n=z(y(this,M));return r.parent=!0,n.ok=!p(t)||t,n.fail=p(e)&&e,n.domain=i?F.domain:void 0,0===r.state?r.reactions.add(n):b((function(){J(n,r)})),n.promise})),e=function(){var e=new t,r=D(e);this.promise=e,this.resolve=X(Q,r),this.reject=X($,r)},j.f=z=function(t){return t===M||void 0===t?new e(t):L(t)},!o&&p(O)&&_!==Object.prototype)){r=_.then,C||s(_,"then",(function(t,e){var n=this;return new M((function(t,e){u(r,n,t,e)})).then(t,e)}),{unsafe:!0});try{delete _.constructor}catch(t){}a&&a(_,W)}n({global:!0,constructor:!0,wrap:!0,forced:T},{Promise:M}),f(M,P,!1,!0),l(P)}(),function(){if(vc)return yc;vc=1;var t=Sn(),e=I(),r=Mt(),n=$i(),o=Vi(),i=xc();t({target:"Promise",stat:!0,forced:Oc()},{all:function(t){var c=this,u=n.f(c),s=u.resolve,a=u.reject,f=o((function(){var n=r(c.resolve),o=[],u=0,f=1;i(t,(function(t){var r=u++,i=!1;f++,e(n,c,t).then((function(t){i||(i=!0,o[r]=t,--f||s(o))}),a)})),--f||s(o)}));return f.error&&a(f.value),u.promise}})}(),function(){if(Ec)return jc;Ec=1;var t=Sn(),e=ae(),r=Ki().CONSTRUCTOR,n=Zi(),o=Pt(),i=Et(),c=rr(),u=n&&n.prototype;if(t({target:"Promise",proto:!0,forced:r,real:!0},{catch:function(t){return this.then(void 0,t)}}),!e&&i(n)){var s=o("Promise").prototype.catch;u.catch!==s&&c(u,"catch",s,{unsafe:!0})}}(),function(){if(Pc)return Tc;Pc=1;var t=Sn(),e=I(),r=Mt(),n=$i(),o=Vi(),i=xc();t({target:"Promise",stat:!0,forced:Oc()},{race:function(t){var c=this,u=n.f(c),s=u.reject,a=o((function(){var n=r(c.resolve);i(t,(function(t){e(n,c,t).then(u.resolve,s)}))}));return a.error&&s(a.value),u.promise}})}(),function(){if(Rc)return Ic;Rc=1;var t=Sn(),e=$i();t({target:"Promise",stat:!0,forced:Ki().CONSTRUCTOR},{reject:function(t){var r=e.f(this);return(0,r.reject)(t),r.promise}})}(),function(){if(Ac)return Mc;Ac=1;var t=Sn(),e=Pt(),r=ae(),n=Zi(),o=Ki().CONSTRUCTOR,i=Wc(),c=e("Promise"),u=r&&!o;t({target:"Promise",stat:!0,forced:r||o},{resolve:function(t){return i(u&&this===c?n:this,t)}})}()),Ri}var Uc,Fc={};var zc,Lc,Bc,Gc,qc,Jc={};function Vc(){if(Bc)return Jc;Bc=1;var t=I(),e=rr(),r=Pt(),n=Wt(),o=de(),i=ye(),c=function(){if(Lc)return zc;Lc=1;var t,e,r=g(),n=le(),o=Et(),i=fo(),c=$n(),u=rr(),s=ye(),a=ae(),f=s("asyncIterator"),l=r.AsyncIterator,h=n.AsyncIteratorPrototype;if(h)t=h;else if(o(l))t=l.prototype;else if(n.USE_FUNCTION_CONSTRUCTOR||r.USE_FUNCTION_CONSTRUCTOR)try{e=c(c(c(Function("return async function*(){}()")()))),c(e)===Object.prototype&&(t=e)}catch(t){}return t?a&&(t=i(t)):t={},o(t[f])||u(t,f,(function(){return this})),zc=t}(),u=i("asyncDispose"),s=r("Promise");return o(c,u)||e(c,u,(function(){var e=this;return new s((function(r,o){var i=n(e,"return");i?s.resolve(t(i,e)).then((function(){r(void 0)}),o):r(void 0)}))})),Jc}!function(){if(qc)return Gc;qc=1,Mn(),Ln(),Vn(),Nc(),lo(),function(){if(Uc)return Fc;Uc=1;var t=Sn(),e=T(),r=Pt(),n=Mt(),o=Po(),i=rr(),c=To(),u=Ro(),s=ye(),a=tr(),f=Co(),l=r("Promise"),h=r("SuppressedError"),p=ReferenceError,d=s("asyncDispose"),v=s("toStringTag"),y="AsyncDisposableStack",g=a.set,m=a.getterFor(y),b="async-dispose",w="disposed",S=function(t){var e=m(t);if(e.state===w)throw new p("AsyncDisposableStack already disposed");return e},x=function(){g(o(this,k),{type:y,state:"pending",stack:[]}),e||(this.disposed=!1)},k=x.prototype;c(k,{disposeAsync:function(){var t=this;return new l((function(r,n){var o=m(t);if(o.state===w)return r(void 0);o.state=w,e||(t.disposed=!0);var i,c=o.stack,u=c.length,s=!1,a=function(t){s?i=new h(t,i):(s=!0,i=t),f()},f=function(){if(u){var t=c[--u];c[u]=void 0;try{l.resolve(t()).then(f,a)}catch(t){a(t)}}else o.stack=void 0,s?n(i):r(void 0)};f()}))},use:function(t){return f(S(this),t,b),t},adopt:function(t,e){var r=S(this);return n(e),f(r,void 0,b,(function(){return e(t)})),t},defer:function(t){var e=S(this);n(t),f(e,void 0,b,t)},move:function(){var t=S(this),r=new x;return m(r).stack=t.stack,t.stack=[],t.state=w,e||(this.disposed=!0),r}}),e&&u(k,"disposed",{configurable:!0,get:function(){return m(this).state===w}}),i(k,d,k.disposeAsync,{name:"disposeAsync"}),i(k,v,y,{nonWritable:!0}),t({global:!0,constructor:!0},{AsyncDisposableStack:x})}(),Vc(),Lo();var t=Bo();Gc=t.AsyncDisposableStack}();var Zc,Kc,Yc,Hc,Xc,$c,Qc={},tu={};function eu(){if(Zc)return tu;Zc=1;var t=ye();return tu.f=t,tu}function ru(){if(Yc)return Kc;Yc=1;var t=Bo(),e=de(),r=eu(),n=De().f;return Kc=function(o){var i=t.Symbol||(t.Symbol={});e(i,o)||n(i,o,{value:r.f(o)})}}!function(){if($c)return Xc;$c=1,function(){if(Hc)return Qc;Hc=1;var t=g(),e=ru(),r=De().f,n=Se().f,o=t.Symbol;if(e("asyncDispose"),o){var i=n(o,"asyncDispose");i.enumerable&&i.configurable&&i.writable&&r(o,"asyncDispose",{value:i.value,enumerable:!1,configurable:!1,writable:!1})}}();var t=eu();Xc=t.f("asyncDispose")}();var nu,ou,iu,cu={};!function(){if(iu)return ou;iu=1,function(){if(nu)return cu;nu=1;var t=g(),e=ru(),r=De().f,n=Se().f,o=t.Symbol;if(e("dispose"),o){var i=n(o,"dispose");i.enumerable&&i.configurable&&i.writable&&r(o,"dispose",{value:i.value,enumerable:!1,configurable:!1,writable:!1})}}();var t=eu();ou=t.f("dispose")}();var uu,su,au,fu,lu,hu,pu,du,vu,yu,gu,mu,bu,wu,Su,xu,ku,Ou,Eu,ju,Pu={},Tu={exports:{}},Ru={};function Iu(){if(uu)return Ru;uu=1;var t=St(),e=Ot(),r=Pr().f,n=Ui(),o="object"==typeof self&&self&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(self):[];return Ru.f=function(i){return o&&"Window"===t(i)?function(t){try{return r(t)}catch(t){return n(o)}}(i):r(e(i))},Ru}function Cu(){if(lu)return fu;lu=1;var t=P(),e=jt(),r=St(),n=function(){if(au)return su;au=1;var t=P();return su=t((function(){if("function"==typeof ArrayBuffer){var t=new ArrayBuffer(8);Object.isExtensible(t)&&Object.defineProperty(t,"a",{value:8})}}))}(),o=Object.isExtensible,i=t((function(){}));return fu=i||n?function(t){return!!e(t)&&((!n||"ArrayBuffer"!==r(t))&&(!o||o(t)))}:o}function Du(){if(du)return Tu.exports;du=1;var t=Sn(),e=wt(),r=Qe(),n=jt(),o=de(),i=De().f,c=Pr(),u=Iu(),s=Cu(),a=ve(),f=function(){if(pu)return hu;pu=1;var t=P();return hu=!t((function(){return Object.isExtensible(Object.preventExtensions({}))}))}(),l=!1,h=a("meta"),p=0,d=function(t){i(t,h,{value:{objectID:"O"+p++,weakData:{}}})},v=Tu.exports={enable:function(){v.enable=function(){},l=!0;var r=c.f,n=e([].splice),o={};o[h]=1,r(o).length&&(c.f=function(t){for(var e=r(t),o=0,i=e.length;o<i;o++)if(e[o]===h){n(e,o,1);break}return e},t({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:u.f}))},fastKey:function(t,e){if(!n(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,h)){if(!s(t))return"F";if(!e)return"E";d(t)}return t[h].objectID},getWeakData:function(t,e){if(!o(t,h)){if(!s(t))return!0;if(!e)return!1;d(t)}return t[h].weakData},onFreeze:function(t){return f&&l&&s(t)&&!o(t,h)&&d(t),t}};return r[h]=!0,Tu.exports}function Au(){if(wu)return bu;wu=1;var t=Sn(),e=I(),r=ae(),n=He(),o=Et(),i=function(){if(mu)return gu;mu=1;var t=zo().IteratorPrototype,e=fo(),r=bt(),n=Ai(),o=gc(),i=function(){return this};return gu=function(c,u,s,a){var f=u+" Iterator";return c.prototype=e(t,{next:r(+!a,s)}),n(c,f,!1,!0),o[f]=i,c}}(),c=$n(),u=jn(),s=Ai(),a=Ae(),f=rr(),l=ye(),h=gc(),p=zo(),d=n.PROPER,v=n.CONFIGURABLE,y=p.IteratorPrototype,g=p.BUGGY_SAFARI_ITERATORS,m=l("iterator"),b="keys",w="values",S="entries",x=function(){return this};return bu=function(n,l,p,k,O,E,j){i(p,l,k);var P,T,R,I=function(t){if(t===O&&M)return M;if(!g&&t&&t in A)return A[t];switch(t){case b:case w:case S:return function(){return new p(this,t)}}return function(){return new p(this)}},C=l+" Iterator",D=!1,A=n.prototype,_=A[m]||A["@@iterator"]||O&&A[O],M=!g&&_||I(O),W="Array"===l&&A.entries||_;if(W&&(P=c(W.call(new n)))!==Object.prototype&&P.next&&(r||c(P)===y||(u?u(P,y):o(P[m])||f(P,m,x)),s(P,C,!0,!0),r&&(h[C]=x)),d&&O===w&&_&&_.name!==w&&(!r&&v?a(A,"name",w):(D=!0,M=function(){return e(_,this)})),O)if(T={values:I(w),keys:E?M:I(b),entries:I(S)},j)for(R in T)(g||D||!(R in A))&&f(A,R,T[R]);else t({target:l,proto:!0,forced:g||D},T);return r&&!j||A[m]===M||f(A,m,M,{name:O}),h[l]=M,T}}function _u(){return xu?Su:(xu=1,Su=function(t,e){return{value:t,done:e}})}function Mu(){return ju||(ju=1,Eu||(Eu=1,function(){if(yu)return vu;yu=1;var t=Sn(),e=g(),r=wt(),n=wn(),o=rr(),i=Du(),c=xc(),u=Po(),s=Et(),a=xt(),f=jt(),l=P(),h=kc(),p=Ai(),d=Tn();return vu=function(v,y,g){var m=-1!==v.indexOf("Map"),b=-1!==v.indexOf("Weak"),w=m?"set":"add",S=e[v],x=S&&S.prototype,k=S,O={},E=function(t){var e=r(x[t]);o(x,t,"add"===t?function(t){return e(this,0===t?0:t),this}:"delete"===t?function(t){return!(b&&!f(t))&&e(this,0===t?0:t)}:"get"===t?function(t){return b&&!f(t)?void 0:e(this,0===t?0:t)}:"has"===t?function(t){return!(b&&!f(t))&&e(this,0===t?0:t)}:function(t,r){return e(this,0===t?0:t,r),this})};if(n(v,!s(S)||!(b||x.forEach&&!l((function(){(new S).entries().next()})))))k=g.getConstructor(y,v,m,w),i.enable();else if(n(v,!0)){var j=new k,P=j[w](b?{}:-0,1)!==j,T=l((function(){j.has(1)})),R=h((function(t){new S(t)})),I=!b&&l((function(){for(var t=new S,e=5;e--;)t[w](e,e);return!t.has(-0)}));R||((k=y((function(t,e){u(t,x);var r=d(new S,t,k);return a(e)||c(e,r[w],{that:r,AS_ENTRIES:m}),r}))).prototype=x,x.constructor=k),(T||I)&&(E("delete"),E("has"),m&&E("get")),(I||P)&&E(w),b&&x.clear&&delete x.clear}return O[v]=k,t({global:!0,constructor:!0,forced:k!==S},O),p(k,v),b||g.setStrong(k,v,m),k}}()("Set",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),function(){if(Ou)return ku;Ou=1;var t=fo(),e=Ro(),r=To(),n=Io(),o=Po(),i=xt(),c=xc(),u=Au(),s=_u(),a=_i(),f=T(),l=Du().fastKey,h=tr(),p=h.set,d=h.getterFor;return ku={getConstructor:function(u,s,a,h){var v=u((function(e,r){o(e,y),p(e,{type:s,index:t(null),first:void 0,last:void 0,size:0}),f||(e.size=0),i(r)||c(r,e[h],{that:e,AS_ENTRIES:a})})),y=v.prototype,g=d(s),m=function(t,e,r){var n,o,i=g(t),c=b(t,e);return c?c.value=r:(i.last=c={index:o=l(e,!0),key:e,value:r,previous:n=i.last,next:void 0,removed:!1},i.first||(i.first=c),n&&(n.next=c),f?i.size++:t.size++,"F"!==o&&(i.index[o]=c)),t},b=function(t,e){var r,n=g(t),o=l(e);if("F"!==o)return n.index[o];for(r=n.first;r;r=r.next)if(r.key===e)return r};return r(y,{clear:function(){for(var e=g(this),r=e.first;r;)r.removed=!0,r.previous&&(r.previous=r.previous.next=void 0),r=r.next;e.first=e.last=void 0,e.index=t(null),f?e.size=0:this.size=0},delete:function(t){var e=this,r=g(e),n=b(e,t);if(n){var o=n.next,i=n.previous;delete r.index[n.index],n.removed=!0,i&&(i.next=o),o&&(o.previous=i),r.first===n&&(r.first=o),r.last===n&&(r.last=i),f?r.size--:e.size--}return!!n},forEach:function(t){for(var e,r=g(this),o=n(t,arguments.length>1?arguments[1]:void 0);e=e?e.next:r.first;)for(o(e.value,e.key,this);e&&e.removed;)e=e.previous},has:function(t){return!!b(this,t)}}),r(y,a?{get:function(t){var e=b(this,t);return e&&e.value},set:function(t,e){return m(this,0===t?0:t,e)}}:{add:function(t){return m(this,t=0===t?0:t,t)}}),f&&e(y,"size",{configurable:!0,get:function(){return g(this).size}}),v},setStrong:function(t,e,r){var n=e+" Iterator",o=d(e),i=d(n);u(t,e,(function(t,e){p(this,{type:n,target:t,state:o(t),kind:e,last:void 0})}),(function(){for(var t=i(this),e=t.kind,r=t.last;r&&r.removed;)r=r.previous;return t.target&&(t.last=r=r?r.next:t.state.first)?s("keys"===e?r.key:"values"===e?r.value:[r.key,r.value],!1):(t.target=void 0,s(void 0,!0))}),r?"entries":"values",!r,!0),a(e)}},ku}()))),Pu}var Wu,Nu,Uu,Fu,zu,Lu,Bu,Gu,qu,Ju,Vu,Zu,Ku,Yu,Hu,Xu,$u,Qu,ts,es,rs,ns,os,is,cs,us={};function ss(){if(Nu)return Wu;Nu=1;var t=wt(),e=Set.prototype;return Wu={Set,add:t(e.add),has:t(e.has),remove:t(e.delete),proto:e}}function as(){if(Fu)return Uu;Fu=1;var t=ss().has;return Uu=function(e){return t(e),e}}function fs(){if(Lu)return zu;Lu=1;var t=I();return zu=function(e,r,n){for(var o,i,c=n?e:e.iterator,u=e.next;!(o=t(u,c)).done;)if(void 0!==(i=r(o.value)))return i},zu}function ls(){if(Gu)return Bu;Gu=1;var t=wt(),e=fs(),r=ss(),n=r.Set,o=r.proto,i=t(o.forEach),c=t(o.keys),u=c(new n).next;return Bu=function(t,r,n){return n?e({iterator:c(t),next:u},r):i(t,r)},Bu}function hs(){return Yu?Ku:(Yu=1,Ku=function(t){return{iterator:t,next:t.next,done:!1}})}function ps(){if(Xu)return Hu;Xu=1;var t=Mt(),e=Ce(),r=I(),n=Sr(),o=hs(),i="Invalid size",c=RangeError,u=TypeError,s=Math.max,a=function(e,r){this.set=e,this.size=s(r,0),this.has=t(e.has),this.keys=t(e.keys)};return a.prototype={getIterator:function(){return o(e(r(this.keys,this.set)))},includes:function(t){return r(this.has,this.set,t)}},Hu=function(t){e(t);var r=+t.size;if(r!=r)throw new u(i);var o=n(r);if(o<0)throw new c(i);return new a(t,o)}}function ds(){if(Qu)return $u;Qu=1;var t=as(),e=ss(),r=function(){if(Ju)return qu;Ju=1;var t=ss(),e=ls(),r=t.Set,n=t.add;return qu=function(t){var o=new r;return e(t,(function(t){n(o,t)})),o},qu}(),n=function(){if(Zu)return Vu;Zu=1;var t=kn(),e=ss();return Vu=t(e.proto,"size","get")||function(t){return t.size},Vu}(),o=ps(),i=ls(),c=fs(),u=e.has,s=e.remove;return $u=function(e){var a=t(this),f=o(e),l=r(a);return n(a)<=f.size?i(a,(function(t){f.includes(t)&&s(l,t)})):c(f.getIterator(),(function(t){u(a,t)&&s(l,t)})),l}}function vs(){if(es)return ts;es=1;var t=Pt(),e=function(t){return{size:t,has:function(){return!1},keys:function(){return{next:function(){return{done:!0}}}}}};return ts=function(r){var n=t("Set");try{(new n)[r](e(0));try{return(new n)[r](e(-1)),!1}catch(t){return!0}}catch(t){return!1}}}function ys(){if(os)return ns;os=1;var t=g(),e=wt();return ns=function(r,n){return e(t[r].prototype[n])}}!function(){if(cs)return is;cs=1,Mu(),function(){if(rs)return us;rs=1;var t=Sn(),e=ds();t({target:"Set",proto:!0,real:!0,forced:!vs()("difference")},{difference:e})}();var t=ys();is=t("Set","difference")}();var gs,ms,bs,ws={};!function(){if(bs)return ms;bs=1,Nc(),function(){if(gs)return ws;gs=1;var t=Sn(),e=$i();t({target:"Promise",stat:!0},{withResolvers:function(){var t=e.f(this);return{promise:t.promise,resolve:t.resolve,reject:t.reject}}})}();var t=I(),e=Et(),r=Bo().Promise,n=r.withResolvers;ms=function(){return t(n,e(this)?this:r)}}();const Ss=function(t){let e=t;for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];const i=n.length;for(let t=0;t<i;t++)e=n[t](e);return e};function xs(){}function ks(t){return e=>(t(e),e)}const Os=!1,Es=Symbol("transferable"),js=new Map;function Ps(t,e){return js.set(e.stableUniqueIdentifier,new WeakRef(t)),Object.defineProperty(t,Es,{value:e,enumerable:!1,writable:!1,configurable:!1}),t}function Ts(t){return new Promise(((e,r)=>{t.oncomplete=t.onsuccess=()=>e(t.result),t.onabort=t.onerror=()=>r(t.error)}))}let Rs;function Is(){return Rs||(Rs=function(t,e){const r=indexedDB.open(t);r.onupgradeneeded=()=>r.result.createObjectStore(e);const n=Ts(r);return(t,r)=>n.then((n=>r(n.transaction(e,t).objectStore(e))))}("keyval-store","keyval")),Rs}function Cs(t,e){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Is();return r("readwrite",(r=>(r.put(e,t),Ts(r.transaction))))}class Ds{constructor(){a(this,"writers",new Set)}write(t){for(const e of this.writers)e.write(t)}}var As=new WeakMap,_s=new WeakMap,Ms=new WeakMap,Ws=new WeakMap,Ns=new WeakSet,Us=new WeakMap,Fs=new WeakMap;class zs{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>null;s(this,Ns),c(this,As,void 0),c(this,_s,void 0),c(this,Ms,null),c(this,Ws,null),c(this,Us,new Map),c(this,Fs,Date.now()),u(As,this,t),u(_s,this,e)}write(t){switch(t.level){case"error":console.error(...n(Ns,this,Bs).call(this,t),...t.args.map(Js));break;case"warn":console.warn(...n(Ns,this,Bs).call(this,t),...t.args.map(Js));break;case"info":console.info(...n(Ns,this,Bs).call(this,t),...t.args.map(Js));break;case"verbose":if(t.logger&&!n(Ns,this,Ls).call(this,t.logger))return;console.debug(...n(Ns,this,Bs).call(this,t),...t.args.map(Js))}}}function Ls(t){const e=i(_s,this).call(this);if(i(Ms,this)!==JSON.stringify(e)){if(e&&"*"!==e){const t=(Array.isArray(e)?e.map(String):[String(e)]).map((t=>t.replace(/[*]/g,".*"))),r=t.filter((t=>!t.startsWith("!"))),n=t.filter((t=>t.startsWith("!"))).map((t=>t.slice(1)));0===n.length&&n.push("\0");const o=new RegExp("^(".concat(r.join("|"),")"),"i"),i=new RegExp("^(".concat(n.join("|"),")"),"i");console.info("Inkwell: Logs are filtered using filter:",e,"inclusion:",o.source,"exclusion:",i.source),u(Ws,this,[o,i])}else u(Ws,this,null);u(Ms,this,JSON.stringify(e))}return i(Ws,this)?i(Ws,this)[0].test(t)&&!i(Ws,this)[1].test(t):Os}function Bs(t){const e=i(As,this),r="background: ".concat(n(Ns,this,qs).call(this),"; color: white; padding: 2px 4px; border-radius: 2px; font-size: 0.6em; margin-right: 0.5em; font-weight: bold");if(null===t.logger)return["%c".concat(e,"%c ").concat(new Date(t.timestamp).toISOString()," ").concat(t.text),r,""];const o=n(Ns,this,Gs).call(this,t.logger,t.context),c=null!==t.context?"".concat(t.logger,"|").concat(t.context):t.logger,u="background: ".concat(o,"; color: white");return["%c".concat(e,"%c ").concat(new Date(t.timestamp).toISOString()," [").concat(c,"]%c ").concat(t.text),r,u,""]}function Gs(t,e){const r=null!==e?"".concat(t,"|").concat(e):t;if(!i(Us,this).has(r)){const t=137.508*i(Us,this).size;i(Us,this).set(r,"hsl(".concat(t,", 100%, 20%)"))}return i(Us,this).get(r)}function qs(){const t=i(Fs,this)%100*137.508;return"hsl(".concat(t,", 100%, 20%)")}function Js(t){return!t||"object"!=typeof t||Array.isArray(t)?t:Symbol.iterator in t?"[Iterable ".concat(function(t){(Reflect.has(t,Symbol.toStringTag)||Reflect.has(t,"toString"))&&Reflect.get(t,Symbol.toStringTag);const e=Reflect.getPrototypeOf(t);if(null!=e&&e.constructor)return"".concat(e.constructor.name);return"Object"}(t),"]"):function(t){const e=Reflect.get(t,"toString");if("function"==typeof e&&e!==Object.prototype.toString)return!0;if(Reflect.has(t,Symbol.toStringTag))return!0;return!1}(t)?function(t){return String(t)}(t):t}var Vs=new WeakMap,Zs=new WeakMap;class Ks{constructor(){c(this,Vs,[]),c(this,Zs,null)}get messages(){return i(Vs,this)}write(t){const e="".concat(new Date(t.timestamp).toISOString()," ").concat(t.level.toUpperCase()," ").concat(t.text," ").concat(t.args.map(Ys).join(" "));i(Zs,this)?i(Zs,this).postMessage(e):i(Vs,this).push(e)}clear(){i(Vs,this).length=0}toTransferable(){const t=new MessageChannel;return t.port1.onmessage=t=>{"string"==typeof t.data&&i(Vs,this).push(t.data)},{kind:"MemoryLogWriter",port:t.port2}}static fromTransferable(t){const e=new Ks;return u(Zs,e,t.port),e}async copyToClipboard(){const t=i(Vs,this).sort().join("\n"),e=Reflect.get(globalThis,"copy");"function"==typeof e?e(t):await navigator.clipboard.writeText(t)}}function Ys(t){if(!t||"object"!=typeof t||Array.isArray(t))return t;if(Symbol.iterator in t)return"[Iterable ".concat(Hs(t),"]");if(function(t){const e=Reflect.get(t,"toString");if("function"==typeof e&&e!==Object.prototype.toString)return!0;if(Reflect.has(t,Symbol.toStringTag))return!0;return!1}(t))return function(t){return String(t)}(t);try{return JSON.stringify(t,null,2)}catch(e){return"[Non-Serializable Object ".concat(Hs(t),"]")}}function Hs(t){(Reflect.has(t,Symbol.toStringTag)||Reflect.has(t,"toString"))&&Reflect.get(t,Symbol.toStringTag);const e=Reflect.getPrototypeOf(t);return null!=e&&e.constructor?"".concat(e.constructor.name):"Object"}var Xs=new WeakMap,$s=new WeakMap,Qs=new WeakMap;class ta{constructor(t,e){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;c(this,Xs,void 0),c(this,$s,void 0),c(this,Qs,void 0),u(Xs,this,e),u($s,this,r),u(Qs,this,t)}write(t){var e;i(Qs,this).write(l(l({},t),{},{context:null!==(e=t.context)&&void 0!==e?e:i($s,this),logger:t.logger?"".concat(t.logger,"/").concat(i(Xs,this)):i(Xs,this)}))}}var ea=new WeakMap,ra=new WeakMap,na=new WeakMap,oa=new WeakMap,ia=new WeakSet;class ca{constructor(t){let{maximumTokens:e,tokensPerSecond:r}=t;s(this,ia),c(this,ea,void 0),c(this,ra,void 0),c(this,na,void 0),c(this,oa,void 0),u(ea,this,Math.abs(r/1e3)),u(ra,this,Math.max(1,e)),u(na,this,i(ra,this)),u(oa,this,performance.now())}take(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return!!this.canTake(t)&&(u(na,this,i(na,this)-t),!0)}canTake(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return n(ia,this,ua).call(this),i(na,this)>=t}}function ua(){const t=performance.now(),e=Math.floor((t-i(oa,this))*i(ea,this));e>0&&(u(na,this,Math.min(i(ra,this),i(na,this)+e)),u(oa,this,t))}var sa=new WeakMap,aa=new WeakMap;class fa{constructor(t){let{eventsPerSecond:e,eventsPerMinute:r}=t;c(this,sa,void 0),c(this,aa,void 0),u(sa,this,new ca({maximumTokens:e,tokensPerSecond:e})),u(aa,this,new ca({maximumTokens:r,tokensPerSecond:r/60}))}shouldSelect(){return i(sa,this).canTake()&&i(aa,this).take()&&i(sa,this).take()}}const la={patterns:{email:{regex:'(([^<>()[\\]\\\\.,;:\\s@"]+(\\.[^<>()[\\]\\\\.,;:\\s@"]+)*)|(".+"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))',prefixes:[],priority:0,description:"Email"},url:{regex:"[-a-zA-Z0-9@:%._\\+~#=]{1,256}\\.[a-zA-Z0-9()]{1,6}\\b((([-a-zA-Z0-9()@%_\\+~#&//=\\[\\]])|([.:?](?!$|\\s)))*)?",prefixes:["http://","https://"],priority:1,description:"URL"},creditCardNumber:{regex:"(\\d{4}\\d{4}\\d{4}\\d{4})|(\\d{4}\\-\\d{4}\\-\\d{4}\\-\\d{4})|(\\d{4}\\s\\d{4}\\s\\d{4}\\s\\d{4})",prefixes:[],priority:2,description:"Credit card number"},phoneNumber:{regex:"[\\+]?[(]?[0-9]{3}[)]?[-\\s\\.]?[0-9]{3}[-\\s\\.]?[0-9]{4,6}",prefixes:[],priority:3,description:"Phone number"},usSSN:{regex:"[0-9]{3}[-]*[0-9]{2}[-]*[0-9]{4}",prefixes:[],priority:4,description:"US SSN"},caSSN:{regex:"[0-9]{3}[\\s\\-]?[0-9]{3}[\\s\\-]?[0-9]{3}",prefixes:[],priority:5,description:"CA SIN"},ukSSN:{regex:"[A-Z]{2}[\\s\\-]?\\d{2}[\\s\\-]?\\d{2}[\\s\\-]?\\d{2}[\\s\\-]?[A-Z]",prefixes:[],priority:6,description:"UK NI NO"},iban:{regex:"[A-Z]{2}(-?|\\ )\\d{2}-?(?:\\ ?[A-Z]{4}-?)?(?:\\d{13,}|(?:\\ \\d{4}){3,5}\\ \\d{1,4})",prefixes:[],priority:7,description:"IBAN number"},variousID:{regex:"[A-Z]{0,2}(?:\\d{3,8}[\\ -])(?:\\d{2,8}[\\ -]){1,4}\\d{2,4}|\\d{7}[A-Z]?|\\d{5,18}",prefixes:[],priority:8,description:"Various ID number"}}};const ha="a".charCodeAt(0),pa="z".charCodeAt(0),da="A".charCodeAt(0),va="Z".charCodeAt(0),ya="0".charCodeAt(0),ga="9".charCodeAt(0),ma=t=>t>=ha&&t<=pa,ba=t=>t>=da&&t<=va,wa=t=>t>=ya&&t<=ga;function Sa(t,e){const r=new Array(t.length);let n=e;for(let e=t.length-1;e>=0;e--){const o=t.charCodeAt(e);ma(o)?(r[e]=ha+(e+n)%26,n/=26):ba(o)?(r[e]=da+(e+n)%26,n/=26):wa(o)?(r[e]=ya+(e+1+n)%10,n/=10):r[e]=o}return String.fromCharCode(...r)}function xa(t,e){let{groups:r,index:n}=e;const[o,i]=Object.entries(r).find((t=>{let[,e]=t;return void 0!==e}));return l(l({id:o},t.patterns[o]),{},{text:i,start:n,end:n+i.length})}class ka{constructor(t){a(this,"dlpConfiguration",void 0),a(this,"dlpRegex",void 0),a(this,"seed",0),this.dlpConfiguration=t,this.dlpRegex=function(t){let{patterns:e}=t;return new RegExp(Object.entries(e).sort(((t,e)=>{let[,{priority:r}]=t,[,{priority:n}]=e;return r-n})).map((t=>{let[e,{regex:r,prefixes:n}]=t;return r=n.length?"(".concat(n.join("|"),")").concat(r):r,"(?<".concat(e,">").concat(r,")")})).join("|"),"g")}(this.dlpConfiguration)}matchAll(t){const e=[];for(this.dlpRegex.lastIndex=0;;){const r=this.dlpRegex.exec(t);if(!r)break;const n={groups:r.groups,index:r.index};e.push(xa(this.dlpConfiguration,n))}return this.dlpRegex.lastIndex=0,e}sanitizedReplacement(t){return function(t,e){let{prefixes:r,text:n}=t;const o=r.find((t=>0===n.indexOf(t)));return void 0!==o?"".concat(o).concat(Sa(n.slice(o.length),e)):Sa(n,e)}(t,this.seed++)}sanitize(t){var e=this;return t.replace(this.dlpRegex,(function(){var t,r;const n={groups:(t=arguments.length-1,t<0||arguments.length<=t?void 0:arguments[t]),index:(r=arguments.length-3,r<0||arguments.length<=r?void 0:arguments[r])},o=xa(e.dlpConfiguration,n);return e.sanitizedReplacement(o)}))}}class Oa extends ka{sanitize(t){const e=super.sanitize(t);return this.seed=0,e}}const Ea=new Oa(la),ja=Ea.sanitize.bind(Ea),Pa={error:"ERROR",warn:"WARN",info:"INFO",verbose:"DEBUG"};var Ta=new WeakMap,Ra=new WeakMap,Ia=new WeakMap,Ca=new WeakMap,Da=new WeakMap,Aa=new WeakSet;class _a{constructor(t){s(this,Aa),c(this,Ta,new Map),c(this,Ra,void 0),c(this,Ia,void 0),c(this,Ca,0),c(this,Da,null),u(Ra,this,t),u(Ia,this,new fa({eventsPerSecond:t.logsPerSecond,eventsPerMinute:t.logsPerMinute}))}write(t){var e,r;"verbose"!==t.level&&("info"===t.level&&void 0===t.delivery||!1!==t.delivery&&(i(Ia,this).shouldSelect()?n(Aa,this,Wa).call(this,null!==(e=t.delivery)&&void 0!==e?e:{},n(Aa,this,Ma).call(this,t)):u(Ca,this,(r=i(Ca,this),++r))))}[Symbol.dispose](){null!==i(Da,this)&&(clearTimeout(i(Da,this)),u(Da,this,null)),n(Aa,this,Ua).call(this)}toTransferable(){return{kind:"FeLogWriter",options:i(Ra,this)}}static fromTransferable(t){return new _a(t.options)}}function Ma(t){var e;return JSON.stringify({timestamp:t.timestamp,level:Pa[t.level],message:t.text,logger:null!==(e=t.logger)&&void 0!==e?e:"root",application:i(Ra,this).application,version:i(Ra,this).version,client:i(Ra,this).client,env:i(Ra,this).environment,session:i(Ra,this).sessionId,extra:"error"===t.level?t.args.slice(1):t.args,exception:"error"===t.level?t.args[0]:void 0},((t,e)=>"string"==typeof e?ja(e):e))}function Wa(t,e){var r,o;const c="".concat(null!==(r=t.dataTier)&&void 0!==r?r:"continuous",":").concat(null!==(o=t.retentionInDays)&&void 0!==o?o:30),u=i(Ta,this).get(c);u?u.messages.push(e):i(Ta,this).set(c,{options:t,messages:[e]}),n(Aa,this,Na).call(this)}function Na(){if(null!==i(Da,this))return;u(Da,this,setTimeout((()=>{u(Da,this,null),n(Aa,this,Ua).call(this)}),7500))}function Ua(){for(const t of i(Ta,this).values())n(Aa,this,Fa).call(this,t.options,t.messages);i(Ca,this)>0&&(n(Aa,this,Fa).call(this,{retentionInDays:30,dataTier:"infrequent"},[n(Aa,this,Ma).call(this,{timestamp:Date.now(),level:"warn",logger:"FeLogWriter",context:null,text:"Dropped log messages due to rate limiting.",delivery:null,args:[{count:i(Ca,this)}]})]),u(Ca,this,0)),i(Ta,this).clear()}function Fa(t,e){let{retentionInDays:r=30,dataTier:n="continuous"}=t;if(0===e.length)return;const o="[".concat(e.join(","),"]"),i=new URL("https://f-log-inkwell.grammarly.io/batch/log");i.searchParams.set("retention",String(r)),i.searchParams.set("datatier",n),function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;return new Promise(((r,n)=>{let o=0;const i=()=>{t().then(r).catch((t=>{o++<e?setTimeout(i,2**o*1e3):n(t)}))};i()}))}((async()=>{var t;const e=await fetch(i,{body:o,method:"POST",cache:"no-store",headers:{"Content-Type":"application/json"},keepalive:!0});if(null===(t=e.body)||void 0===t||t.cancel(),!e.ok)throw new Error("Failed to send logs: ".concat(e.status," ").concat(e.statusText))})).catch((t=>{Os}))}var za=new WeakMap;class La{constructor(t){a(this,"writer",void 0),c(this,za,new Map),this.writer=t}error(){if(1===arguments.length){const t="string"==typeof(arguments.length<=0?void 0:arguments[0])?arguments.length<=0?void 0:arguments[0]:"",e="string"==typeof(arguments.length<=0?void 0:arguments[0])?null:arguments.length<=0?void 0:arguments[0];this.writer.write({context:null,timestamp:Date.now(),logger:null,level:"error",text:t,args:null===e?[]:[e],delivery:null})}else if(2===arguments.length&&"string"==typeof(arguments.length<=0?void 0:arguments[0])){var t;const e=arguments.length<=0?void 0:arguments[0],r="object"==typeof(arguments.length<=1?void 0:arguments[1])&&(arguments.length<=1?void 0:arguments[1])&&"message"in(arguments.length<=1?void 0:arguments[1])?arguments.length<=1?void 0:arguments[1]:null,n=null===r?arguments.length<=1?void 0:arguments[1]:void 0;this.writer.write(l(l({context:null},n),{},{timestamp:Date.now(),logger:null,level:"error",text:e,args:null===r?[]:[r],delivery:null!==(t=null==n?void 0:n.delivery)&&void 0!==t?t:null}))}else if(2===arguments.length){var e;const t=arguments.length<=0?void 0:arguments[0],r=arguments.length<=1?void 0:arguments[1];this.writer.write(l(l({context:null},r),{},{timestamp:Date.now(),logger:null,level:"error",text:t.message,args:[t],delivery:null!==(e=null==r?void 0:r.delivery)&&void 0!==e?e:null}))}else{var r;const t=arguments.length<=0?void 0:arguments[0],e=arguments.length<=1?void 0:arguments[1],n=arguments.length<=2?void 0:arguments[2];this.writer.write(l(l({context:null},n),{},{timestamp:Date.now(),logger:null,level:"error",text:t,args:[e],delivery:null!==(r=null==n?void 0:n.delivery)&&void 0!==r?r:null}))}}warn(t,e){var r;this.writer.write(l(l({context:null},e),{},{timestamp:Date.now(),logger:null,level:"warn",text:t,args:[],delivery:null!==(r=null==e?void 0:e.delivery)&&void 0!==r?r:null}))}info(t,e){var r;this.writer.write(l(l({context:null},e),{},{timestamp:Date.now(),logger:null,level:"info",text:t,args:[],delivery:null!==(r=null==e?void 0:e.delivery)&&void 0!==r?r:null}))}verbose(t,e){var r;const n="string"==typeof t?{}:t,o="string"==typeof t?t:e;for(var i=arguments.length,c=new Array(i>2?i-2:0),u=2;u<i;u++)c[u-2]=arguments[u];const s="string"==typeof t?void 0===e?c:[e,...c]:c;this.writer.write(l(l({context:null},n),{},{logger:null,timestamp:Date.now(),level:"verbose",text:o,args:s,delivery:null!==(r=null==n?void 0:n.delivery)&&void 0!==r?r:null}))}createLogger(t){var e;let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=null!==(e=i(za,this).get(t))&&void 0!==e?e:0;try{return new La(new ta(this.writer,t,null!=r?r:n>0?"".concat(n):null))}finally{i(za,this).set(t,n+1)}}addWriter(t){const e=this.writer;if(e instanceof Ds)return e.writers.add(t),{[Symbol.dispose]:()=>{e.writers.delete(t)}};throw new Error("This should be unreachable.")}getWriters(){const t=this.writer;if(t instanceof Ds)return Array.from(t.writers);throw new Error("This should be unreachable.")}}function Ba(){let t;try{const e=localStorage.getItem("DEBUG");t=JSON.parse(null!=e?e:"null"),Cs("DEBUG",JSON.stringify(t)).catch((()=>{}))}catch(t){}return Reflect.getOwnPropertyDescriptor(globalThis,"DEBUG")||Object.defineProperty(globalThis,"DEBUG",{get:()=>{void 0===t&&function(t){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:Is())("readonly",(e=>Ts(e.get(t))))}("DEBUG").then((e=>{try{t=JSON.parse(null!=e?e:"null")}catch(t){}})).catch((()=>{}));try{var e;return JSON.parse(null!==(e=localStorage.getItem("DEBUG"))&&void 0!==e?e:"null")}catch(e){return t}},set:e=>{Cs("DEBUG",JSON.stringify(e)).catch((()=>{}));try{localStorage.setItem("DEBUG",JSON.stringify(e))}catch(t){}t=e}}),new La(new Ds)}const Ga=Ps(Ba(),{stableUniqueIdentifier:"@grammarly/util-logging:DefaultLogger",serialize:t=>{const e=[];return[{writers:t.getWriters().map((t=>{if(t instanceof zs)return{kind:"ConsoleLogWriter"};if(t instanceof Ks){const r=t.toTransferable();return e.push(r.port),r}return t instanceof _a?t.toTransferable():void 0})),DEBUG:Reflect.get(globalThis,"DEBUG")},e]},deserialize:(t,e)=>{let{writers:r,DEBUG:n}=t;Reflect.set(globalThis,"DEBUG",n);for(const t of r)if(t)switch(t.kind){case"ConsoleLogWriter":e.addWriter(new zs);break;case"MemoryLogWriter":e.addWriter(Ks.fromTransferable(t));break;case"FeLogWriter":e.addWriter(_a.fromTransferable(t))}}});class qa{constructor(t,e){a(this,"name",void 0),a(this,"message",void 0),a(this,"cause",void 0),a(this,"stack",void 0),this.name=this.constructor===qa?"Error":this.constructor.name,this.message=t,this.cause=e,this.stack=qa.isStackTraceEnabled?function(t,e){if(!t)return;const r=t.split("\n");return r.splice(1,e.skip),r.join("\n")}(new Error(t).stack,{skip:1}):void 0}toString(){const t=this.constructor===qa?"Error":this.name;if(this.cause){const e="Caused by ".concat($a(Xa(this.cause),2));return"".concat(t,": ").concat(this.message,"\n").concat(e)}return"".concat(t,": ").concat(this.message)}[Symbol.toStringTag](){return this.toString()}toJSON(){return{name:this.name,message:this.message,stack:this.stack,cause:this.cause instanceof qa?this.cause:Ja(this.cause)}}}function Ja(t){if(void 0!==t)return t instanceof qa?t.toJSON():{name:t.name,message:t.message,stack:t.stack,cause:t.cause instanceof Error?Ja(t.cause):t.cause}}function Va(t){if(t instanceof qa)return t;if(t instanceof Error){const e=new qa(t.message);return Reflect.set(e,"name",t.name),Reflect.set(e,"stack",t.stack),t.cause&&Reflect.set(e,"cause",Va(t.cause)),e}return"object"==typeof(e=t)&&null!==e&&"message"in e&&"string"==typeof e.message?Za(t):new Ka(t);var e}function Za(t){const{message:e,name:r,cause:n,stack:o}=t,i=new qa(String(null!=e?e:"Unknown error"));return r&&Reflect.set(i,"name",String(r)),o&&Reflect.set(i,"stack",String(o)),n&&Reflect.set(i,"cause",Za(n)),i}a(qa,"isStackTraceEnabled",!0);class Ka extends qa{constructor(t){super("An unknown error occurred: "+String(t)),a(this,"thrownError",void 0),this.thrownError=t}toJSON(){return l(l({},super.toJSON()),{},{thrownError:this.thrownError})}}let Ya=class extends qa{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Object has been disposed"),a(this,"kind","ReferenceError")}};class Ha extends qa{constructor(t){super("Unreachable case: ".concat(String(t))),a(this,"value",void 0),this.value=t}}function Xa(t){var e;if(t instanceof qa)return t.toString();if(t.cause){const e="Caused by ".concat($a(Xa(Va(t.cause)),2));return"".concat(t.name,": ").concat(t.message,"\n").concat(e)}return"".concat(t.name,": ").concat(t.message,"\n").concat($a(null!==(e=t.stack)&&void 0!==e?e:"",2))}function $a(t,e){const r=" ".repeat(e);return t.replace(/\r?\n/g,(t=>t+r)).trimStart()}function Qa(t){return"object"==typeof t&&null!==t&&"ok"in t&&"boolean"==typeof t.ok&&(t.ok?"value"in t:"error"in t&&((e=t.error)instanceof qa||e instanceof Error||"object"==typeof e&&null!==e&&"message"in e&&"string"==typeof e.message));var e}function tf(t){return Object.freeze({ok:!0,value:t,error:void 0})}function ef(t){return Object.freeze({ok:!1,value:void 0,error:t})}function rf(t){return Qa(t)&&nf(t)?t:ef(Va(t))}function nf(t){return!t.ok}async function of(t){return tf(t)}async function cf(t){return ef(t)}async function uf(t){try{return of(await t())}catch(t){return rf(t)}}function sf(t){return async e=>{const r=await e;return r.ok?of(t(r.value)):r}}function af(t){return async e=>{const r=await e;return r.ok?r:cf(await t(r.error))}}function ff(t){return async e=>{const r=await e;return r.ok?t(r.value):r}}function lf(t){return async e=>t(await e)}function hf(){const t=crypto.randomUUID();return t}var pf=new WeakMap,df=new WeakMap;class vf{constructor(){c(this,pf,hf()),c(this,df,0)}next(){var t;i(df,this)===Number.MAX_SAFE_INTEGER?(u(df,this,0),u(pf,this,hf())):u(df,this,(t=i(df,this),++t));return"".concat(i(pf,this),"-").concat(i(df,this).toString(16))}}var yf=new WeakMap,gf=new WeakMap,mf=new WeakMap,bf=new WeakMap;class wf{constructor(){c(this,yf,Ga.createLogger("FastDOM")),c(this,gf,[]),c(this,mf,[]),c(this,bf,!1)}get estimatedExecutionDuration(){return(i(gf,this).length+7*i(mf,this).length)/40}measure(t){const e=Promise.withResolvers();return i(gf,this).push((()=>{try{e.resolve(t())}catch(t){e.reject(t)}})),this._schedule(),uf((()=>e.promise))}mutate(t){const e=Promise.withResolvers();return i(mf,this).push((async()=>{try{e.resolve(await t())}catch(t){e.reject(t)}})),this._schedule(),uf((()=>e.promise))}_schedule(){i(bf,this)||(u(bf,this,!0),requestAnimationFrame((()=>this.flush())))}flush(){performance.now();const t=i(gf,this).splice(0),e=i(mf,this).splice(0);t.forEach((t=>t()));performance.now();e.forEach((t=>t()));performance.now();u(bf,this,!1)}clear(){i(gf,this).length=0,i(mf,this).length=0}}const Sf=new wf;function xf(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return 0===e?.5+t|0:Math.round((t+Number.EPSILON)*10**e)/10**e}function kf(t,e,r){t.style.getPropertyValue(e)!==r&&(null==r?t.style.removeProperty(e):t.style.setProperty(e,String(r)))}function Of(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:self.devicePixelRatio;const r=1===e?0:e<10?1:e<100?2:Math.ceil(Math.log10(e));return xf(t,r)}var Ef=function(t,e){return Ef=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},Ef(t,e)};function jf(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}Ef(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}function Pf(t,e,r,n){return new(r||(r=Promise))((function(o,i){function c(t){try{s(n.next(t))}catch(t){i(t)}}function u(t){try{s(n.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(c,u)}s((n=n.apply(t,e||[])).next())}))}function Tf(t,e){var r,n,o,i,c={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(u){return function(s){return function(u){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(c=0)),c;)try{if(r=1,n&&(o=2&u[0]?n.return:u[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,u[1])).done)return o;switch(n=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return c.label++,{value:u[1],done:!1};case 5:c.label++,n=u[1],u=[0];continue;case 7:u=c.ops.pop(),c.trys.pop();continue;default:if(!(o=c.trys,(o=o.length>0&&o[o.length-1])||6!==u[0]&&2!==u[0])){c=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){c.label=u[1];break}if(6===u[0]&&c.label<o[1]){c.label=o[1],o=u;break}if(o&&c.label<o[2]){c.label=o[2],c.ops.push(u);break}o[2]&&c.ops.pop(),c.trys.pop();continue}u=e.call(t,c)}catch(t){u=[6,t],n=0}finally{r=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,s])}}}function Rf(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function If(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,o,i=r.call(t),c=[];try{for(;(void 0===e||e-- >0)&&!(n=i.next()).done;)c.push(n.value)}catch(t){o={error:t}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return c}function Cf(t,e,r){if(r||2===arguments.length)for(var n,o=0,i=e.length;o<i;o++)!n&&o in e||(n||(n=Array.prototype.slice.call(e,0,o)),n[o]=e[o]);return t.concat(n||Array.prototype.slice.call(e))}function Df(t){return this instanceof Df?(this.v=t,this):new Df(t)}function Af(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,o=r.apply(t,e||[]),i=[];return n={},c("next"),c("throw"),c("return",(function(t){return function(e){return Promise.resolve(e).then(t,a)}})),n[Symbol.asyncIterator]=function(){return this},n;function c(t,e){o[t]&&(n[t]=function(e){return new Promise((function(r,n){i.push([t,e,r,n])>1||u(t,e)}))},e&&(n[t]=e(n[t])))}function u(t,e){try{(r=o[t](e)).value instanceof Df?Promise.resolve(r.value.v).then(s,a):f(i[0][2],r)}catch(t){f(i[0][3],t)}var r}function s(t){u("next",t)}function a(t){u("throw",t)}function f(t,e){t(e),i.shift(),i.length&&u(i[0][0],i[0][1])}}function _f(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,r=t[Symbol.asyncIterator];return r?r.call(t):(t=Rf(t),e={},n("next"),n("throw"),n("return"),e[Symbol.asyncIterator]=function(){return this},e);function n(r){e[r]=t[r]&&function(e){return new Promise((function(n,o){(function(t,e,r,n){Promise.resolve(n).then((function(e){t({value:e,done:r})}),e)})(n,o,(e=t[r](e)).done,e.value)}))}}}function Mf(t){return"function"==typeof t}function Wf(t){var e=t((function(t){Error.call(t),t.stack=(new Error).stack}));return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}var Nf=Wf((function(t){return function(e){t(this),this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map((function(t,e){return e+1+") "+t.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e}}));function Uf(t,e){if(t){var r=t.indexOf(e);0<=r&&t.splice(r,1)}}var Ff=function(){function t(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}var e;return t.prototype.unsubscribe=function(){var t,e,r,n,o;if(!this.closed){this.closed=!0;var i=this._parentage;if(i)if(this._parentage=null,Array.isArray(i))try{for(var c=Rf(i),u=c.next();!u.done;u=c.next()){u.value.remove(this)}}catch(e){t={error:e}}finally{try{u&&!u.done&&(e=c.return)&&e.call(c)}finally{if(t)throw t.error}}else i.remove(this);var s=this.initialTeardown;if(Mf(s))try{s()}catch(t){o=t instanceof Nf?t.errors:[t]}var a=this._finalizers;if(a){this._finalizers=null;try{for(var f=Rf(a),l=f.next();!l.done;l=f.next()){var h=l.value;try{Bf(h)}catch(t){o=null!=o?o:[],t instanceof Nf?o=Cf(Cf([],If(o)),If(t.errors)):o.push(t)}}}catch(t){r={error:t}}finally{try{l&&!l.done&&(n=f.return)&&n.call(f)}finally{if(r)throw r.error}}}if(o)throw new Nf(o)}},t.prototype.add=function(e){var r;if(e&&e!==this)if(this.closed)Bf(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(r=this._finalizers)&&void 0!==r?r:[]).push(e)}},t.prototype._hasParent=function(t){var e=this._parentage;return e===t||Array.isArray(e)&&e.includes(t)},t.prototype._addParent=function(t){var e=this._parentage;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t},t.prototype._removeParent=function(t){var e=this._parentage;e===t?this._parentage=null:Array.isArray(e)&&Uf(e,t)},t.prototype.remove=function(e){var r=this._finalizers;r&&Uf(r,e),e instanceof t&&e._removeParent(this)},t.EMPTY=((e=new t).closed=!0,e),t}(),zf=Ff.EMPTY;function Lf(t){return t instanceof Ff||t&&"closed"in t&&Mf(t.remove)&&Mf(t.add)&&Mf(t.unsubscribe)}function Bf(t){Mf(t)?t():t.unsubscribe()}var Gf={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},qf={setTimeout:function(t,e){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];return setTimeout.apply(void 0,Cf([t,e],If(r)))},clearTimeout:function(t){var e=qf.delegate;return((null==e?void 0:e.clearTimeout)||clearTimeout)(t)},delegate:void 0};function Jf(t){qf.setTimeout((function(){throw t}))}function Vf(){}function Zf(t){t()}var Kf=function(t){function e(e){var r=t.call(this)||this;return r.isStopped=!1,e?(r.destination=e,Lf(e)&&e.add(r)):r.destination=tl,r}return jf(e,t),e.create=function(t,e,r){return new $f(t,e,r)},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this),this.destination=null)},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){try{this.destination.error(t)}finally{this.unsubscribe()}},e.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e}(Ff),Yf=Function.prototype.bind;function Hf(t,e){return Yf.call(t,e)}var Xf=function(){function t(t){this.partialObserver=t}return t.prototype.next=function(t){var e=this.partialObserver;if(e.next)try{e.next(t)}catch(t){Qf(t)}},t.prototype.error=function(t){var e=this.partialObserver;if(e.error)try{e.error(t)}catch(t){Qf(t)}else Qf(t)},t.prototype.complete=function(){var t=this.partialObserver;if(t.complete)try{t.complete()}catch(t){Qf(t)}},t}(),$f=function(t){function e(e,r,n){var o,i,c=t.call(this)||this;Mf(e)||!e?o={next:null!=e?e:void 0,error:null!=r?r:void 0,complete:null!=n?n:void 0}:c&&Gf.useDeprecatedNextContext?((i=Object.create(e)).unsubscribe=function(){return c.unsubscribe()},o={next:e.next&&Hf(e.next,i),error:e.error&&Hf(e.error,i),complete:e.complete&&Hf(e.complete,i)}):o=e;return c.destination=new Xf(o),c}return jf(e,t),e}(Kf);function Qf(t){Jf(t)}var tl={closed:!0,next:Vf,error:function(t){throw t},complete:Vf},el="function"==typeof Symbol&&Symbol.observable||"@@observable";function rl(t){return t}function nl(t){return 0===t.length?rl:1===t.length?t[0]:function(e){return t.reduce((function(t,e){return e(t)}),e)}}var ol=function(){function t(t){t&&(this._subscribe=t)}return t.prototype.lift=function(e){var r=new t;return r.source=this,r.operator=e,r},t.prototype.subscribe=function(t,e,r){var n,o=this,i=(n=t)&&n instanceof Kf||function(t){return t&&Mf(t.next)&&Mf(t.error)&&Mf(t.complete)}(n)&&Lf(n)?t:new $f(t,e,r);return Zf((function(){var t=o,e=t.operator,r=t.source;i.add(e?e.call(i,r):r?o._subscribe(i):o._trySubscribe(i))})),i},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){t.error(e)}},t.prototype.forEach=function(t,e){var r=this;return new(e=il(e))((function(e,n){var o=new $f({next:function(e){try{t(e)}catch(t){n(t),o.unsubscribe()}},error:n,complete:e});r.subscribe(o)}))},t.prototype._subscribe=function(t){var e;return null===(e=this.source)||void 0===e?void 0:e.subscribe(t)},t.prototype[el]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return nl(t)(this)},t.prototype.toPromise=function(t){var e=this;return new(t=il(t))((function(t,r){var n;e.subscribe((function(t){return n=t}),(function(t){return r(t)}),(function(){return t(n)}))}))},t.create=function(e){return new t(e)},t}();function il(t){var e;return null!==(e=null!=t?t:Gf.Promise)&&void 0!==e?e:Promise}function cl(t){return function(e){if(function(t){return Mf(null==t?void 0:t.lift)}(e))return e.lift((function(e){try{return t(e,this)}catch(t){this.error(t)}}));throw new TypeError("Unable to lift unknown Observable type")}}function ul(t,e,r,n,o){return new sl(t,e,r,n,o)}var sl=function(t){function e(e,r,n,o,i,c){var u=t.call(this,e)||this;return u.onFinalize=i,u.shouldUnsubscribe=c,u._next=r?function(t){try{r(t)}catch(t){e.error(t)}}:t.prototype._next,u._error=o?function(t){try{o(t)}catch(t){e.error(t)}finally{this.unsubscribe()}}:t.prototype._error,u._complete=n?function(){try{n()}catch(t){e.error(t)}finally{this.unsubscribe()}}:t.prototype._complete,u}return jf(e,t),e.prototype.unsubscribe=function(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;t.prototype.unsubscribe.call(this),!r&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}},e}(Kf),al=Wf((function(t){return function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}})),fl=function(t){function e(){var e=t.call(this)||this;return e.closed=!1,e.currentObservers=null,e.observers=[],e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return jf(e,t),e.prototype.lift=function(t){var e=new ll(this,this);return e.operator=t,e},e.prototype._throwIfClosed=function(){if(this.closed)throw new al},e.prototype.next=function(t){var e=this;Zf((function(){var r,n;if(e._throwIfClosed(),!e.isStopped){e.currentObservers||(e.currentObservers=Array.from(e.observers));try{for(var o=Rf(e.currentObservers),i=o.next();!i.done;i=o.next()){i.value.next(t)}}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}}}))},e.prototype.error=function(t){var e=this;Zf((function(){if(e._throwIfClosed(),!e.isStopped){e.hasError=e.isStopped=!0,e.thrownError=t;for(var r=e.observers;r.length;)r.shift().error(t)}}))},e.prototype.complete=function(){var t=this;Zf((function(){if(t._throwIfClosed(),!t.isStopped){t.isStopped=!0;for(var e=t.observers;e.length;)e.shift().complete()}}))},e.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(e.prototype,"observed",{get:function(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0},enumerable:!1,configurable:!0}),e.prototype._trySubscribe=function(e){return this._throwIfClosed(),t.prototype._trySubscribe.call(this,e)},e.prototype._subscribe=function(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)},e.prototype._innerSubscribe=function(t){var e=this,r=this,n=r.hasError,o=r.isStopped,i=r.observers;return n||o?zf:(this.currentObservers=null,i.push(t),new Ff((function(){e.currentObservers=null,Uf(i,t)})))},e.prototype._checkFinalizedStatuses=function(t){var e=this,r=e.hasError,n=e.thrownError,o=e.isStopped;r?t.error(n):o&&t.complete()},e.prototype.asObservable=function(){var t=new ol;return t.source=this,t},e.create=function(t,e){return new ll(t,e)},e}(ol),ll=function(t){function e(e,r){var n=t.call(this)||this;return n.destination=e,n.source=r,n}return jf(e,t),e.prototype.next=function(t){var e,r;null===(r=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===r||r.call(e,t)},e.prototype.error=function(t){var e,r;null===(r=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===r||r.call(e,t)},e.prototype.complete=function(){var t,e;null===(e=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===e||e.call(t)},e.prototype._subscribe=function(t){var e,r;return null!==(r=null===(e=this.source)||void 0===e?void 0:e.subscribe(t))&&void 0!==r?r:zf},e}(fl),hl=function(t){function e(e){var r=t.call(this)||this;return r._value=e,r}return jf(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),e.prototype._subscribe=function(e){var r=t.prototype._subscribe.call(this,e);return!r.closed&&e.next(this._value),r},e.prototype.getValue=function(){var t=this,e=t.hasError,r=t.thrownError,n=t._value;if(e)throw r;return this._throwIfClosed(),n},e.prototype.next=function(e){t.prototype.next.call(this,this._value=e)},e}(fl),pl=function(){return Date.now()},dl=function(t){function e(e,r){return t.call(this)||this}return jf(e,t),e.prototype.schedule=function(t,e){return this},e}(Ff),vl={setInterval:function(t,e){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];return setInterval.apply(void 0,Cf([t,e],If(r)))},clearInterval:function(t){var e=vl.delegate;return((null==e?void 0:e.clearInterval)||clearInterval)(t)},delegate:void 0},yl=function(t){function e(e,r){var n=t.call(this,e,r)||this;return n.scheduler=e,n.work=r,n.pending=!1,n}return jf(e,t),e.prototype.schedule=function(t,e){var r;if(void 0===e&&(e=0),this.closed)return this;this.state=t;var n=this.id,o=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(o,n,e)),this.pending=!0,this.delay=e,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(o,this.id,e),this},e.prototype.requestAsyncId=function(t,e,r){return void 0===r&&(r=0),vl.setInterval(t.flush.bind(t,this),r)},e.prototype.recycleAsyncId=function(t,e,r){if(void 0===r&&(r=0),null!=r&&this.delay===r&&!1===this.pending)return e;null!=e&&vl.clearInterval(e)},e.prototype.execute=function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var r=this._execute(t,e);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(t,e){var r,n=!1;try{this.work(t)}catch(t){n=!0,r=t||new Error("Scheduled action threw falsy error")}if(n)return this.unsubscribe(),r},e.prototype.unsubscribe=function(){if(!this.closed){var e=this.id,r=this.scheduler,n=r.actions;this.work=this.state=this.scheduler=null,this.pending=!1,Uf(n,this),null!=e&&(this.id=this.recycleAsyncId(r,e,null)),this.delay=null,t.prototype.unsubscribe.call(this)}},e}(dl),gl=function(){function t(e,r){void 0===r&&(r=t.now),this.schedulerActionCtor=e,this.now=r}return t.prototype.schedule=function(t,e,r){return void 0===e&&(e=0),new this.schedulerActionCtor(this,t).schedule(r,e)},t.now=pl,t}(),ml=new(function(t){function e(e,r){void 0===r&&(r=gl.now);var n=t.call(this,e,r)||this;return n.actions=[],n._active=!1,n}return jf(e,t),e.prototype.flush=function(t){var e=this.actions;if(this._active)e.push(t);else{var r;this._active=!0;do{if(r=t.execute(t.state,t.delay))break}while(t=e.shift());if(this._active=!1,r){for(;t=e.shift();)t.unsubscribe();throw r}}},e}(gl))(yl),bl=ml,wl=new ol((function(t){return t.complete()}));var Sl=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t};var xl="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function kl(t){if(t instanceof ol)return t;if(null!=t){if(function(t){return Mf(t[el])}(t))return i=t,new ol((function(t){var e=i[el]();if(Mf(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")}));if(Sl(t))return o=t,new ol((function(t){for(var e=0;e<o.length&&!t.closed;e++)t.next(o[e]);t.complete()}));if(Mf(null==(n=t)?void 0:n.then))return r=t,new ol((function(t){r.then((function(e){t.closed||(t.next(e),t.complete())}),(function(e){return t.error(e)})).then(null,Jf)}));if(function(t){return Symbol.asyncIterator&&Mf(null==t?void 0:t[Symbol.asyncIterator])}(t))return Ol(t);if(function(t){return Mf(null==t?void 0:t[xl])}(t))return e=t,new ol((function(t){var r,n;try{for(var o=Rf(e),i=o.next();!i.done;i=o.next()){var c=i.value;if(t.next(c),t.closed)return}}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}t.complete()}));if(function(t){return Mf(null==t?void 0:t.getReader)}(t))return Ol(function(t){return Af(this,arguments,(function(){var e,r,n;return Tf(this,(function(o){switch(o.label){case 0:e=t.getReader(),o.label=1;case 1:o.trys.push([1,,9,10]),o.label=2;case 2:return[4,Df(e.read())];case 3:return r=o.sent(),n=r.value,r.done?[4,Df(void 0)]:[3,5];case 4:return[2,o.sent()];case 5:return[4,Df(n)];case 6:return[4,o.sent()];case 7:return o.sent(),[3,2];case 8:return[3,10];case 9:return e.releaseLock(),[7];case 10:return[2]}}))}))}(t))}var e,r,n,o,i;throw function(t){return new TypeError("You provided "+(null!==t&&"object"==typeof t?"an invalid object":"'"+t+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}(t)}function Ol(t){return new ol((function(e){(function(t,e){var r,n,o,i;return Pf(this,void 0,void 0,(function(){var c,u;return Tf(this,(function(s){switch(s.label){case 0:s.trys.push([0,5,6,11]),r=_f(t),s.label=1;case 1:return[4,r.next()];case 2:if((n=s.sent()).done)return[3,4];if(c=n.value,e.next(c),e.closed)return[2];s.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return u=s.sent(),o={error:u},[3,11];case 6:return s.trys.push([6,,9,10]),n&&!n.done&&(i=r.return)?[4,i.call(r)]:[3,8];case 7:s.sent(),s.label=8;case 8:return[3,10];case 9:if(o)throw o.error;return[7];case 10:return[7];case 11:return e.complete(),[2]}}))}))})(t,e).catch((function(t){return e.error(t)}))}))}var El=Wf((function(t){return function(){t(this),this.name="EmptyError",this.message="no elements in sequence"}}));function jl(t,e){return cl((function(r,n){var o=0;r.subscribe(ul(n,(function(r){n.next(t.call(e,r,o++))})))}))}var Pl=Array.isArray;function Tl(t){return jl((function(e){return function(t,e){return Pl(e)?t.apply(void 0,Cf([],If(e))):t(e)}(t,e)}))}function Rl(t,e,r){return void 0===r&&(r=1/0),Mf(e)?Rl((function(r,n){return jl((function(t,o){return e(r,t,n,o)}))(kl(t(r,n)))}),r):("number"==typeof e&&(r=e),cl((function(e,n){return function(t,e,r,n,o,i,c,u){var s=[],a=0,f=0,l=!1,h=function(){!l||s.length||a||e.complete()},p=function(t){a++;var o=!1;kl(r(t,f++)).subscribe(ul(e,(function(t){e.next(t)}),(function(){o=!0}),void 0,(function(){if(o)try{for(a--;s.length&&a<n;)t=void 0,t=s.shift(),c||p(t);h()}catch(t){e.error(t)}var t})))};return t.subscribe(ul(e,(function(t){return a<n?p(t):s.push(t)}),(function(){l=!0,h()}))),function(){}}(e,n,t,r)})))}var Il=["addListener","removeListener"],Cl=["addEventListener","removeEventListener"],Dl=["on","off"];function Al(t,e,r,n){if(Mf(r)&&(n=r,r=void 0),n)return Al(t,e,r).pipe(Tl(n));var o=If(function(t){return Mf(t.addEventListener)&&Mf(t.removeEventListener)}(t)?Cl.map((function(n){return function(o){return t[n](e,o,r)}})):function(t){return Mf(t.addListener)&&Mf(t.removeListener)}(t)?Il.map(_l(t,e)):function(t){return Mf(t.on)&&Mf(t.off)}(t)?Dl.map(_l(t,e)):[],2),i=o[0],c=o[1];if(!i&&Sl(t))return Rl((function(t){return Al(t,e,r)}))(kl(t));if(!i)throw new TypeError("Invalid event target");return new ol((function(t){var e=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return t.next(1<e.length?e:e[0])};return i(e),function(){return c(e)}}))}function _l(t,e){return function(r){return function(n){return t[r](e,n)}}}function Ml(t,e,r){void 0===t&&(t=0),void 0===r&&(r=bl);var n,o=-1;return null!=e&&((n=e)&&Mf(n.schedule)?r=e:o=e),new ol((function(e){var n=function(t){return t instanceof Date&&!isNaN(t)}(t)?+t-r.now():t;n<0&&(n=0);var i=0;return r.schedule((function(){e.closed||(e.next(i++),0<=o?this.schedule(void 0,o):e.complete())}),n)}))}function Wl(t,e){return cl((function(r,n){var o=0;r.subscribe(ul(n,(function(r){return t.call(e,r,o++)&&n.next(r)})))}))}function Nl(t,e,r){void 0===e&&(e=ml);var n=Ml(t,e);return function(t,e){return cl((function(r,n){var o=null!=e?e:{},i=o.leading,c=void 0===i||i,u=o.trailing,s=void 0!==u&&u,a=!1,f=null,l=null,h=!1,p=function(){null==l||l.unsubscribe(),l=null,s&&(y(),h&&n.complete())},d=function(){l=null,h&&n.complete()},v=function(e){return l=kl(t(e)).subscribe(ul(n,p,d))},y=function(){if(a){a=!1;var t=f;f=null,n.next(t),!h&&v(t)}};r.subscribe(ul(n,(function(t){a=!0,f=t,(!l||l.closed)&&(c?y():v(t))}),(function(){h=!0,(!(s&&a&&l)||l.closed)&&n.complete()})))}))}((function(){return n}),r)}function Ul(t){return e=>{const r=function(t){return"function"==typeof t?{next:e=>t(e),error:()=>{},complete:()=>{}}:{next:e=>{var r;return null===(r=t.next)||void 0===r?void 0:r.call(t,e)},error:e=>{var r;return null===(r=t.error)||void 0===r?void 0:r.call(t,e)},complete:()=>{var e;return null===(e=t.complete)||void 0===e?void 0:e.call(t)}}}(null!=t?t:{}),n=e.subscribe({next:t=>r.next(t),error:t=>r.error(Va(t)),complete:()=>r.complete()});return{[Symbol.dispose]:()=>n.unsubscribe()}}}function Fl(t){return t*self.devicePixelRatio}function zl(t){return t/self.devicePixelRatio}function Ll(t){return{x:t.x,y:t.y,width:t.width,height:t.height}}function Bl(t){return 0===t.width||0===t.height}function Gl(t){const e=Fl(1);return Ll({x:t.x*e,y:t.y*e,width:t.width*e,height:t.height*e})}function ql(t){return{x:t.x,y:t.y}}function Jl(t){const e=Fl(1);return ql({x:t.x*e,y:t.y*e})}function Vl(t){return{x:t.x,y:t.y}}function Zl(t){return{x:t.x,y:t.y,width:t.width,height:t.height}}class Kl extends qa{}class Yl extends Kl{constructor(t){super("Unknown action: ".concat(t)),a(this,"action",void 0),this.action=t}toJSON(){return l(l({},super.toJSON()),{},{action:this.action})}}class Hl extends Kl{constructor(t,e,r){super("Timeout waiting for response for ".concat(e,"()")),a(this,"id",void 0),a(this,"action",void 0),a(this,"data",void 0),this.id=t,this.action=e,this.data=r}toJSON(){return l(l({},super.toJSON()),{},{action:this.action,id:this.id,data:this.data})}}var Xl=new WeakMap,$l=new WeakMap,Ql=new WeakMap,th=new WeakMap,eh=new WeakMap,rh=new WeakMap,nh=new WeakMap,oh=new WeakMap,ih=new WeakMap,ch=new WeakSet;class uh{constructor(t,e){var r,o,a,f,l;s(this,ch),c(this,Xl,new DisposableStack),c(this,$l,new vf),c(this,Ql,void 0),c(this,th,void 0),c(this,eh,void 0),c(this,rh,void 0),c(this,nh,void 0),c(this,oh,new fl),c(this,ih,new Map),u(th,this,t),u(eh,this,e.handler);const h=null===(r=e.logger)||void 0===r?void 0:r.name,p=null===(o=e.logger)||void 0===o?void 0:o.location;u(Ql,this,Ga.createLogger(["RPC",p,h].filter(Boolean).join("/"),null===(a=e.logger)||void 0===a?void 0:a.context)),u(rh,this,null!==(f=e.report)&&void 0!==f?f:null),u(nh,this,null!==(l=e.allowClientsToDispose)&&void 0!==l&&l);const d=new AbortController;i(Xl,this).defer((()=>{i(Ql,this).verbose("RPC disposed."),d.abort(),i(ih,this).forEach((t=>t(ef(new Ya))))})),i(Xl,this).use(Ss(i(oh,this),Rl((t=>n(ch,this,sh).call(this,t))),Ul({next:t=>{let[e,r]=t;"failure"===e.data.status&&i(Ql,this).error("Outbound ".concat(e.action," error response:"),Va(e.data.data));try{"transferable"===i(th,this).kind?i(th,this).port.postMessage(e,null!=r?r:[]):i(th,this).port.postMessage(e)}catch(t){i(Ql,this).error("Unexpected error calling postMessage",Va(t))}},error:t=>{i(Ql,this).error("Unexpected error responding to inbound RPC message",t)}}))),i(th,this).port.addEventListener("message",(t=>{switch(t.data.type){case"request":Os,i(oh,this).next(t.data);break;case"response":{Os,"failure"===t.data.data.status&&i(Ql,this).error("Inbound ".concat(t.data.action," error response:"),Va(t.data.data.data));const e=i(ih,this).get(t.data.id);e?e(tf(t.data)):(i(Ql,this).warn('Unexpected response with "'.concat(t.data.action,'" action.')),i(Ql,this).verbose("Unexpected response:",t.data));break}default:throw new Ha(t.data)}}),{signal:d.signal});const v=i(th,this).port;v instanceof MessagePort&&(v.addEventListener("messageerror",(t=>i(Ql,this).error("MessagePort error:",Va(t))),{signal:d.signal}),v.addEventListener("error",(t=>i(Ql,this).error("MessagePort error:",Va(t))),{signal:d.signal}),v.addEventListener("close",(()=>i(Ql,this).verbose("MessagePort closed.")),{signal:d.signal})),i(th,this).port.start()}createClient(){const t=new Set(["then","toJSON"]);return new Proxy({},{get:(e,r)=>{if(t.has(r))return;const n=r;return t.has(r)?void 0:(t,e)=>{var r;if(i(Xl,this).disposed)return cf(new Ya);const o=i($l,this).next(),c=Promise.withResolvers(),u=performance.now();let s=!1;const a=setTimeout((()=>{s=!0,c.resolve(ef(new Hl(o,String(n),t)))}),null!==(r=null==e?void 0:e.timeout)&&void 0!==r?r:5e3),f=()=>{i(ih,this).delete(o),clearTimeout(a)},l=e=>{if(f(),s)return i(Ql,this).warn('RPC response for "'.concat(String(n),'" was received after timeout.'),{delivery:!1}),void i(Ql,this).verbose("RPC response after timeout:",{action:n,request:t,response:e});if(nf(e))return void c.resolve(e);const r=e.value;if("failure"===r.data.status){var o;const t=function(t){var e;const r=t.data.data,n=new Kl(null!==(e=r.errorMessage)&&void 0!==e?e:"Unknown error");return Object.assign(n,r),n}(r);null===(o=i(rh,this))||void 0===o||o.call(this,{kind:"outbound",action:n,durationInMs:performance.now()-u,error:t}),c.resolve(ef(t))}else{var a;null===(a=i(rh,this))||void 0===a||a.call(this,{kind:"outbound",action:n,durationInMs:performance.now()-u}),c.resolve(tf(r.data.data))}},h={id:o,type:"request",action:String(n),data:t};var p;return i(ih,this).set(o,l),Ss(function(t){try{return tf(t())}catch(t){return rf(t)}}((()=>{var t;"transferable"===i(th,this).kind?i(th,this).port.postMessage(h,null!==(t=null==e?void 0:e.transfer)&&void 0!==t?t:[]):i(th,this).port.postMessage(h)})),(p=ks((t=>{i(Ql,this).error("Failed to send request:",t),l(ef(t))})),t=>t.ok?t:ef(p(t.error)))),c.promise}},has:(t,e)=>"string"==typeof e||e===Symbol.asyncDispose,set:()=>!1})}[Symbol.dispose](){return i(Xl,this).dispose()}}async function sh(t){if(i(Xl,this).disposed)return i(Ql,this).warn("Received request after RPC was disposed.",{delivery:!1}),i(Ql,this).verbose("Request after dispose:",t),[{id:t.id,type:"response",action:t.action,data:{status:"failure",data:new Ya}},null];if(i(nh,this)&&t.action===String(Symbol.asyncDispose)){i(Ql,this).verbose("Received dispose request. Disposing RPC.");try{return[{id:t.id,type:"response",action:t.action,data:{status:"success",data:null}},null]}finally{setTimeout((()=>i(Xl,this).dispose()),0)}}const e=t.action,r=i(eh,this)[e];if(!r)return[{id:t.id,type:"response",action:t.action,data:{status:"failure",data:new Yl(t.action)}},null];const n=[],o={transfer:"serializable"===i(th,this).kind?void 0:(t,e)=>(null==n||n.push(...e),t)},c=performance.now();try{var u;const e=await Reflect.apply(r,i(eh,this),[t.data,o]);var s;return nf(e)?(null===(s=i(rh,this))||void 0===s||s.call(this,{kind:"inbound",action:t.action,durationInMs:performance.now()-c,error:e.error}),[{id:t.id,type:"response",action:t.action,data:{status:"failure",data:e.error}},n]):(null===(u=i(rh,this))||void 0===u||u.call(this,{kind:"inbound",action:t.action,durationInMs:performance.now()-c}),[{id:t.id,type:"response",action:t.action,data:{status:"success",data:e.value}},n])}catch(t){throw i(Ql,this).error("Unhandled error in RPC handler. An RPC handler MUST NOT throw.",Va(t)),t}}function ah(t){return{capi:{capiAlertRemoved:e=>fh(t.capiAlertRemoved(e)),capiConnected:e=>fh(t.capiConnected(e)),capiDisconnected:e=>fh(t.capiDisconnected(e)),capiMessageReceived:e=>fh(t.capiMessageReceived(e)),capiTextRevision:e=>fh(t.capiTextRevision(e)),capiWebSocketClose:e=>fh(t.capiWebSocketClose(e)),capiWebSocketCreate:e=>fh(t.capiWebSocketCreate(e)),capiWebSocketConnect:e=>fh(t.capiWebSocketConnect(e)),capiWebSocketSend:e=>fh(t.capiWebSocketSend(e))},connector:{documentDidDestroy:e=>fh(t.documentDidDestroy(e)),documentDidFocus:e=>fh(t.documentDidFocus(e)),documentGeometryDidChange:e=>fh(t.documentGeometryDidChange(e)),documentGeometryWillChange:e=>fh(t.documentGeometryWillChange(e)),documentSelectedTextRangesDidChange:e=>fh(t.documentSelectedTextRangesDidChange(e)),documentTextDidChange:e=>fh(t.documentTextDidChange(e)),cancel:e=>fh(t.cancel(e))},textDecoration:{setTextDecorationVisibility:e=>fh(t.setTextDecorationVisibility(e))}}}function fh(t){return t.then((t=>new Promise(((e,r)=>nf(t)?r(t.error):e(t.value)))))}class lh extends qa{constructor(t){super("Error appending iframe to injection root",t)}}function hh(t,e){try{var r=h();const o=r.u(new DisposableStack),i=new MessageChannel,c=o.use(new uh({kind:"serializable",port:i.port1},{logger:{location:"Host",name:"Connector"},handler:(n=t,{cancel:t=>uf((()=>n.connector.cancel(t))),getDocumentText:t=>uf((()=>n.connector.getDocumentText(t))),getDocumentGeometry:t=>Ss(uf((()=>n.connector.getDocumentGeometry(t))),sf((t=>{return l(l({},t),{},{windowFrame:Gl(Zl(t.windowFrame)),viewportFrame:Gl(Zl(t.viewportFrame)),documentFrame:Gl(Zl(t.documentFrame)),documentScrollOffset:t.documentScrollOffset?Jl((e=t.documentScrollOffset,{x:e.x,y:e.y})):void 0});var e}))),getBoundingBoxesForTextRanges:t=>Ss(uf((()=>n.connector.getBoundingBoxesForTextRanges(t))),sf((t=>l(l({},t),{},{boundingBoxes:Object.fromEntries(Object.entries(t.boundingBoxes).map((t=>{let[e,r]=t;return[e,r.map((t=>{return Gl({x:(e=t).x,y:e.y,width:e.width,height:e.height});var e}))]})))})))),setDocumentSelectedTextRanges:t=>uf((()=>n.connector.setDocumentSelectedTextRanges(t))),applyDocumentTextChange:t=>uf((()=>n.connector.applyDocumentTextChange(t))),sendCapiMessage:t=>uf((()=>n.capi.sendCapiMessage(t))),handleTextDecorationInteraction:t=>uf((()=>n.textDecoration.handleTextDecorationInteraction(t))),makeExperimentationRequest:t=>uf((()=>n.experimentation.makeExperimentationRequest(t))),capiWebSocketOpened:t=>uf((()=>n.capi.capiWebSocketOpened(t))),capiWebSocketClosed:t=>uf((()=>n.capi.capiWebSocketClosed(t))),capiWebSocketMessage:t=>uf((()=>n.capi.capiWebSocketMessage(t))),capiWebSocketError:t=>uf((()=>n.capi.capiWebSocketError(t)))})})).createClient(),u=o.move();return{portForBackground:i.port2,connectorClient:c,start:()=>Ss(c.handshake({client:e,version:"0.1.4",protocolVersion:0,options:{}},{timeout:5e3}),sf(xs)),[Symbol.dispose]:()=>u.dispose()}}catch(t){r.e=t}finally{r.d()}var n}function ph(t){return Ss(function(t){switch(t.kind){case"secureKey":return Ss(uf((()=>t.getSecureKey())),sf((t=>({kind:"secureKey",secureKey:t}))),af((t=>new dh(t))));case"secureOrigin":return of({kind:"secureOrigin"});default:return cf(new Ha(t))}}(t.securityStrategy),sf((e=>{const r=new MessageChannel;return{connectRequest:{securityStrategy:e,hostPort:r.port2,connectorPort:t.connectorPort,groupId:t.groupId,windowId:t.windowId,injectedAs:t.injectedAs,client:t.client,servicesEnvironment:t.servicesEnvironment},hostPort:r.port1}})),ff((e=>{let{connectRequest:r,hostPort:n}=e;return t.iframe.contentWindow?of({connectRequest:r,hostPort:n,iframeContentWindow:t.iframe.contentWindow}):cf(new vh)})),sf((e=>{let{connectRequest:r,hostPort:n,iframeContentWindow:o}=e;return o.postMessage(r,t.targetOrigin,r.connectorPort?[r.hostPort,r.connectorPort]:[r.hostPort]),n})))}class dh extends qa{constructor(t){super("Error getting security key",t)}}class vh extends qa{constructor(){super("Iframe has no contentWindow")}}const yh="InkwellSecureKeyRequestMessage";const gh={pointerdown:null,pointerup:null,pointermove:null},mh=Math.ceil(1e3/30);function bh(t,e){try{var r=h();const n=r.u(new DisposableStack),o=function(t,e){return r=>{if(!function(t){return Object.keys(gh).includes(t)}(r.type))return;const n=e.getBoundingClientRect();var o,i;o=n,i={x:r.clientX,y:r.clientY},o.x<=i.x&&o.y<=i.y&&o.x+o.width>=i.x&&o.y+o.height>=i.y&&Ss(t.pointerEventDidEmit({kind:r.type,position:Vl({x:Fl(r.clientX-n.x),y:Fl(r.clientY-n.y)})}),af(ks((t=>Ga.error("Unexpected error forwarding pointer event to Iframe",t)))))}}(t,e);return n.use(Ss(Al(document.body,"pointermove"),Nl(mh),Ul(o))),n.use(Ss(Al(document.body,"pointerdown"),Ul(o))),n.use(Ss(Al(document.body,"pointerup"),Ul(o))),n.move()}catch(t){r.e=t}finally{r.d()}}async function wh(t,e){try{var r=h();const n=r.u(new DisposableStack),o=()=>n.use(function(t,e,r){const n=document.createElement("iframe");if(n.title="Grammarly",n.loading="eager",n.src=t,n.style.top="0",n.style.left="0",n.style.border="0",n.style.overflow="hidden",n.style.colorScheme="light dark",n.style.width="1px",n.style.height="1px",n.style.clipPath="inset(0 0 0 0)",n.style.zIndex=Number.MAX_SAFE_INTEGER.toString(),n.setAttribute("allow","compute-pressure *"),"popup"!==r.kind)throw new Ha(r.kind);return n.style.position="fixed",{iframe:new Promise((t=>{var r;n.addEventListener("load",(()=>t(tf(n)))),Ss(e,(r={success:e=>{try{e.appendChild(n)}catch(e){t(ef(new lh(Va(e))))}},failure:e=>{t(ef(e))}},async t=>{const e=await t;return e.ok?r.success(e.value):r.failure(e.error)}))})),[Symbol.dispose]:()=>n.remove()}}(t.frameSrc,uf((()=>t.getInjectionRoot(t.injectionOptions))),t.injectionOptions)).iframe,i=r=>{return Ss((o=()=>async function(t,e,r){try{var n,o,i=h();const c=i.u(new DisposableStack),u=new DisposableStack;let s=e?c.use(hh(e,t.client)):null;const a=Promise.withResolvers();return await Ss(ph({iframe:r,targetOrigin:new URL(t.frameSrc).origin,securityStrategy:t.iframeSecurityStrategy,connectorPort:null!==(n=null===(o=s)||void 0===o?void 0:o.portForBackground)&&void 0!==n?n:null,groupId:t.groupId,windowId:t.windowId,client:t.client,servicesEnvironment:t.servicesEnvironment,injectedAs:t.injectionOptions}),ff((async n=>{const{disposeConnector:o}=c.use(function(t){try{var e=h();const n=e.u(new DisposableStack),o=n.use(new DisposableStack),i=new hl(Ll({x:0,y:0,width:0,height:0})),c=new hl(new Set),u=t=>c.next(new Set(c.getValue()).add(t)),s=t=>{const e=new Set(c.getValue());e.delete(t),c.next(e)},a=t=>(e,r)=>{const n=hf();return u(n),Ss(t(e,r),lf(ks((()=>s(n)))))};let f=null;n.defer((()=>{var t;return null===(t=f)||void 0===t?void 0:t[Symbol.dispose]()}));const p=n.use(new uh({kind:"transferable",port:t.hostPort},{logger:{location:"Host",name:"Window",context:t.windowId},handler:{windowDidConnect:a((()=>(t.windowDidConnect(),of()))),getConnectorPort:a(((e,r)=>{let{transfer:n}=r;const o=t.createConnectorMessagePort();return of(o?n(o,[o]):null)})),updateWindowRect:a((e=>Ss(Sf.mutate((async()=>{const r=function(t){const e=zl(1);return Ll({x:t.x*e,y:t.y*e,width:t.width*e,height:t.height*e})}(e.screenRect);kf(t.iframe,"clip-path",Bl(r)?"inset(0 0 0 0)":"none"),kf(t.iframe,"top","".concat(Of(r.y),"px")),kf(t.iframe,"left","".concat(Of(r.x),"px")),kf(t.iframe,"width","".concat(Of(r.width),"px")),kf(t.iframe,"height","".concat(Of(r.height),"px"))})),sf((()=>i.next(e.screenRect)))))),updateWindowPosition:a((e=>Ss(Sf.mutate((async()=>{const r=function(t){const e=zl(1);return ql({x:t.x*e,y:t.y*e})}(e.screenPosition);kf(t.iframe,"top","".concat(Of(r.y),"px")),kf(t.iframe,"left","".concat(Of(r.x),"px"))})),sf((()=>i.next(l(l({},i.getValue()),e.screenPosition))))))),updateWindowSize:a((e=>Ss(Sf.mutate((async()=>{const r=function(t){const e=zl(1);return function(t){let{width:e,height:r}=t;return{width:e,height:r}}({width:t.width*e,height:t.height*e})}(e.size);kf(t.iframe,"clip-path",Bl(r)?"inset(0 0 0 0)":"none"),kf(t.iframe,"width","".concat(Of(r.width),"px")),kf(t.iframe,"height","".concat(Of(r.height),"px"))})),sf((()=>i.next(l(l({},i.getValue()),e.size))))))),showWindow:a((()=>Sf.mutate((async()=>{kf(t.iframe,"clip-path","none")})))),hideWindow:a((()=>Sf.mutate((async()=>{kf(t.iframe,"clip-path","inset(0 0 0 0)")})))),setClickThroughTransparency:a((e=>(e?(t.iframe.style.setProperty("pointer-events","none"),f&&f[Symbol.dispose](),f=bh(d,t.iframe)):(t.iframe.style.removeProperty("pointer-events"),f&&f[Symbol.dispose](),f=null),of()))),createWindow:a((e=>Ss(wh({client:t.client,frameSrc:t.frameSrc,iframeSecurityStrategy:t.iframeSecurityStrategy,groupId:t.groupId,windowId:e.windowId,injectionOptions:e.injectionOptions,servicesEnvironment:t.servicesEnvironment,getInjectionRoot:e=>t.getInjectionRoot(e)},null),sf((t=>(o.use(t),{injectedAs:e.injectionOptions})))))),closeWindow:async()=>(queueMicrotask((async()=>{var e,r;await(e=Ss(c,Wl((t=>0===t.size)),(r=1,r<=0?function(){return wl}:cl((function(t,e){var n=0;t.subscribe(ul(e,(function(t){++n<=r&&(e.next(t),r<=n&&e.complete())})))})))),new Promise((function(t,r){var n=new $f({next:function(e){t(e),n.unsubscribe()},error:r,complete:function(){r(new El)}});e.subscribe(n)}))),t.iframe.remove()})),of())}})),d=p.createClient();n.use(Ss(i,(r=1,Wl((function(t,e){return r<=e}))),Ul((t=>{d.windowRectDidUpdate({screenRect:t})}))));const v=n.move();return{disposeConnector:()=>{const t=hf();return u(t),Ss(d.disposeConnector(),lf(ks((()=>s(t)))))},[Symbol.dispose]:()=>v.dispose()}}catch(t){e.e=t}finally{e.d()}var r}({windowDidConnect:()=>a.resolve(),createConnectorMessagePort:()=>e?(s=u.use(hh(e,t.client)),Ss(s.start(),af(ks((t=>console.error("Failed to start connector",t))))),s.portForBackground):null,client:t.client,groupId:t.groupId,windowId:t.windowId,hostPort:n,iframe:r,frameSrc:t.frameSrc,iframeSecurityStrategy:t.iframeSecurityStrategy,injectionOptions:t.injectionOptions,servicesEnvironment:t.servicesEnvironment,getInjectionRoot:e=>t.getInjectionRoot(e)}));return await a.promise,u.use(c.move()),tf({connector:s?{apiForHost:ah(new Proxy(s.connectorClient,{get:(t,e)=>{if(s)return Reflect.get(s.connectorClient,e);Ga.error("Connector not available")}})),start:()=>{var t,e;return null!==(t=null===(e=s)||void 0===e?void 0:e.start())&&void 0!==t?t:cf(new qa("Connector not available"))}}:null,disposeConnector:o,[Symbol.dispose]:()=>u.dispose()})})))}catch(t){i.e=t}finally{i.d()}}(t,e,r),i={maxRetries:3,delayMs:()=>500},new Promise((t=>{var e,r;let n=0;const c=null!==(e=null==i?void 0:i.maxRetries)&&void 0!==e?e:3,u=null!==(r=null==i?void 0:i.delayMs)&&void 0!==r?r:()=>1e3,s=async()=>{const e=await o();e.ok?t(e):n++<c?setTimeout(s,u(n)):t(e)};s()}))),sf(ks((t=>n.use(t)))));var o,i},c=t=>{var e,r;return Ss(null!==(e=null===(r=t.connector)||void 0===r?void 0:r.start())&&void 0!==e?e:of(),sf((()=>t)))};return await Ss(o(),ff(i),ff(c),sf((t=>{var e;const r=n.move();return{connectorAPIForHost:null===(e=t.connector)||void 0===e?void 0:e.apiForHost,disposeConnector:()=>t.disposeConnector(),[Symbol.dispose]:()=>r.dispose()}})),af((t=>{const e=n.move();return new xh(e,"Failed to launch leader iframe",t)})))}catch(t){r.e=t}finally{r.d()}}var Sh=new WeakMap;class xh extends qa{constructor(t,e,r){super(e,r),c(this,Sh,void 0),u(Sh,this,t)}dispose(){return i(Sh,this).dispose()}[Symbol.dispose](){return this.dispose()}}async function kh(t){try{var e=h();const r=e.a(new AsyncDisposableStack);Os;const n="wg-"+hf(),o=await Ss(wh({client:t.client,servicesEnvironment:t.servicesEnvironment,frameSrc:t.frameSrc,iframeSecurityStrategy:t.iframeSecurityStrategy,injectionOptions:{kind:"popup"},windowId:"w-"+hf(),groupId:n,getInjectionRoot:e=>t.getInjectionRoot(e)},t.hostAPI),sf(ks((t=>{r.use(t),r.defer((async()=>{await Ss(t.disposeConnector(),af(ks((t=>{Ga.verbose("Unexpected error disposing connector for group ".concat(n),t),Ga.error("Unexpected error disposing connector",t)}))))}))}))),af(ks((t=>r.use(t)))));if(!o.ok)throw Ga.error("Inkwell launch error",o.error),o.error;const i=r.move();return l(l({},o.value.connectorAPIForHost),{},{dispose:()=>{i.disposeAsync()}})}catch(t){e.e=t}finally{await e.d()}}}}]);