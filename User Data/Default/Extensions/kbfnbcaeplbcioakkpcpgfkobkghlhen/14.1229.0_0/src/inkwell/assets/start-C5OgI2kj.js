var Ky=Object.defineProperty;var Hl=(t,e)=>(e=Symbol[t])?e:Symbol.for("Symbol."+t),lo=t=>{throw TypeError(t)};var Vy=(t,e,r)=>e in t?Ky(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var S=(t,e,r)=>Vy(t,typeof e!="symbol"?e+"":e,r),ha=(t,e,r)=>e.has(t)||lo("Cannot "+r);var a=(t,e,r)=>(ha(t,e,"read from private field"),r?r.call(t):e.get(t)),g=(t,e,r)=>e.has(t)?lo("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),v=(t,e,r,n)=>(ha(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),m=(t,e,r)=>(ha(t,e,"access private method"),r);var ga=(t,e,r,n)=>({set _(i){v(t,e,i,r)},get _(){return a(t,e,n)}});var ce=(t,e,r)=>{if(e!=null){typeof e!="object"&&typeof e!="function"&&lo("Object expected");var n;r&&(n=e[Hl("asyncDispose")]),n===void 0&&(n=e[Hl("dispose")]),typeof n!="function"&&lo("Object not disposable"),t.push([r,n,e])}else r&&t.push([r]);return e},ue=(t,e,r)=>{var n=typeof SuppressedError=="function"?SuppressedError:function(s,c,u,l){return l=Error(u),l.name="SuppressedError",l.error=s,l.suppressed=c,l},i=s=>e=r?new n(s,e,"An error was suppressed during disposal"):(r=!0,s),o=s=>{for(;s=t.pop();)try{var c=s[1]&&s[1].call(s[2]);if(s[0])return Promise.resolve(c).then(o,u=>(i(u),o()))}catch(u){i(u)}if(r)throw e};return o()};var fo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function GN(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Jn=function(t){return t&&t.Math===Math&&t},z=Jn(typeof globalThis=="object"&&globalThis)||Jn(typeof window=="object"&&window)||Jn(typeof self=="object"&&self)||Jn(typeof fo=="object"&&fo)||Jn(typeof fo=="object"&&fo)||function(){return this}()||Function("return this")(),Ki={},Y=function(t){try{return!!t()}catch{return!0}},Yy=Y,ye=!Yy(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),qy=Y,Fs=!qy(function(){var t=(function(){}).bind();return typeof t!="function"||t.hasOwnProperty("prototype")}),Xy=Fs,po=Function.prototype.call,be=Xy?po.bind(po):function(){return po.apply(po,arguments)},oh={},sh={}.propertyIsEnumerable,ah=Object.getOwnPropertyDescriptor,Zy=ah&&!sh.call({1:2},1);oh.f=Zy?function(e){var r=ah(this,e);return!!r&&r.enumerable}:sh;var Vi=function(t,e){return{enumerable:!(t&1),configurable:!(t&2),writable:!(t&4),value:e}},ch=Fs,uh=Function.prototype,_c=uh.call,Qy=ch&&uh.bind.bind(_c,_c),H=ch?Qy:function(t){return function(){return _c.apply(t,arguments)}},lh=H,eb=lh({}.toString),tb=lh("".slice),zn=function(t){return tb(eb(t),8,-1)},rb=H,nb=Y,ib=zn,va=Object,ob=rb("".split),sb=nb(function(){return!va("z").propertyIsEnumerable(0)})?function(t){return ib(t)==="String"?ob(t,""):va(t)}:va,Nr=function(t){return t==null},ab=Nr,cb=TypeError,Du=function(t){if(ab(t))throw new cb("Can't call method on "+t);return t},ub=sb,lb=Du,Yi=function(t){return ub(lb(t))},ma=typeof document=="object"&&document.all,G=typeof ma>"u"&&ma!==void 0?function(t){return typeof t=="function"||t===ma}:function(t){return typeof t=="function"},fb=G,Se=function(t){return typeof t=="object"?t!==null:fb(t)},ya=z,db=G,pb=function(t){return db(t)?t:void 0},He=function(t,e){return arguments.length<2?pb(ya[t]):ya[t]&&ya[t][e]},hb=H,qi=hb({}.isPrototypeOf),gb=z,Jl=gb.navigator,Kl=Jl&&Jl.userAgent,Xi=Kl?String(Kl):"",fh=z,ba=Xi,Vl=fh.process,Yl=fh.Deno,ql=Vl&&Vl.versions||Yl&&Yl.version,Xl=ql&&ql.v8,Qe,rs;Xl&&(Qe=Xl.split("."),rs=Qe[0]>0&&Qe[0]<4?1:+(Qe[0]+Qe[1]));!rs&&ba&&(Qe=ba.match(/Edge\/(\d+)/),(!Qe||Qe[1]>=74)&&(Qe=ba.match(/Chrome\/(\d+)/),Qe&&(rs=+Qe[1])));var dh=rs,Zl=dh,vb=Y,mb=z,yb=mb.String,ph=!!Object.getOwnPropertySymbols&&!vb(function(){var t=Symbol("symbol detection");return!yb(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&Zl&&Zl<41}),bb=ph,hh=bb&&!Symbol.sham&&typeof Symbol.iterator=="symbol",Sb=He,_b=G,Eb=qi,wb=hh,$b=Object,gh=wb?function(t){return typeof t=="symbol"}:function(t){var e=Sb("Symbol");return _b(e)&&Eb(e.prototype,$b(t))},kb=String,Ls=function(t){try{return kb(t)}catch{return"Object"}},Ib=G,Tb=Ls,Ob=TypeError,Je=function(t){if(Ib(t))return t;throw new Ob(Tb(t)+" is not a function")},Pb=Je,xb=Nr,Gn=function(t,e){var r=t[e];return xb(r)?void 0:Pb(r)},Sa=be,_a=G,Ea=Se,Rb=TypeError,Db=function(t,e){var r,n;if(e==="string"&&_a(r=t.toString)&&!Ea(n=Sa(r,t))||_a(r=t.valueOf)&&!Ea(n=Sa(r,t))||e!=="string"&&_a(r=t.toString)&&!Ea(n=Sa(r,t)))return n;throw new Rb("Can't convert object to primitive value")},vh={exports:{}},Cb=!1,Ql=z,Ab=Object.defineProperty,Cu=function(t,e){try{Ab(Ql,t,{value:e,configurable:!0,writable:!0})}catch{Ql[t]=e}return e},Nb=z,jb=Cu,ef="__core-js_shared__",tf=vh.exports=Nb[ef]||jb(ef,{});(tf.versions||(tf.versions=[])).push({version:"3.38.0",mode:"global",copyright:"Â© 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.38.0/LICENSE",source:"https://github.com/zloirock/core-js"});var Us=vh.exports,rf=Us,mh=function(t,e){return rf[t]||(rf[t]=e||{})},Mb=Du,Fb=Object,yh=function(t){return Fb(Mb(t))},Lb=H,Ub=yh,Bb=Lb({}.hasOwnProperty),_e=Object.hasOwn||function(e,r){return Bb(Ub(e),r)},zb=H,Gb=0,Wb=Math.random(),Hb=zb(1 .toString),Au=function(t){return"Symbol("+(t===void 0?"":t)+")_"+Hb(++Gb+Wb,36)},Jb=z,Kb=mh,nf=_e,Vb=Au,Yb=ph,qb=hh,Vr=Jb.Symbol,wa=Kb("wks"),Xb=qb?Vr.for||Vr:Vr&&Vr.withoutSetter||Vb,J=function(t){return nf(wa,t)||(wa[t]=Yb&&nf(Vr,t)?Vr[t]:Xb("Symbol."+t)),wa[t]},Zb=be,of=Se,sf=gh,Qb=Gn,eS=Db,tS=J,rS=TypeError,nS=tS("toPrimitive"),iS=function(t,e){if(!of(t)||sf(t))return t;var r=Qb(t,nS),n;if(r){if(e===void 0&&(e="default"),n=Zb(r,t,e),!of(n)||sf(n))return n;throw new rS("Can't convert object to primitive value")}return e===void 0&&(e="number"),eS(t,e)},oS=iS,sS=gh,bh=function(t){var e=oS(t,"string");return sS(e)?e:e+""},aS=z,af=Se,Ec=aS.document,cS=af(Ec)&&af(Ec.createElement),Nu=function(t){return cS?Ec.createElement(t):{}},uS=ye,lS=Y,fS=Nu,Sh=!uS&&!lS(function(){return Object.defineProperty(fS("div"),"a",{get:function(){return 7}}).a!==7}),dS=ye,pS=be,hS=oh,gS=Vi,vS=Yi,mS=bh,yS=_e,bS=Sh,cf=Object.getOwnPropertyDescriptor;Ki.f=dS?cf:function(e,r){if(e=vS(e),r=mS(r),bS)try{return cf(e,r)}catch{}if(yS(e,r))return gS(!pS(hS.f,e,r),e[r])};var Ke={},SS=ye,_S=Y,_h=SS&&_S(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),ES=Se,wS=String,$S=TypeError,Ve=function(t){if(ES(t))return t;throw new $S(wS(t)+" is not an object")},kS=ye,IS=Sh,TS=_h,ho=Ve,uf=bh,OS=TypeError,$a=Object.defineProperty,PS=Object.getOwnPropertyDescriptor,ka="enumerable",Ia="configurable",Ta="writable";Ke.f=kS?TS?function(e,r,n){if(ho(e),r=uf(r),ho(n),typeof e=="function"&&r==="prototype"&&"value"in n&&Ta in n&&!n[Ta]){var i=PS(e,r);i&&i[Ta]&&(e[r]=n.value,n={configurable:Ia in n?n[Ia]:i[Ia],enumerable:ka in n?n[ka]:i[ka],writable:!1})}return $a(e,r,n)}:$a:function(e,r,n){if(ho(e),r=uf(r),ho(n),IS)try{return $a(e,r,n)}catch{}if("get"in n||"set"in n)throw new OS("Accessors not supported");return"value"in n&&(e[r]=n.value),e};var xS=ye,RS=Ke,DS=Vi,jr=xS?function(t,e,r){return RS.f(t,e,DS(1,r))}:function(t,e,r){return t[e]=r,t},Eh={exports:{}},wc=ye,CS=_e,wh=Function.prototype,AS=wc&&Object.getOwnPropertyDescriptor,ju=CS(wh,"name"),NS=ju&&(function(){}).name==="something",jS=ju&&(!wc||wc&&AS(wh,"name").configurable),$h={EXISTS:ju,PROPER:NS,CONFIGURABLE:jS},MS=H,FS=G,$c=Us,LS=MS(Function.toString);FS($c.inspectSource)||($c.inspectSource=function(t){return LS(t)});var Mu=$c.inspectSource,US=z,BS=G,lf=US.WeakMap,zS=BS(lf)&&/native code/.test(String(lf)),GS=mh,WS=Au,ff=GS("keys"),Fu=function(t){return ff[t]||(ff[t]=WS(t))},Bs={},HS=zS,kh=z,JS=Se,KS=jr,Oa=_e,Pa=Us,VS=Fu,YS=Bs,df="Object already initialized",kc=kh.TypeError,qS=kh.WeakMap,ns,pi,is,XS=function(t){return is(t)?pi(t):ns(t,{})},ZS=function(t){return function(e){var r;if(!JS(e)||(r=pi(e)).type!==t)throw new kc("Incompatible receiver, "+t+" required");return r}};if(HS||Pa.state){var rt=Pa.state||(Pa.state=new qS);rt.get=rt.get,rt.has=rt.has,rt.set=rt.set,ns=function(t,e){if(rt.has(t))throw new kc(df);return e.facade=t,rt.set(t,e),e},pi=function(t){return rt.get(t)||{}},is=function(t){return rt.has(t)}}else{var Gr=VS("state");YS[Gr]=!0,ns=function(t,e){if(Oa(t,Gr))throw new kc(df);return e.facade=t,KS(t,Gr,e),e},pi=function(t){return Oa(t,Gr)?t[Gr]:{}},is=function(t){return Oa(t,Gr)}}var Zi={set:ns,get:pi,has:is,enforce:XS,getterFor:ZS},Lu=H,QS=Y,e_=G,go=_e,Ic=ye,t_=$h.CONFIGURABLE,r_=Mu,Ih=Zi,n_=Ih.enforce,i_=Ih.get,pf=String,Wo=Object.defineProperty,o_=Lu("".slice),s_=Lu("".replace),a_=Lu([].join),c_=Ic&&!QS(function(){return Wo(function(){},"length",{value:8}).length!==8}),u_=String(String).split("String"),l_=Eh.exports=function(t,e,r){o_(pf(e),0,7)==="Symbol("&&(e="["+s_(pf(e),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),r&&r.getter&&(e="get "+e),r&&r.setter&&(e="set "+e),(!go(t,"name")||t_&&t.name!==e)&&(Ic?Wo(t,"name",{value:e,configurable:!0}):t.name=e),c_&&r&&go(r,"arity")&&t.length!==r.arity&&Wo(t,"length",{value:r.arity});try{r&&go(r,"constructor")&&r.constructor?Ic&&Wo(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch{}var n=n_(t);return go(n,"source")||(n.source=a_(u_,typeof e=="string"?e:"")),t};Function.prototype.toString=l_(function(){return e_(this)&&i_(this).source||r_(this)},"toString");var Th=Eh.exports,f_=G,d_=Ke,p_=Th,h_=Cu,Te=function(t,e,r,n){n||(n={});var i=n.enumerable,o=n.name!==void 0?n.name:e;if(f_(r)&&p_(r,o,n),n.global)i?t[e]=r:h_(e,r);else{try{n.unsafe?t[e]&&(i=!0):delete t[e]}catch{}i?t[e]=r:d_.f(t,e,{value:r,enumerable:!1,configurable:!n.nonConfigurable,writable:!n.nonWritable})}return t},zs={},g_=Math.ceil,v_=Math.floor,m_=Math.trunc||function(e){var r=+e;return(r>0?v_:g_)(r)},y_=m_,Uu=function(t){var e=+t;return e!==e||e===0?0:y_(e)},b_=Uu,S_=Math.max,__=Math.min,E_=function(t,e){var r=b_(t);return r<0?S_(r+e,0):__(r,e)},w_=Uu,$_=Math.min,k_=function(t){var e=w_(t);return e>0?$_(e,9007199254740991):0},I_=k_,Oh=function(t){return I_(t.length)},T_=Yi,O_=E_,P_=Oh,hf=function(t){return function(e,r,n){var i=T_(e),o=P_(i);if(o===0)return!t&&-1;var s=O_(n,o),c;if(t&&r!==r){for(;o>s;)if(c=i[s++],c!==c)return!0}else for(;o>s;s++)if((t||s in i)&&i[s]===r)return t||s||0;return!t&&-1}},x_={includes:hf(!0),indexOf:hf(!1)},R_=H,xa=_e,D_=Yi,C_=x_.indexOf,A_=Bs,gf=R_([].push),Ph=function(t,e){var r=D_(t),n=0,i=[],o;for(o in r)!xa(A_,o)&&xa(r,o)&&gf(i,o);for(;e.length>n;)xa(r,o=e[n++])&&(~C_(i,o)||gf(i,o));return i},Bu=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],N_=Ph,j_=Bu,M_=j_.concat("length","prototype");zs.f=Object.getOwnPropertyNames||function(e){return N_(e,M_)};var xh={};xh.f=Object.getOwnPropertySymbols;var F_=He,L_=H,U_=zs,B_=xh,z_=Ve,G_=L_([].concat),W_=F_("Reflect","ownKeys")||function(e){var r=U_.f(z_(e)),n=B_.f;return n?G_(r,n(e)):r},vf=_e,H_=W_,J_=Ki,K_=Ke,zu=function(t,e,r){for(var n=H_(e),i=K_.f,o=J_.f,s=0;s<n.length;s++){var c=n[s];!vf(t,c)&&!(r&&vf(r,c))&&i(t,c,o(e,c))}},V_=Y,Y_=G,q_=/#|\.prototype\./,Qi=function(t,e){var r=Z_[X_(t)];return r===eE?!0:r===Q_?!1:Y_(e)?V_(e):!!e},X_=Qi.normalize=function(t){return String(t).replace(q_,".").toLowerCase()},Z_=Qi.data={},Q_=Qi.NATIVE="N",eE=Qi.POLYFILL="P",Gu=Qi,vo=z,tE=Ki.f,rE=jr,nE=Te,iE=Cu,oE=zu,sE=Gu,Ee=function(t,e){var r=t.target,n=t.global,i=t.stat,o,s,c,u,l,f;if(n?s=vo:i?s=vo[r]||iE(r,{}):s=vo[r]&&vo[r].prototype,s)for(c in e){if(l=e[c],t.dontCallGetSet?(f=tE(s,c),u=f&&f.value):u=s[c],o=sE(n?c:r+(i?".":"#")+c,t.forced),!o&&u!==void 0){if(typeof l==typeof u)continue;oE(l,u)}(t.sham||u&&u.sham)&&rE(l,"sham",!0),nE(s,c,l,t)}},aE=Fs,Rh=Function.prototype,mf=Rh.apply,yf=Rh.call,Dh=typeof Reflect=="object"&&Reflect.apply||(aE?yf.bind(mf):function(){return yf.apply(mf,arguments)}),cE=H,uE=Je,Ch=function(t,e,r){try{return cE(uE(Object.getOwnPropertyDescriptor(t,e)[r]))}catch{}},lE=Se,fE=function(t){return lE(t)||t===null},dE=fE,pE=String,hE=TypeError,gE=function(t){if(dE(t))return t;throw new hE("Can't set "+pE(t)+" as a prototype")},vE=Ch,mE=Se,yE=Du,bE=gE,eo=Object.setPrototypeOf||("__proto__"in{}?function(){var t=!1,e={},r;try{r=vE(Object.prototype,"__proto__","set"),r(e,[]),t=e instanceof Array}catch{}return function(i,o){return yE(i),bE(o),mE(i)&&(t?r(i,o):i.__proto__=o),i}}():void 0),SE=Ke.f,_E=function(t,e,r){r in t||SE(t,r,{configurable:!0,get:function(){return e[r]},set:function(n){e[r]=n}})},EE=G,wE=Se,bf=eo,Ah=function(t,e,r){var n,i;return bf&&EE(n=e.constructor)&&n!==r&&wE(i=n.prototype)&&i!==r.prototype&&bf(t,i),t},$E=J,kE=$E("toStringTag"),Nh={};Nh[kE]="z";var Wu=String(Nh)==="[object z]",IE=Wu,TE=G,Ho=zn,OE=J,PE=OE("toStringTag"),xE=Object,RE=Ho(function(){return arguments}())==="Arguments",DE=function(t,e){try{return t[e]}catch{}},Gs=IE?Ho:function(t){var e,r,n;return t===void 0?"Undefined":t===null?"Null":typeof(r=DE(e=xE(t),PE))=="string"?r:RE?Ho(e):(n=Ho(e))==="Object"&&TE(e.callee)?"Arguments":n},CE=Gs,AE=String,NE=function(t){if(CE(t)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return AE(t)},jE=NE,Hu=function(t,e){return t===void 0?arguments.length<2?"":e:jE(t)},ME=Se,FE=jr,LE=function(t,e){ME(e)&&"cause"in e&&FE(t,"cause",e.cause)},UE=H,jh=Error,BE=UE("".replace),zE=function(t){return String(new jh(t).stack)}("zxcasd"),Mh=/\n\s*at [^:]*:[^\n]*/,GE=Mh.test(zE),WE=function(t,e){if(GE&&typeof t=="string"&&!jh.prepareStackTrace)for(;e--;)t=BE(t,Mh,"");return t},HE=Y,JE=Vi,KE=!HE(function(){var t=new Error("a");return"stack"in t?(Object.defineProperty(t,"stack",JE(1,7)),t.stack!==7):!0}),VE=jr,YE=WE,qE=KE,Sf=Error.captureStackTrace,Fh=function(t,e,r,n){qE&&(Sf?Sf(t,e):VE(t,"stack",YE(r,n)))},_f=He,XE=_e,Ef=jr,ZE=qi,wf=eo,$f=zu,kf=_E,QE=Ah,ew=Hu,tw=LE,rw=Fh,nw=ye,iw=function(t,e,r,n){var i="stackTraceLimit",o=n?2:1,s=t.split("."),c=s[s.length-1],u=_f.apply(null,s);if(u){var l=u.prototype;if(XE(l,"cause")&&delete l.cause,!r)return u;var f=_f("Error"),d=e(function(p,h){var y=ew(n?h:p,void 0),_=n?new u(p):new u;return y!==void 0&&Ef(_,"message",y),rw(_,d,_.stack,2),this&&ZE(l,this)&&QE(_,this,d),arguments.length>o&&tw(_,arguments[o]),_});d.prototype=l,c!=="Error"?wf?wf(d,f):$f(d,f,{name:!0}):nw&&i in u&&(kf(d,u,i),kf(d,u,"prepareStackTrace")),$f(d,u);try{l.name!==c&&Ef(l,"name",c),l.constructor=d}catch{}return d}},Lh=Ee,ow=z,ft=Dh,Uh=iw,Tc="WebAssembly",If=ow[Tc],os=new Error("e",{cause:7}).cause!==7,Mr=function(t,e){var r={};r[t]=Uh(t,e,os),Lh({global:!0,constructor:!0,arity:1,forced:os},r)},Ju=function(t,e){if(If&&If[t]){var r={};r[t]=Uh(Tc+"."+t,e,os),Lh({target:Tc,stat:!0,constructor:!0,arity:1,forced:os},r)}};Mr("Error",function(t){return function(r){return ft(t,this,arguments)}});Mr("EvalError",function(t){return function(r){return ft(t,this,arguments)}});Mr("RangeError",function(t){return function(r){return ft(t,this,arguments)}});Mr("ReferenceError",function(t){return function(r){return ft(t,this,arguments)}});Mr("SyntaxError",function(t){return function(r){return ft(t,this,arguments)}});Mr("TypeError",function(t){return function(r){return ft(t,this,arguments)}});Mr("URIError",function(t){return function(r){return ft(t,this,arguments)}});Ju("CompileError",function(t){return function(r){return ft(t,this,arguments)}});Ju("LinkError",function(t){return function(r){return ft(t,this,arguments)}});Ju("RuntimeError",function(t){return function(r){return ft(t,this,arguments)}});var sw=ye,aw=Y,cw=Ve,Tf=Hu,Jo=Error.prototype.toString,uw=aw(function(){if(sw){var t=Object.create(Object.defineProperty({},"name",{get:function(){return this===t}}));if(Jo.call(t)!=="true")return!0}return Jo.call({message:1,name:2})!=="2: 1"||Jo.call({})!=="Error"}),lw=uw?function(){var e=cw(this),r=Tf(e.name,"Error"),n=Tf(e.message);return r?n?r+": "+n:r:n}:Jo,fw=Te,Of=lw,Pf=Error.prototype;Pf.toString!==Of&&fw(Pf,"toString",Of);var dw=Wu,pw=Gs,hw=dw?{}.toString:function(){return"[object "+pw(this)+"]"},gw=Wu,vw=Te,mw=hw;gw||vw(Object.prototype,"toString",mw,{unsafe:!0});var yw=Y,bw=!yw(function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}),Sw=_e,_w=G,Ew=yh,ww=Fu,$w=bw,xf=ww("IE_PROTO"),Oc=Object,kw=Oc.prototype,Ws=$w?Oc.getPrototypeOf:function(t){var e=Ew(t);if(Sw(e,xf))return e[xf];var r=e.constructor;return _w(r)&&e instanceof r?r.prototype:e instanceof Oc?kw:null},Bh={},Iw=Ph,Tw=Bu,Ow=Object.keys||function(e){return Iw(e,Tw)},Pw=ye,xw=_h,Rw=Ke,Dw=Ve,Cw=Yi,Aw=Ow;Bh.f=Pw&&!xw?Object.defineProperties:function(e,r){Dw(e);for(var n=Cw(r),i=Aw(r),o=i.length,s=0,c;o>s;)Rw.f(e,c=i[s++],n[c]);return e};var Nw=He,zh=Nw("document","documentElement"),jw=Ve,Mw=Bh,Rf=Bu,Fw=Bs,Lw=zh,Uw=Nu,Bw=Fu,Df=">",Cf="<",Pc="prototype",xc="script",Gh=Bw("IE_PROTO"),Ra=function(){},Wh=function(t){return Cf+xc+Df+t+Cf+"/"+xc+Df},Af=function(t){t.write(Wh("")),t.close();var e=t.parentWindow.Object;return t=null,e},zw=function(){var t=Uw("iframe"),e="java"+xc+":",r;return t.style.display="none",Lw.appendChild(t),t.src=String(e),r=t.contentWindow.document,r.open(),r.write(Wh("document.F=Object")),r.close(),r.F},mo,Ko=function(){try{mo=new ActiveXObject("htmlfile")}catch{}Ko=typeof document<"u"?document.domain&&mo?Af(mo):zw():Af(mo);for(var t=Rf.length;t--;)delete Ko[Pc][Rf[t]];return Ko()};Fw[Gh]=!0;var Ku=Object.create||function(e,r){var n;return e!==null?(Ra[Pc]=jw(e),n=new Ra,Ra[Pc]=null,n[Gh]=e):n=Ko(),r===void 0?n:Mw.f(n,r)},Gw=Ee,Ww=z,Hw=qi,Nf=Ws,ss=eo,Jw=zu,Hh=Ku,yo=jr,Da=Vi,Kw=Fh,Vw=Hu,Yw=J,qw=Y,Xw=Cb,Pn=Ww.SuppressedError,Zw=Yw("toStringTag"),as=Error,Qw=!!Pn&&Pn.length!==3,e$=!!Pn&&qw(function(){return new Pn(1,2,3,{cause:4}).cause===4}),Hs=Qw||e$,Tr=function(e,r,n){var i=Hw(ei,this),o;return ss?o=Hs&&(!i||Nf(this)===ei)?new Pn:ss(new as,i?Nf(this):ei):(o=i?this:Hh(ei),yo(o,Zw,"Error")),n!==void 0&&yo(o,"message",Vw(n)),Kw(o,Tr,o.stack,1),yo(o,"error",e),yo(o,"suppressed",r),o};ss?ss(Tr,as):Jw(Tr,as,{name:!0});var ei=Tr.prototype=Hs?Pn.prototype:Hh(as.prototype,{constructor:Da(1,Tr),message:Da(1,""),name:Da(1,"SuppressedError")});Hs&&!Xw&&(ei.constructor=Tr);Gw({global:!0,constructor:!0,arity:3,forced:Hs},{SuppressedError:Tr});var t$=qi,r$=TypeError,to=function(t,e){if(t$(e,t))return t;throw new r$("Incorrect invocation")},n$=Te,Vu=function(t,e,r){for(var n in e)n$(t,n,e[n],r);return t},jf=Th,i$=Ke,Js=function(t,e,r){return r.get&&jf(r.get,e,{getter:!0}),r.set&&jf(r.set,e,{setter:!0}),i$.f(t,e,r)},o$=zn,s$=H,a$=function(t){if(o$(t)==="Function")return s$(t)},Mf=a$,c$=Je,u$=Fs,l$=Mf(Mf.bind),ro=function(t,e){return c$(t),e===void 0?t:u$?l$(t,e):function(){return t.apply(e,arguments)}},f$=be,d$=H,p$=ro,h$=Ve,g$=Je,Jh=Nr,Ca=Gn,Kh=J,v$=Kh("asyncDispose"),Ff=Kh("dispose"),m$=d$([].push),y$=function(t,e){if(e==="async-dispose"){var r=Ca(t,v$);return r!==void 0||(r=Ca(t,Ff),r===void 0)?r:function(){f$(r,this)}}return Ca(t,Ff)},Lf=function(t,e,r){return arguments.length<3&&!Jh(t)&&(r=g$(y$(h$(t),e))),r===void 0?function(){}:p$(r,t)},Vh=function(t,e,r,n){var i;if(arguments.length<4){if(Jh(e)&&r==="sync-dispose")return;i=Lf(e,r)}else i=Lf(void 0,r,n);m$(t.stack,i)},b$=Ee,cs=ye,S$=He,Uf=Je,_$=to,Yh=Te,E$=Vu,w$=Js,qh=J,Xh=Zi,Aa=Vh,$$=S$("SuppressedError"),k$=ReferenceError,I$=qh("dispose"),T$=qh("toStringTag"),Ks="DisposableStack",O$=Xh.set,us=Xh.getterFor(Ks),Na="sync-dispose",ai="disposed",P$="pending",bo=function(t){var e=us(t);if(e.state===ai)throw new k$(Ks+" already disposed");return e},Yu=function(){O$(_$(this,xn),{type:Ks,state:P$,stack:[]}),cs||(this.disposed=!1)},xn=Yu.prototype;E$(xn,{dispose:function(){var e=us(this);if(e.state!==ai){e.state=ai,cs||(this.disposed=!0);for(var r=e.stack,n=r.length,i=!1,o;n;){var s=r[--n];r[n]=void 0;try{s()}catch(c){i?o=new $$(c,o):(i=!0,o=c)}}if(e.stack=void 0,i)throw o}},use:function(e){return Aa(bo(this),e,Na),e},adopt:function(e,r){var n=bo(this);return Uf(r),Aa(n,void 0,Na,function(){r(e)}),e},defer:function(e){var r=bo(this);Uf(e),Aa(r,void 0,Na,e)},move:function(){var e=bo(this),r=new Yu;return us(r).stack=e.stack,e.stack=[],e.state=ai,cs||(this.disposed=!0),r}});cs&&w$(xn,"disposed",{configurable:!0,get:function(){return us(this).state===ai}});Yh(xn,I$,xn.dispose,{name:"dispose"});Yh(xn,T$,Ks,{nonWritable:!0});b$({global:!0,constructor:!0},{DisposableStack:Yu});var x$=Y,R$=G,D$=Se,Bf=Ws,C$=Te,A$=J,Rc=A$("iterator"),Zh=!1,Or,ja,Ma;[].keys&&(Ma=[].keys(),"next"in Ma?(ja=Bf(Bf(Ma)),ja!==Object.prototype&&(Or=ja)):Zh=!0);var N$=!D$(Or)||x$(function(){var t={};return Or[Rc].call(t)!==t});N$&&(Or={});R$(Or[Rc])||C$(Or,Rc,function(){return this});var qu={IteratorPrototype:Or,BUGGY_SAFARI_ITERATORS:Zh},j$=be,M$=Te,F$=Gn,L$=_e,U$=J,zf=qu.IteratorPrototype,Gf=U$("dispose");L$(zf,Gf)||M$(zf,Gf,function(){var t=F$(this,"return");t&&j$(t,this)});var B$=z,Vs=B$,z$=Vs;z$.DisposableStack;var Kn=z,G$=Xi,W$=zn,So=function(t){return G$.slice(0,t.length)===t},Qh=function(){return So("Bun/")?"BUN":So("Cloudflare-Workers")?"CLOUDFLARE":So("Deno/")?"DENO":So("Node.js/")?"NODE":Kn.Bun&&typeof Bun.version=="string"?"BUN":Kn.Deno&&typeof Deno.version=="object"?"DENO":W$(Kn.process)==="process"?"NODE":Kn.window&&Kn.document?"BROWSER":"REST"}(),H$=Qh,Xu=H$==="NODE",J$=Ke.f,K$=_e,V$=J,Wf=V$("toStringTag"),Ys=function(t,e,r){t&&!r&&(t=t.prototype),t&&!K$(t,Wf)&&J$(t,Wf,{configurable:!0,value:e})},Y$=He,q$=Js,X$=J,Z$=ye,Hf=X$("species"),eg=function(t){var e=Y$(t);Z$&&e&&!e[Hf]&&q$(e,Hf,{configurable:!0,get:function(){return this}})},Q$=H,ek=Y,tg=G,tk=Gs,rk=He,nk=Mu,rg=function(){},ng=rk("Reflect","construct"),Zu=/^\s*(?:class|function)\b/,ik=Q$(Zu.exec),ok=!Zu.test(rg),Vn=function(e){if(!tg(e))return!1;try{return ng(rg,[],e),!0}catch{return!1}},ig=function(e){if(!tg(e))return!1;switch(tk(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return ok||!!ik(Zu,nk(e))}catch{return!0}};ig.sham=!0;var sk=!ng||ek(function(){var t;return Vn(Vn.call)||!Vn(Object)||!Vn(function(){t=!0})||t})?ig:Vn,ak=sk,ck=Ls,uk=TypeError,lk=function(t){if(ak(t))return t;throw new uk(ck(t)+" is not a constructor")},Jf=Ve,fk=lk,dk=Nr,pk=J,hk=pk("species"),gk=function(t,e){var r=Jf(t).constructor,n;return r===void 0||dk(n=Jf(r)[hk])?e:fk(n)},vk=H,og=vk([].slice),mk=TypeError,yk=function(t,e){if(t<e)throw new mk("Not enough arguments");return t},bk=Xi,sg=/(?:ipad|iphone|ipod).*applewebkit/i.test(bk),Re=z,Sk=Dh,_k=ro,Kf=G,Ek=_e,ag=Y,Vf=zh,wk=og,Yf=Nu,$k=yk,kk=sg,Ik=Xu,Dc=Re.setImmediate,Cc=Re.clearImmediate,Tk=Re.process,Fa=Re.Dispatch,Ok=Re.Function,qf=Re.MessageChannel,Pk=Re.String,La=0,ci={},Xf="onreadystatechange",hi,sr,Ua,Ba;ag(function(){hi=Re.location});var Qu=function(t){if(Ek(ci,t)){var e=ci[t];delete ci[t],e()}},za=function(t){return function(){Qu(t)}},Zf=function(t){Qu(t.data)},Qf=function(t){Re.postMessage(Pk(t),hi.protocol+"//"+hi.host)};(!Dc||!Cc)&&(Dc=function(e){$k(arguments.length,1);var r=Kf(e)?e:Ok(e),n=wk(arguments,1);return ci[++La]=function(){Sk(r,void 0,n)},sr(La),La},Cc=function(e){delete ci[e]},Ik?sr=function(t){Tk.nextTick(za(t))}:Fa&&Fa.now?sr=function(t){Fa.now(za(t))}:qf&&!kk?(Ua=new qf,Ba=Ua.port2,Ua.port1.onmessage=Zf,sr=_k(Ba.postMessage,Ba)):Re.addEventListener&&Kf(Re.postMessage)&&!Re.importScripts&&hi&&hi.protocol!=="file:"&&!ag(Qf)?(sr=Qf,Re.addEventListener("message",Zf,!1)):Xf in Yf("script")?sr=function(t){Vf.appendChild(Yf("script"))[Xf]=function(){Vf.removeChild(this),Qu(t)}}:sr=function(t){setTimeout(za(t),0)});var cg={set:Dc,clear:Cc},ed=z,xk=ye,Rk=Object.getOwnPropertyDescriptor,Dk=function(t){if(!xk)return ed[t];var e=Rk(ed,t);return e&&e.value},ug=function(){this.head=null,this.tail=null};ug.prototype={add:function(t){var e={item:t,next:null},r=this.tail;r?r.next=e:this.head=e,this.tail=e},get:function(){var t=this.head;if(t){var e=this.head=t.next;return e===null&&(this.tail=null),t.item}}};var lg=ug,Ck=Xi,Ak=/ipad|iphone|ipod/i.test(Ck)&&typeof Pebble<"u",Nk=Xi,jk=/web0s(?!.*chrome)/i.test(Nk),Rn=z,Mk=Dk,td=ro,Ga=cg.set,Fk=lg,Lk=sg,Uk=Ak,Bk=jk,Wa=Xu,rd=Rn.MutationObserver||Rn.WebKitMutationObserver,nd=Rn.document,id=Rn.process,_o=Rn.Promise,Ac=Mk("queueMicrotask"),Wr,Ha,Ja,Eo,od;if(!Ac){var wo=new Fk,$o=function(){var t,e;for(Wa&&(t=id.domain)&&t.exit();e=wo.get();)try{e()}catch(r){throw wo.head&&Wr(),r}t&&t.enter()};!Lk&&!Wa&&!Bk&&rd&&nd?(Ha=!0,Ja=nd.createTextNode(""),new rd($o).observe(Ja,{characterData:!0}),Wr=function(){Ja.data=Ha=!Ha}):!Uk&&_o&&_o.resolve?(Eo=_o.resolve(void 0),Eo.constructor=_o,od=td(Eo.then,Eo),Wr=function(){od($o)}):Wa?Wr=function(){id.nextTick($o)}:(Ga=td(Ga,Rn),Wr=function(){Ga($o)}),Ac=function(t){wo.head||Wr(),wo.add(t)}}var zk=Ac,Gk=function(t,e){try{arguments.length===1?console.error(t):console.error(t,e)}catch{}},el=function(t){try{return{error:!1,value:t()}}catch(e){return{error:!0,value:e}}},Wk=z,qs=Wk.Promise,Hk=z,ui=qs,Jk=G,Kk=Gu,Vk=Mu,Yk=J,sd=Qh,Ka=dh;ui&&ui.prototype;var qk=Yk("species"),Nc=!1,fg=Jk(Hk.PromiseRejectionEvent),Xk=Kk("Promise",function(){var t=Vk(ui),e=t!==String(ui);if(!e&&Ka===66)return!0;if(!Ka||Ka<51||!/native code/.test(t)){var r=new ui(function(o){o(1)}),n=function(o){o(function(){},function(){})},i=r.constructor={};if(i[qk]=n,Nc=r.then(function(){})instanceof n,!Nc)return!0}return!e&&(sd==="BROWSER"||sd==="DENO")&&!fg}),no={CONSTRUCTOR:Xk,REJECTION_EVENT:fg,SUBCLASSING:Nc},Fr={},ad=Je,Zk=TypeError,Qk=function(t){var e,r;this.promise=new t(function(n,i){if(e!==void 0||r!==void 0)throw new Zk("Bad Promise constructor");e=n,r=i}),this.resolve=ad(e),this.reject=ad(r)};Fr.f=function(t){return new Qk(t)};var eI=Ee,ls=Xu,er=z,Dn=be,cd=Te,ud=eo,tI=Ys,rI=eg,nI=Je,Vo=G,iI=Se,oI=to,sI=gk,dg=cg.set,tl=zk,aI=Gk,cI=el,uI=lg,pg=Zi,fs=qs,rl=no,hg=Fr,Xs="Promise",gg=rl.CONSTRUCTOR,lI=rl.REJECTION_EVENT,fI=rl.SUBCLASSING,Va=pg.getterFor(Xs),dI=pg.set,Jr=fs&&fs.prototype,ar=fs,ko=Jr,vg=er.TypeError,jc=er.document,nl=er.process,Mc=hg.f,pI=Mc,hI=!!(jc&&jc.createEvent&&er.dispatchEvent),mg="unhandledrejection",gI="rejectionhandled",ld=0,yg=1,vI=2,il=1,bg=2,Io,fd,mI,dd,Sg=function(t){var e;return iI(t)&&Vo(e=t.then)?e:!1},_g=function(t,e){var r=e.value,n=e.state===yg,i=n?t.ok:t.fail,o=t.resolve,s=t.reject,c=t.domain,u,l,f;try{i?(n||(e.rejection===bg&&bI(e),e.rejection=il),i===!0?u=r:(c&&c.enter(),u=i(r),c&&(c.exit(),f=!0)),u===t.promise?s(new vg("Promise-chain cycle")):(l=Sg(u))?Dn(l,u,o,s):o(u)):s(r)}catch(d){c&&!f&&c.exit(),s(d)}},Eg=function(t,e){t.notified||(t.notified=!0,tl(function(){for(var r=t.reactions,n;n=r.get();)_g(n,t);t.notified=!1,e&&!t.rejection&&yI(t)}))},wg=function(t,e,r){var n,i;hI?(n=jc.createEvent("Event"),n.promise=e,n.reason=r,n.initEvent(t,!1,!0),er.dispatchEvent(n)):n={promise:e,reason:r},!lI&&(i=er["on"+t])?i(n):t===mg&&aI("Unhandled promise rejection",r)},yI=function(t){Dn(dg,er,function(){var e=t.facade,r=t.value,n=pd(t),i;if(n&&(i=cI(function(){ls?nl.emit("unhandledRejection",r,e):wg(mg,e,r)}),t.rejection=ls||pd(t)?bg:il,i.error))throw i.value})},pd=function(t){return t.rejection!==il&&!t.parent},bI=function(t){Dn(dg,er,function(){var e=t.facade;ls?nl.emit("rejectionHandled",e):wg(gI,e,t.value)})},Yr=function(t,e,r){return function(n){t(e,n,r)}},qr=function(t,e,r){t.done||(t.done=!0,r&&(t=r),t.value=e,t.state=vI,Eg(t,!0))},Fc=function(t,e,r){if(!t.done){t.done=!0,r&&(t=r);try{if(t.facade===e)throw new vg("Promise can't be resolved itself");var n=Sg(e);n?tl(function(){var i={done:!1};try{Dn(n,e,Yr(Fc,i,t),Yr(qr,i,t))}catch(o){qr(i,o,t)}}):(t.value=e,t.state=yg,Eg(t,!1))}catch(i){qr({done:!1},i,t)}}};if(gg&&(ar=function(e){oI(this,ko),nI(e),Dn(Io,this);var r=Va(this);try{e(Yr(Fc,r),Yr(qr,r))}catch(n){qr(r,n)}},ko=ar.prototype,Io=function(e){dI(this,{type:Xs,done:!1,notified:!1,parent:!1,reactions:new uI,rejection:!1,state:ld,value:void 0})},Io.prototype=cd(ko,"then",function(e,r){var n=Va(this),i=Mc(sI(this,ar));return n.parent=!0,i.ok=Vo(e)?e:!0,i.fail=Vo(r)&&r,i.domain=ls?nl.domain:void 0,n.state===ld?n.reactions.add(i):tl(function(){_g(i,n)}),i.promise}),fd=function(){var t=new Io,e=Va(t);this.promise=t,this.resolve=Yr(Fc,e),this.reject=Yr(qr,e)},hg.f=Mc=function(t){return t===ar||t===mI?new fd(t):pI(t)},Vo(fs)&&Jr!==Object.prototype)){dd=Jr.then,fI||cd(Jr,"then",function(e,r){var n=this;return new ar(function(i,o){Dn(dd,n,i,o)}).then(e,r)},{unsafe:!0});try{delete Jr.constructor}catch{}ud&&ud(Jr,ko)}eI({global:!0,constructor:!0,wrap:!0,forced:gg},{Promise:ar});tI(ar,Xs,!1);rI(Xs);var Zs={},SI=J,_I=Zs,EI=SI("iterator"),wI=Array.prototype,$I=function(t){return t!==void 0&&(_I.Array===t||wI[EI]===t)},kI=Gs,hd=Gn,II=Nr,TI=Zs,OI=J,PI=OI("iterator"),$g=function(t){if(!II(t))return hd(t,PI)||hd(t,"@@iterator")||TI[kI(t)]},xI=be,RI=Je,DI=Ve,CI=Ls,AI=$g,NI=TypeError,jI=function(t,e){var r=arguments.length<2?AI(t):e;if(RI(r))return DI(xI(r,t));throw new NI(CI(t)+" is not iterable")},MI=be,gd=Ve,FI=Gn,LI=function(t,e,r){var n,i;gd(t);try{if(n=FI(t,"return"),!n){if(e==="throw")throw r;return r}n=MI(n,t)}catch(o){i=!0,n=o}if(e==="throw")throw r;if(i)throw n;return gd(n),r},UI=ro,BI=be,zI=Ve,GI=Ls,WI=$I,HI=Oh,vd=qi,JI=jI,KI=$g,md=LI,VI=TypeError,Yo=function(t,e){this.stopped=t,this.result=e},yd=Yo.prototype,Qs=function(t,e,r){var n=r&&r.that,i=!!(r&&r.AS_ENTRIES),o=!!(r&&r.IS_RECORD),s=!!(r&&r.IS_ITERATOR),c=!!(r&&r.INTERRUPTED),u=UI(e,n),l,f,d,p,h,y,_,k=function(O){return l&&md(l,"normal",O),new Yo(!0,O)},I=function(O){return i?(zI(O),c?u(O[0],O[1],k):u(O[0],O[1])):c?u(O,k):u(O)};if(o)l=t.iterator;else if(s)l=t;else{if(f=KI(t),!f)throw new VI(GI(t)+" is not iterable");if(WI(f)){for(d=0,p=HI(t);p>d;d++)if(h=I(t[d]),h&&vd(yd,h))return h;return new Yo(!1)}l=JI(t,f)}for(y=o?t.next:l.next;!(_=BI(y,l)).done;){try{h=I(_.value)}catch(O){md(l,"throw",O)}if(typeof h=="object"&&h&&vd(yd,h))return h}return new Yo(!1)},YI=J,kg=YI("iterator"),Ig=!1;try{var qI=0,bd={next:function(){return{done:!!qI++}},return:function(){Ig=!0}};bd[kg]=function(){return this},Array.from(bd,function(){throw 2})}catch{}var Tg=function(t,e){try{if(!e&&!Ig)return!1}catch{return!1}var r=!1;try{var n={};n[kg]=function(){return{next:function(){return{done:r=!0}}}},t(n)}catch{}return r},XI=qs,ZI=Tg,QI=no.CONSTRUCTOR,Og=QI||!ZI(function(t){XI.all(t).then(void 0,function(){})}),eT=Ee,tT=be,rT=Je,nT=Fr,iT=el,oT=Qs,sT=Og;eT({target:"Promise",stat:!0,forced:sT},{all:function(e){var r=this,n=nT.f(r),i=n.resolve,o=n.reject,s=iT(function(){var c=rT(r.resolve),u=[],l=0,f=1;oT(e,function(d){var p=l++,h=!1;f++,tT(c,r,d).then(function(y){h||(h=!0,u[p]=y,--f||i(u))},o)}),--f||i(u)});return s.error&&o(s.value),n.promise}});var aT=Ee,cT=no.CONSTRUCTOR,Lc=qs,uT=He,lT=G,fT=Te,Sd=Lc&&Lc.prototype;aT({target:"Promise",proto:!0,forced:cT,real:!0},{catch:function(t){return this.then(void 0,t)}});if(lT(Lc)){var _d=uT("Promise").prototype.catch;Sd.catch!==_d&&fT(Sd,"catch",_d,{unsafe:!0})}var dT=Ee,pT=be,hT=Je,gT=Fr,vT=el,mT=Qs,yT=Og;dT({target:"Promise",stat:!0,forced:yT},{race:function(e){var r=this,n=gT.f(r),i=n.reject,o=vT(function(){var s=hT(r.resolve);mT(e,function(c){pT(s,r,c).then(n.resolve,i)})});return o.error&&i(o.value),n.promise}});var bT=Ee,ST=Fr,_T=no.CONSTRUCTOR;bT({target:"Promise",stat:!0,forced:_T},{reject:function(e){var r=ST.f(this),n=r.reject;return n(e),r.promise}});var ET=Ve,wT=Se,$T=Fr,kT=function(t,e){if(ET(t),wT(e)&&e.constructor===t)return e;var r=$T.f(t),n=r.resolve;return n(e),r.promise},IT=Ee,TT=He,OT=no.CONSTRUCTOR,PT=kT;TT("Promise");IT({target:"Promise",stat:!0,forced:OT},{resolve:function(e){return PT(this,e)}});var xT=Ee,ds=ye,Pg=He,Ed=Je,RT=to,xg=Te,DT=Vu,CT=Js,Rg=J,Dg=Zi,Ya=Vh,wd=Pg("Promise"),AT=Pg("SuppressedError"),NT=ReferenceError,jT=Rg("asyncDispose"),MT=Rg("toStringTag"),ea="AsyncDisposableStack",FT=Dg.set,ps=Dg.getterFor(ea),qa="async-dispose",li="disposed",LT="pending",To=function(t){var e=ps(t);if(e.state===li)throw new NT(ea+" already disposed");return e},ol=function(){FT(RT(this,Cn),{type:ea,state:LT,stack:[]}),ds||(this.disposed=!1)},Cn=ol.prototype;DT(Cn,{disposeAsync:function(){var e=this;return new wd(function(r,n){var i=ps(e);if(i.state===li)return r(void 0);i.state=li,ds||(e.disposed=!0);var o=i.stack,s=o.length,c=!1,u,l=function(d){c?u=new AT(d,u):(c=!0,u=d),f()},f=function(){if(s){var d=o[--s];o[s]=void 0;try{wd.resolve(d()).then(f,l)}catch(p){l(p)}}else i.stack=void 0,c?n(u):r(void 0)};f()})},use:function(e){return Ya(To(this),e,qa),e},adopt:function(e,r){var n=To(this);return Ed(r),Ya(n,void 0,qa,function(){return r(e)}),e},defer:function(e){var r=To(this);Ed(e),Ya(r,void 0,qa,e)},move:function(){var e=To(this),r=new ol;return ps(r).stack=e.stack,e.stack=[],e.state=li,ds||(this.disposed=!0),r}});ds&&CT(Cn,"disposed",{configurable:!0,get:function(){return ps(this).state===li}});xg(Cn,jT,Cn.disposeAsync,{name:"disposeAsync"});xg(Cn,MT,ea,{nonWritable:!0});xT({global:!0,constructor:!0},{AsyncDisposableStack:ol});var Cg=z,Ag=Us,Ng=G,Oo=Ws,UT=Te,BT=J,$d="USE_FUNCTION_CONSTRUCTOR",kd=BT("asyncIterator"),Id=Cg.AsyncIterator,Td=Ag.AsyncIteratorPrototype,Qt,Xa;if(Td)Qt=Td;else if(Ng(Id))Qt=Id.prototype;else if(Ag[$d]||Cg[$d])try{Xa=Oo(Oo(Oo(Function("return async function*(){}()")()))),Oo(Xa)===Object.prototype&&(Qt=Xa)}catch{}Qt||(Qt={});Ng(Qt[kd])||UT(Qt,kd,function(){return this});var zT=Qt,GT=be,WT=Te,HT=He,JT=Gn,KT=_e,VT=J,Od=zT,Pd=VT("asyncDispose"),xd=HT("Promise");KT(Od,Pd)||WT(Od,Pd,function(){var t=this;return new xd(function(e,r){var n=JT(t,"return");n?xd.resolve(GT(n,t)).then(function(){e(void 0)},r):e(void 0)})});var YT=Vs;YT.AsyncDisposableStack;var ta={},qT=J;ta.f=qT;var Rd=Vs,XT=_e,ZT=ta,QT=Ke.f,jg=function(t){var e=Rd.Symbol||(Rd.Symbol={});XT(e,t)||QT(e,t,{value:ZT.f(t)})},eO=z,tO=jg,rO=Ke.f,nO=Ki.f,Za=eO.Symbol;tO("asyncDispose");if(Za){var Po=nO(Za,"asyncDispose");Po.enumerable&&Po.configurable&&Po.writable&&rO(Za,"asyncDispose",{value:Po.value,enumerable:!1,configurable:!1,writable:!1})}var iO=ta;iO.f("asyncDispose");var oO=z,sO=jg,aO=Ke.f,cO=Ki.f,Qa=oO.Symbol;sO("dispose");if(Qa){var xo=cO(Qa,"dispose");xo.enumerable&&xo.configurable&&xo.writable&&aO(Qa,"dispose",{value:xo.value,enumerable:!1,configurable:!1,writable:!1})}var uO=ta;uO.f("dispose");var Mg={exports:{}},Fg={},lO=zn,fO=Yi,Lg=zs.f,dO=og,Ug=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],pO=function(t){try{return Lg(t)}catch{return dO(Ug)}};Fg.f=function(e){return Ug&&lO(e)==="Window"?pO(e):Lg(fO(e))};var hO=Y,gO=hO(function(){if(typeof ArrayBuffer=="function"){var t=new ArrayBuffer(8);Object.isExtensible(t)&&Object.defineProperty(t,"a",{value:8})}}),vO=Y,mO=Se,yO=zn,Dd=gO,qo=Object.isExtensible,bO=vO(function(){qo(1)}),SO=bO||Dd?function(e){return!mO(e)||Dd&&yO(e)==="ArrayBuffer"?!1:qo?qo(e):!0}:qo,_O=Y,EO=!_O(function(){return Object.isExtensible(Object.preventExtensions({}))}),wO=Ee,$O=H,kO=Bs,IO=Se,sl=_e,TO=Ke.f,Cd=zs,OO=Fg,al=SO,PO=Au,xO=EO,Bg=!1,Pt=PO("meta"),RO=0,cl=function(t){TO(t,Pt,{value:{objectID:"O"+RO++,weakData:{}}})},DO=function(t,e){if(!IO(t))return typeof t=="symbol"?t:(typeof t=="string"?"S":"P")+t;if(!sl(t,Pt)){if(!al(t))return"F";if(!e)return"E";cl(t)}return t[Pt].objectID},CO=function(t,e){if(!sl(t,Pt)){if(!al(t))return!0;if(!e)return!1;cl(t)}return t[Pt].weakData},AO=function(t){return xO&&Bg&&al(t)&&!sl(t,Pt)&&cl(t),t},NO=function(){jO.enable=function(){},Bg=!0;var t=Cd.f,e=$O([].splice),r={};r[Pt]=1,t(r).length&&(Cd.f=function(n){for(var i=t(n),o=0,s=i.length;o<s;o++)if(i[o]===Pt){e(i,o,1);break}return i},wO({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:OO.f}))},jO=Mg.exports={enable:NO,fastKey:DO,getWeakData:CO,onFreeze:AO};kO[Pt]=!0;var zg=Mg.exports,MO=Ee,FO=z,LO=H,Ad=Gu,UO=Te,BO=zg,zO=Qs,GO=to,WO=G,HO=Nr,ec=Se,tc=Y,JO=Tg,KO=Ys,VO=Ah,YO=function(t,e,r){var n=t.indexOf("Map")!==-1,i=t.indexOf("Weak")!==-1,o=n?"set":"add",s=FO[t],c=s&&s.prototype,u=s,l={},f=function(I){var O=LO(c[I]);UO(c,I,I==="add"?function(re){return O(this,re===0?0:re),this}:I==="delete"?function(Q){return i&&!ec(Q)?!1:O(this,Q===0?0:Q)}:I==="get"?function(re){return i&&!ec(re)?void 0:O(this,re===0?0:re)}:I==="has"?function(re){return i&&!ec(re)?!1:O(this,re===0?0:re)}:function(re,Jy){return O(this,re===0?0:re,Jy),this})},d=Ad(t,!WO(s)||!(i||c.forEach&&!tc(function(){new s().entries().next()})));if(d)u=r.getConstructor(e,t,n,o),BO.enable();else if(Ad(t,!0)){var p=new u,h=p[o](i?{}:-0,1)!==p,y=tc(function(){p.has(1)}),_=JO(function(I){new s(I)}),k=!i&&tc(function(){for(var I=new s,O=5;O--;)I[o](O,O);return!I.has(-0)});_||(u=e(function(I,O){GO(I,c);var Q=VO(new s,I,u);return HO(O)||zO(O,Q[o],{that:Q,AS_ENTRIES:n}),Q}),u.prototype=c,c.constructor=u),(y||k)&&(f("delete"),f("has"),n&&f("get")),(k||h)&&f(o),i&&c.clear&&delete c.clear}return l[t]=u,MO({global:!0,constructor:!0,forced:u!==s},l),KO(u,t),i||r.setStrong(u,t,n),u},qO=qu.IteratorPrototype,XO=Ku,ZO=Vi,QO=Ys,eP=Zs,tP=function(){return this},rP=function(t,e,r,n){var i=e+" Iterator";return t.prototype=XO(qO,{next:ZO(+!n,r)}),QO(t,i,!1),eP[i]=tP,t},nP=Ee,iP=be,Gg=$h,oP=G,sP=rP,Nd=Ws,jd=eo,aP=Ys,cP=jr,rc=Te,uP=J,lP=Zs,Wg=qu,fP=Gg.PROPER,dP=Gg.CONFIGURABLE,Md=Wg.IteratorPrototype,Ro=Wg.BUGGY_SAFARI_ITERATORS,Yn=uP("iterator"),Fd="keys",qn="values",Ld="entries",pP=function(){return this},hP=function(t,e,r,n,i,o,s){sP(r,e,n);var c=function(I){if(I===i&&p)return p;if(!Ro&&I&&I in f)return f[I];switch(I){case Fd:return function(){return new r(this,I)};case qn:return function(){return new r(this,I)};case Ld:return function(){return new r(this,I)}}return function(){return new r(this)}},u=e+" Iterator",l=!1,f=t.prototype,d=f[Yn]||f["@@iterator"]||i&&f[i],p=!Ro&&d||c(i),h=e==="Array"&&f.entries||d,y,_,k;if(h&&(y=Nd(h.call(new t)),y!==Object.prototype&&y.next&&(Nd(y)!==Md&&(jd?jd(y,Md):oP(y[Yn])||rc(y,Yn,pP)),aP(y,u,!0))),fP&&i===qn&&d&&d.name!==qn&&(dP?cP(f,"name",qn):(l=!0,p=function(){return iP(d,this)})),i)if(_={values:c(qn),keys:o?p:c(Fd),entries:c(Ld)},s)for(k in _)(Ro||l||!(k in f))&&rc(f,k,_[k]);else nP({target:e,proto:!0,forced:Ro||l},_);return f[Yn]!==p&&rc(f,Yn,p,{name:i}),lP[e]=p,_},gP=function(t,e){return{value:t,done:e}},Ud=Ku,vP=Js,Bd=Vu,mP=ro,yP=to,bP=Nr,SP=Qs,_P=hP,Do=gP,EP=eg,Xn=ye,zd=zg.fastKey,Hg=Zi,Gd=Hg.set,nc=Hg.getterFor,wP={getConstructor:function(t,e,r,n){var i=t(function(l,f){yP(l,o),Gd(l,{type:e,index:Ud(null),first:void 0,last:void 0,size:0}),Xn||(l.size=0),bP(f)||SP(f,l[n],{that:l,AS_ENTRIES:r})}),o=i.prototype,s=nc(e),c=function(l,f,d){var p=s(l),h=u(l,f),y,_;return h?h.value=d:(p.last=h={index:_=zd(f,!0),key:f,value:d,previous:y=p.last,next:void 0,removed:!1},p.first||(p.first=h),y&&(y.next=h),Xn?p.size++:l.size++,_!=="F"&&(p.index[_]=h)),l},u=function(l,f){var d=s(l),p=zd(f),h;if(p!=="F")return d.index[p];for(h=d.first;h;h=h.next)if(h.key===f)return h};return Bd(o,{clear:function(){for(var f=this,d=s(f),p=d.first;p;)p.removed=!0,p.previous&&(p.previous=p.previous.next=void 0),p=p.next;d.first=d.last=void 0,d.index=Ud(null),Xn?d.size=0:f.size=0},delete:function(l){var f=this,d=s(f),p=u(f,l);if(p){var h=p.next,y=p.previous;delete d.index[p.index],p.removed=!0,y&&(y.next=h),h&&(h.previous=y),d.first===p&&(d.first=h),d.last===p&&(d.last=y),Xn?d.size--:f.size--}return!!p},forEach:function(f){for(var d=s(this),p=mP(f,arguments.length>1?arguments[1]:void 0),h;h=h?h.next:d.first;)for(p(h.value,h.key,this);h&&h.removed;)h=h.previous},has:function(f){return!!u(this,f)}}),Bd(o,r?{get:function(f){var d=u(this,f);return d&&d.value},set:function(f,d){return c(this,f===0?0:f,d)}}:{add:function(f){return c(this,f=f===0?0:f,f)}}),Xn&&vP(o,"size",{configurable:!0,get:function(){return s(this).size}}),i},setStrong:function(t,e,r){var n=e+" Iterator",i=nc(e),o=nc(n);_P(t,e,function(s,c){Gd(this,{type:n,target:s,state:i(s),kind:c,last:void 0})},function(){for(var s=o(this),c=s.kind,u=s.last;u&&u.removed;)u=u.previous;return!s.target||!(s.last=u=u?u.next:s.state.first)?(s.target=void 0,Do(void 0,!0)):Do(c==="keys"?u.key:c==="values"?u.value:[u.key,u.value],!1)},r?"entries":"values",!r,!0),EP(e)}},$P=YO,kP=wP;$P("Set",function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},kP);var ic=H,Co=Set.prototype,io={Set,add:ic(Co.add),has:ic(Co.has),remove:ic(Co.delete),proto:Co},IP=io.has,TP=function(t){return IP(t),t},OP=be,Jg=function(t,e,r){for(var n=r?t:t.iterator,i=t.next,o,s;!(o=OP(i,n)).done;)if(s=e(o.value),s!==void 0)return s},Kg=H,PP=Jg,Vg=io,xP=Vg.Set,Yg=Vg.proto,RP=Kg(Yg.forEach),qg=Kg(Yg.keys),DP=qg(new xP).next,Xg=function(t,e,r){return r?PP({iterator:qg(t),next:DP},e):RP(t,e)},Zg=io,CP=Xg,AP=Zg.Set,NP=Zg.add,jP=function(t){var e=new AP;return CP(t,function(r){NP(e,r)}),e},MP=Ch,FP=io,LP=MP(FP.proto,"size","get")||function(t){return t.size},UP=function(t){return{iterator:t,next:t.next,done:!1}},Wd=Je,Qg=Ve,Hd=be,BP=Uu,zP=UP,Jd="Invalid size",GP=RangeError,WP=TypeError,HP=Math.max,ev=function(t,e){this.set=t,this.size=HP(e,0),this.has=Wd(t.has),this.keys=Wd(t.keys)};ev.prototype={getIterator:function(){return zP(Qg(Hd(this.keys,this.set)))},includes:function(t){return Hd(this.has,this.set,t)}};var JP=function(t){Qg(t);var e=+t.size;if(e!==e)throw new WP(Jd);var r=BP(e);if(r<0)throw new GP(Jd);return new ev(t,r)},KP=TP,tv=io,VP=jP,YP=LP,qP=JP,XP=Xg,ZP=Jg,QP=tv.has,Kd=tv.remove,ex=function(e){var r=KP(this),n=qP(e),i=VP(r);return YP(r)<=n.size?XP(r,function(o){n.includes(o)&&Kd(i,o)}):ZP(n.getIterator(),function(o){QP(r,o)&&Kd(i,o)}),i},tx=He,Vd=function(t){return{size:t,has:function(){return!1},keys:function(){return{next:function(){return{done:!0}}}}}},rx=function(t){var e=tx("Set");try{new e()[t](Vd(0));try{return new e()[t](Vd(-1)),!1}catch{return!0}}catch{return!1}},nx=Ee,ix=ex,ox=rx;nx({target:"Set",proto:!0,real:!0,forced:!ox("difference")},{difference:ix});var sx=z,ax=H,cx=function(t,e){return ax(sx[t].prototype[e])},ux=cx;ux("Set","difference");var lx=Ee,fx=Fr;lx({target:"Promise",stat:!0},{withResolvers:function(){var e=fx.f(this);return{promise:e.promise,resolve:e.resolve,reject:e.reject}}});var dx=Vs,px=dx.Promise;px.withResolvers;const b=(t,...e)=>{let r=t;const n=e.length;for(let i=0;i<n;i++)r=e[i](r);return r};function wt(){}function WN(t){return t}function ze(t){return e=>(t(e),e)}function HN(t){return t!=null}const oo=!1,hx=!1,gx=Symbol("transferable"),vx=new Map;function rv(t,e){return vx.set(e.stableUniqueIdentifier,new WeakRef(t)),Object.defineProperty(t,gx,{value:e,enumerable:!1,writable:!1,configurable:!1}),t}function ul(t){return new Promise((e,r)=>{t.oncomplete=t.onsuccess=()=>e(t.result),t.onabort=t.onerror=()=>r(t.error)})}function mx(t,e){const r=indexedDB.open(t);r.onupgradeneeded=()=>r.result.createObjectStore(e);const n=ul(r);return(i,o)=>n.then(s=>o(s.transaction(e,i).objectStore(e)))}let oc;function nv(){return oc||(oc=mx("keyval-store","keyval")),oc}function yx(t,e=nv()){return e("readonly",r=>ul(r.get(t)))}function Yd(t,e,r=nv()){return r("readwrite",n=>(n.put(e,t),ul(n.transaction)))}class Uc{constructor(){S(this,"writers",new Set)}write(e){for(const r of this.writers)r.write(e)}}var bi,Si,_i,Mt,Ce,iv,ti,ur,ov,Rs,sv;class qd{constructor(e="",r=()=>null){g(this,Ce);g(this,bi);g(this,Si);g(this,_i,null);g(this,Mt,null);g(this,ur,new Map);g(this,Rs,Date.now());v(this,bi,e),v(this,Si,r)}write(e){switch(e.level){case"error":console.error(...m(this,Ce,ti).call(this,e),...e.args.map(Ao));break;case"warn":console.warn(...m(this,Ce,ti).call(this,e),...e.args.map(Ao));break;case"info":console.info(...m(this,Ce,ti).call(this,e),...e.args.map(Ao));break;case"verbose":if(e.logger&&!m(this,Ce,iv).call(this,e.logger))return;console.debug(...m(this,Ce,ti).call(this,e),...e.args.map(Ao));break}}}bi=new WeakMap,Si=new WeakMap,_i=new WeakMap,Mt=new WeakMap,Ce=new WeakSet,iv=function(e){const r=a(this,Si).call(this);if(a(this,_i)!==JSON.stringify(r)){if(r&&r!=="*"){const n=(Array.isArray(r)?r.map(String):[String(r)]).map(u=>u.replace(/[*]/g,".*")),i=n.filter(u=>!u.startsWith("!")),o=n.filter(u=>u.startsWith("!")).map(u=>u.slice(1));o.length===0&&o.push("\0");const s=new RegExp("^(".concat(i.join("|"),")"),"i"),c=new RegExp("^(".concat(o.join("|"),")"),"i");console.info("Inkwell: Logs are filtered using filter:",r,"inclusion:",s.source,"exclusion:",c.source),v(this,Mt,[s,c])}else v(this,Mt,null);v(this,_i,JSON.stringify(r))}return a(this,Mt)?a(this,Mt)[0].test(e)&&!a(this,Mt)[1].test(e):oo},ti=function(e){const r=a(this,bi),n="background: ".concat(m(this,Ce,sv).call(this),"; color: white; padding: 2px 4px; border-radius: 2px; font-size: 0.6em; margin-right: 0.5em; font-weight: bold"),i="";if(e.logger===null)return["%c".concat(r,"%c ").concat(new Date(e.timestamp).toISOString()," ").concat(e.text),n,i];const o=m(this,Ce,ov).call(this,e.logger,e.context),s=e.context!==null?"".concat(e.logger,"|").concat(e.context):e.logger,c="background: ".concat(o,"; color: white");return["%c".concat(r,"%c ").concat(new Date(e.timestamp).toISOString()," [").concat(s,"]%c ").concat(e.text),n,c,i]},ur=new WeakMap,ov=function(e,r){const n=r!==null?"".concat(e,"|").concat(r):e;if(!a(this,ur).has(n)){const i=a(this,ur).size*137.508;a(this,ur).set(n,"hsl(".concat(i,", 100%, 20%)"))}return a(this,ur).get(n)},Rs=new WeakMap,sv=function(){const e=a(this,Rs)%100*137.508;return"hsl(".concat(e,", 100%, 20%)")};function Ao(t){return!t||typeof t!="object"||Array.isArray(t)?t:Symbol.iterator in t?"[Iterable ".concat(_x(t),"]"):bx(t)?Sx(t):t}function bx(t){const e=Reflect.get(t,"toString");return!!(typeof e=="function"&&e!==Object.prototype.toString||Reflect.has(t,Symbol.toStringTag))}function Sx(t){return String(t)}function _x(t){(Reflect.has(t,Symbol.toStringTag)||Reflect.has(t,"toString"))&&Reflect.get(t,Symbol.toStringTag);const e=Reflect.getPrototypeOf(t);return e!=null&&e.constructor?"".concat(e.constructor.name):"Object"}var Ft,tn;const Ul=class Ul{constructor(){g(this,Ft,[]);g(this,tn,null)}get messages(){return a(this,Ft)}write(e){const r="".concat(new Date(e.timestamp).toISOString()," ").concat(e.level.toUpperCase()," ").concat(e.text," ").concat(e.args.map(Ex).join(" "));a(this,tn)?a(this,tn).postMessage(r):a(this,Ft).push(r)}clear(){a(this,Ft).length=0}toTransferable(){const e=new MessageChannel;return e.port1.onmessage=r=>{typeof r.data=="string"&&a(this,Ft).push(r.data)},{kind:"MemoryLogWriter",port:e.port2}}static fromTransferable(e){const r=new Ul;return v(r,tn,e.port),r}async copyToClipboard(){const e=a(this,Ft).sort().join("\n"),r=Reflect.get(globalThis,"copy");typeof r=="function"?r(e):await navigator.clipboard.writeText(e)}};Ft=new WeakMap,tn=new WeakMap;let hs=Ul;function Ex(t){if(!t||typeof t!="object"||Array.isArray(t))return t;if(Symbol.iterator in t)return"[Iterable ".concat(Xd(t),"]");if(wx(t))return $x(t);try{return JSON.stringify(t,null,2)}catch{return"[Non-Serializable Object ".concat(Xd(t),"]")}}function wx(t){const e=Reflect.get(t,"toString");return!!(typeof e=="function"&&e!==Object.prototype.toString||Reflect.has(t,Symbol.toStringTag))}function $x(t){return String(t)}function Xd(t){(Reflect.has(t,Symbol.toStringTag)||Reflect.has(t,"toString"))&&Reflect.get(t,Symbol.toStringTag);const e=Reflect.getPrototypeOf(t);return e!=null&&e.constructor?"".concat(e.constructor.name):"Object"}var rn,Ei,wi;class kx{constructor(e,r,n=null){g(this,rn);g(this,Ei);g(this,wi);v(this,rn,r),v(this,Ei,n),v(this,wi,e)}write(e){var r;a(this,wi).write({...e,context:(r=e.context)!=null?r:a(this,Ei),logger:e.logger?"".concat(e.logger,"/").concat(a(this,rn)):a(this,rn)})}}rn=new WeakMap,Ei=new WeakMap,wi=new WeakMap;var $i,nn,Lt,on,Ds,av;class Zd{constructor({maximumTokens:e,tokensPerSecond:r}){g(this,Ds);g(this,$i);g(this,nn);g(this,Lt);g(this,on);v(this,$i,Math.abs(r/1e3)),v(this,nn,Math.max(1,e)),v(this,Lt,a(this,nn)),v(this,on,performance.now())}take(e=1){return this.canTake(e)?(v(this,Lt,a(this,Lt)-e),!0):!1}canTake(e=1){return m(this,Ds,av).call(this),a(this,Lt)>=e}}$i=new WeakMap,nn=new WeakMap,Lt=new WeakMap,on=new WeakMap,Ds=new WeakSet,av=function(){const e=performance.now(),r=Math.floor((e-a(this,on))*a(this,$i));r>0&&(v(this,Lt,Math.min(a(this,nn),a(this,Lt)+r)),v(this,on,e))};var sn,ki;class Ix{constructor({eventsPerSecond:e,eventsPerMinute:r}){g(this,sn);g(this,ki);v(this,sn,new Zd({maximumTokens:e,tokensPerSecond:e})),v(this,ki,new Zd({maximumTokens:r,tokensPerSecond:r/60}))}shouldSelect(){return a(this,sn).canTake()&&a(this,ki).take()&&a(this,sn).take()}}sn=new WeakMap,ki=new WeakMap;const Tx={patterns:{email:{regex:'(([^<>()[\\]\\\\.,;:\\s@"]+(\\.[^<>()[\\]\\\\.,;:\\s@"]+)*)|(".+"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))',prefixes:[],priority:0,description:"Email"},url:{regex:"[-a-zA-Z0-9@:%._\\+~#=]{1,256}\\.[a-zA-Z0-9()]{1,6}\\b((([-a-zA-Z0-9()@%_\\+~#&//=\\[\\]])|([.:?](?!$|\\s)))*)?",prefixes:["http://","https://"],priority:1,description:"URL"},creditCardNumber:{regex:"(\\d{4}\\d{4}\\d{4}\\d{4})|(\\d{4}\\-\\d{4}\\-\\d{4}\\-\\d{4})|(\\d{4}\\s\\d{4}\\s\\d{4}\\s\\d{4})",prefixes:[],priority:2,description:"Credit card number"},phoneNumber:{regex:"[\\+]?[(]?[0-9]{3}[)]?[-\\s\\.]?[0-9]{3}[-\\s\\.]?[0-9]{4,6}",prefixes:[],priority:3,description:"Phone number"},usSSN:{regex:"[0-9]{3}[-]*[0-9]{2}[-]*[0-9]{4}",prefixes:[],priority:4,description:"US SSN"},caSSN:{regex:"[0-9]{3}[\\s\\-]?[0-9]{3}[\\s\\-]?[0-9]{3}",prefixes:[],priority:5,description:"CA SIN"},ukSSN:{regex:"[A-Z]{2}[\\s\\-]?\\d{2}[\\s\\-]?\\d{2}[\\s\\-]?\\d{2}[\\s\\-]?[A-Z]",prefixes:[],priority:6,description:"UK NI NO"},iban:{regex:"[A-Z]{2}(-?|\\ )\\d{2}-?(?:\\ ?[A-Z]{4}-?)?(?:\\d{13,}|(?:\\ \\d{4}){3,5}\\ \\d{1,4})",prefixes:[],priority:7,description:"IBAN number"},variousID:{regex:"[A-Z]{0,2}(?:\\d{3,8}[\\ -])(?:\\d{2,8}[\\ -]){1,4}\\d{2,4}|\\d{7}[A-Z]?|\\d{5,18}",prefixes:[],priority:8,description:"Various ID number"}}};function Ox({patterns:t}){return new RegExp(Object.entries(t).sort(([,{priority:e}],[,{priority:r}])=>e-r).map(([e,{regex:r,prefixes:n}])=>(r=n.length?"(".concat(n.join("|"),")").concat(r):r,"(?<".concat(e,">").concat(r,")"))).join("|"),"g")}function Px({prefixes:t,text:e},r){const n=t.find(i=>e.indexOf(i)===0);return n!==void 0?"".concat(n).concat(Qd(e.slice(n.length),r)):Qd(e,r)}const cv=97,xx=122,uv=65,Rx=90,lv=48,Dx=57,Cx=t=>t>=cv&&t<=xx,Ax=t=>t>=uv&&t<=Rx,Nx=t=>t>=lv&&t<=Dx;function Qd(t,e){const r=new Array(t.length);let n=e;for(let i=t.length-1;i>=0;i--){const o=t.charCodeAt(i);Cx(o)?(r[i]=cv+(i+n)%26,n/=26):Ax(o)?(r[i]=uv+(i+n)%26,n/=26):Nx(o)?(r[i]=lv+(i+1+n)%10,n/=10):r[i]=o}return String.fromCharCode(...r)}function ep(t,{groups:e,index:r}){const[n,i]=Object.entries(e).find(([,s])=>s!==void 0),o=t.patterns[n];return{id:n,...o,text:i,start:r,end:r+i.length}}class jx{constructor(e){S(this,"dlpConfiguration");S(this,"dlpRegex");S(this,"seed",0);this.dlpConfiguration=e,this.dlpRegex=Ox(this.dlpConfiguration)}matchAll(e){const r=[];for(this.dlpRegex.lastIndex=0;;){const n=this.dlpRegex.exec(e);if(!n)break;const i={groups:n.groups,index:n.index};r.push(ep(this.dlpConfiguration,i))}return this.dlpRegex.lastIndex=0,r}sanitizedReplacement(e){return Px(e,this.seed++)}sanitize(e){return e.replace(this.dlpRegex,(...r)=>{const n={groups:r[r.length-1],index:r[r.length-3]},i=ep(this.dlpConfiguration,n);return this.sanitizedReplacement(i)})}}class Mx extends jx{sanitize(e){const r=super.sanitize(e);return this.seed=0,r}}const tp=new Mx(Tx),Fx=tp.sanitize.bind(tp),Lx={error:"ERROR",warn:"WARN",info:"INFO",verbose:"DEBUG"};var lr,nt,Ii,fr,gt,me,Bc,fv,dv,zc,Gc;const Bl=class Bl{constructor(e){g(this,me);g(this,lr,new Map);g(this,nt);g(this,Ii);g(this,fr,0);g(this,gt,null);v(this,nt,e),v(this,Ii,new Ix({eventsPerSecond:e.logsPerSecond,eventsPerMinute:e.logsPerMinute}))}write(e){var r;if(e.level!=="verbose"&&!(e.level==="info"&&e.delivery===void 0)&&e.delivery!==!1){if(!a(this,Ii).shouldSelect()){ga(this,fr)._++;return}m(this,me,fv).call(this,(r=e.delivery)!=null?r:{},m(this,me,Bc).call(this,e))}}[Symbol.dispose](){a(this,gt)!==null&&(clearTimeout(a(this,gt)),v(this,gt,null)),m(this,me,zc).call(this)}toTransferable(){return{kind:"FeLogWriter",options:a(this,nt)}}static fromTransferable(e){return new Bl(e.options)}};lr=new WeakMap,nt=new WeakMap,Ii=new WeakMap,fr=new WeakMap,gt=new WeakMap,me=new WeakSet,Bc=function(e){var r;return JSON.stringify({timestamp:e.timestamp,level:Lx[e.level],message:e.text,logger:(r=e.logger)!=null?r:"root",application:a(this,nt).application,version:a(this,nt).version,client:a(this,nt).client,env:a(this,nt).environment,session:a(this,nt).sessionId,extra:e.level==="error"?e.args.slice(1):e.args,exception:e.level==="error"?e.args[0]:void 0},(n,i)=>typeof i=="string"?Fx(i):i)},fv=function(e,r){var o,s;const n="".concat((o=e.dataTier)!=null?o:"continuous",":").concat((s=e.retentionInDays)!=null?s:30),i=a(this,lr).get(n);i?i.messages.push(r):a(this,lr).set(n,{options:e,messages:[r]}),m(this,me,dv).call(this)},dv=function(){if(a(this,gt)!==null)return;v(this,gt,setTimeout(()=>{v(this,gt,null),m(this,me,zc).call(this)},7500))},zc=function(){for(const e of a(this,lr).values())m(this,me,Gc).call(this,e.options,e.messages);a(this,fr)>0&&(m(this,me,Gc).call(this,{retentionInDays:30,dataTier:"infrequent"},[m(this,me,Bc).call(this,{timestamp:Date.now(),level:"warn",logger:"FeLogWriter",context:null,text:"Dropped log messages due to rate limiting.",delivery:null,args:[{count:a(this,fr)}]})]),v(this,fr,0)),a(this,lr).clear()},Gc=function({retentionInDays:e=30,dataTier:r="continuous"},n){if(n.length===0)return;const i="[".concat(n.join(","),"]"),o=new URL("https://f-log-inkwell.grammarly.io/batch/log");o.searchParams.set("retention",String(e)),o.searchParams.set("datatier",r),Ux(async()=>{var c;const s=await fetch(o,{body:i,method:"POST",cache:"no-store",headers:{"Content-Type":"application/json"},keepalive:!0});if((c=s.body)==null||c.cancel(),!s.ok)throw new Error("Failed to send logs: ".concat(s.status," ").concat(s.statusText))}).catch(s=>{})};let gi=Bl;function Ux(t,e=3){return new Promise((r,n)=>{let i=0;const o=()=>{t().then(r).catch(s=>{i++<e?setTimeout(o,2**i*1e3):n(s)})};o()})}var Ti;const zl=class zl{constructor(e){S(this,"writer");g(this,Ti,new Map);this.writer=e}error(...e){var r,n,i;if(e.length===1){const o=typeof e[0]=="string"?e[0]:"",s=typeof e[0]=="string"?null:e[0];this.writer.write({context:null,timestamp:Date.now(),logger:null,level:"error",text:o,args:s===null?[]:[s],delivery:null})}else if(e.length===2&&typeof e[0]=="string"){const o=e[0],s=typeof e[1]=="object"&&e[1]&&"message"in e[1]?e[1]:null,c=s===null?e[1]:void 0;this.writer.write({context:null,...c,timestamp:Date.now(),logger:null,level:"error",text:o,args:s===null?[]:[s],delivery:(r=c==null?void 0:c.delivery)!=null?r:null})}else if(e.length===2){const o=e[0],s=e[1];this.writer.write({context:null,...s,timestamp:Date.now(),logger:null,level:"error",text:o.message,args:[o],delivery:(n=s==null?void 0:s.delivery)!=null?n:null})}else{const o=e[0],s=e[1],c=e[2];this.writer.write({context:null,...c,timestamp:Date.now(),logger:null,level:"error",text:o,args:[s],delivery:(i=c==null?void 0:c.delivery)!=null?i:null})}}warn(e,r){var n;this.writer.write({context:null,...r,timestamp:Date.now(),logger:null,level:"warn",text:e,args:[],delivery:(n=r==null?void 0:r.delivery)!=null?n:null})}info(e,r){var n;this.writer.write({context:null,...r,timestamp:Date.now(),logger:null,level:"info",text:e,args:[],delivery:(n=r==null?void 0:r.delivery)!=null?n:null})}verbose(e,r,...n){var c;const i=typeof e=="string"?{}:e,o=typeof e=="string"?e:r,s=typeof e=="string"?r===void 0?n:[r,...n]:n;this.writer.write({context:null,...i,logger:null,timestamp:Date.now(),level:"verbose",text:o,args:s,delivery:(c=i==null?void 0:i.delivery)!=null?c:null})}createLogger(e,r=null){var i;const n=(i=a(this,Ti).get(e))!=null?i:0;try{return new zl(new kx(this.writer,e,r!=null?r:n>0?"".concat(n):null))}finally{a(this,Ti).set(e,n+1)}}addWriter(e){const r=this.writer;if(r instanceof Uc)return r.writers.add(e),{[Symbol.dispose]:()=>{r.writers.delete(e)}};throw new Error("This should be unreachable.")}getWriters(){const e=this.writer;if(e instanceof Uc)return Array.from(e.writers);throw new Error("This should be unreachable.")}};Ti=new WeakMap;let Wc=zl;function Bx(){let t;try{const e=localStorage.getItem("DEBUG");t=JSON.parse(e!=null?e:"null"),Yd("DEBUG",JSON.stringify(t)).catch(()=>{})}catch{}return Reflect.getOwnPropertyDescriptor(globalThis,"DEBUG")||Object.defineProperty(globalThis,"DEBUG",{get:()=>{var e;t===void 0&&yx("DEBUG").then(r=>{try{t=JSON.parse(r!=null?r:"null")}catch{}}).catch(()=>{});try{return JSON.parse((e=localStorage.getItem("DEBUG"))!=null?e:"null")}catch{return t}},set:e=>{{Yd("DEBUG",JSON.stringify(e)).catch(()=>{});try{localStorage.setItem("DEBUG",JSON.stringify(e))}catch{}}t=e}}),new Wc(new Uc)}const E=rv(Bx(),{stableUniqueIdentifier:"@grammarly/util-logging:DefaultLogger",serialize:t=>{const e=[];return[{writers:t.getWriters().map(r=>{if(r instanceof qd)return{kind:"ConsoleLogWriter"};if(r instanceof hs){const n=r.toTransferable();return e.push(n.port),n}else if(r instanceof gi)return r.toTransferable()}),DEBUG:Reflect.get(globalThis,"DEBUG")},e]},deserialize:({writers:t,DEBUG:e},r)=>{Reflect.set(globalThis,"DEBUG",e);for(const n of t)if(n)switch(n.kind){case"ConsoleLogWriter":r.addWriter(new qd);break;case"MemoryLogWriter":r.addWriter(hs.fromTransferable(n));break;case"FeLogWriter":r.addWriter(gi.fromTransferable(n));break}}}),cr=class cr{constructor(e,r){S(this,"name");S(this,"message");S(this,"cause");S(this,"stack");this.name=this.constructor===cr?"Error":this.constructor.name,this.message=e,this.cause=r,this.stack=cr.isStackTraceEnabled?Wx(new Error(e).stack,{skip:1}):void 0}toString(){const e=this.constructor===cr?"Error":this.name;if(this.cause){const r="Caused by ".concat(vs(gs(this.cause),2));return"".concat(e,": ").concat(this.message,"\n").concat(r)}return"".concat(e,": ").concat(this.message)}[Symbol.toStringTag](){return this.toString()}toJSON(){return{name:this.name,message:this.message,stack:this.stack,cause:this.cause instanceof cr?this.cause:ll(this.cause)}}};S(cr,"isStackTraceEnabled",!hx);let $=cr;function ll(t){if(t!==void 0)return t instanceof $?t.toJSON():{name:t.name,message:t.message,stack:t.stack,cause:t.cause instanceof Error?ll(t.cause):t.cause}}function Pe(t){if(t instanceof $)return t;if(t instanceof Error){const e=new $(t.message);return Reflect.set(e,"name",t.name),Reflect.set(e,"stack",t.stack),t.cause&&Reflect.set(e,"cause",Pe(t.cause)),e}return zx(t)?pv(t):new Gx(t)}function zx(t){return typeof t=="object"&&t!==null&&"message"in t&&typeof t.message=="string"}function pv(t){const{message:e,name:r,cause:n,stack:i}=t,o=new $(String(e!=null?e:"Unknown error"));return r&&Reflect.set(o,"name",String(r)),i&&Reflect.set(o,"stack",String(i)),n&&Reflect.set(o,"cause",pv(n)),o}class Gx extends ${constructor(r){super("An unknown error occurred: "+String(r));S(this,"thrownError");this.thrownError=r}toJSON(){return{...super.toJSON(),thrownError:this.thrownError}}}let $r=class extends ${constructor(r="Object has been disposed"){super(r);S(this,"kind","ReferenceError")}};class et extends ${constructor(r){super("Unreachable case: ".concat(String(r)));S(this,"value");this.value=r}}class ut extends ${constructor(r,n=""){super(n);S(this,"errors");this.errors=r.flatMap(i=>i instanceof ut?i.errors:[i])}toString(){if(this.errors.length===1)return gs(this.errors[0]);const r=String(this.errors.length).length+2;return"AggregateError: "+this.message+"(total ".concat(this.errors.length," errors)")+"\n"+this.errors.map((n,i)=>"".concat(i+1,". ").padStart(r)+vs(gs(n),r)).join("\n")}toJSON(){return{...super.toJSON(),errors:this.errors.map(ll)}}}function gs(t){var e;if(t instanceof $)return t.toString();if(t.cause){const r="Caused by ".concat(vs(gs(Pe(t.cause)),2));return"".concat(t.name,": ").concat(t.message,"\n").concat(r)}return"".concat(t.name,": ").concat(t.message,"\n").concat(vs((e=t.stack)!=null?e:"",2))}function vs(t,e){const r=" ".repeat(e);return t.replace(/\r?\n/g,n=>n+r).trimStart()}function Wx(t,e){if(!t)return;const r=t.split("\n");return r.splice(1,e.skip),r.join("\n")}function fl(t){return typeof t=="object"&&t!==null&&"ok"in t&&typeof t.ok=="boolean"&&(t.ok?"value"in t:"error"in t&&Jx(t.error))}function P(t){return Object.freeze({ok:!0,value:t,error:void 0})}function x(t){return Object.freeze({ok:!1,value:void 0,error:t})}function hv(t){return fl(t)&&xe(t)?t:x(Pe(t))}function ms(t){return t.ok}function xe(t){return!t.ok}function ee(t){return e=>e.ok?P(t(e.value)):e}function dl(t){return e=>e.ok?e:x(t(e.error))}function pl(t){return e=>e.ok?t(e.value):e}function ys(t){const e=[],r=[];for(const n of t)n.ok?e.push(n.value):r.push(n.error);return r.length>0?x(new ut(r)):P(e)}function Hx(t){const e={},r=[];for(const[n,i]of Object.entries(t))i.ok?e[n]=i.value:r.push(i.error);return r.length>0?x(new ut(r)):P(e)}function KN(t){let e=null;try{return t(r=>{if(r.ok)return r.value;throw e=r.error,e})}catch(r){if(r===e)return x(e);throw r}}function hl(t){try{return P(t())}catch(e){return hv(e)}}function VN(t){return e=>e.ok?t.success(e.value):t.failure(e.error)}function gv(t){const e=[],r=[];for(const n of t)n.ok?e.push(n):r.push(n);return{success:e,failure:r}}function Jx(t){return t instanceof $||t instanceof Error||typeof t=="object"&&t!==null&&"message"in t&&typeof t.message=="string"}async function R(t){return P(t)}async function Z(t){return x(t)}async function kr(t){return t}async function Kx(t){let e=null;try{return await t(async r=>{const n=await r;if(n.ok)return n.value;throw e=n.error,e})}catch(r){if(r===e)return Z(e);throw r}}async function kt(t){try{return R(await t())}catch(e){return hv(e)}}function D(t){return async e=>{const r=await e;return r.ok?R(t(r.value)):r}}function xt(t){return async e=>{const r=await e;return r.ok?r:Z(await t(r.error))}}function N(t){return async e=>{const r=await e;return r.ok?t(r.value):r}}function oe(t){return async e=>{const r=await e;return r.ok?r:t(r.error)}}async function vi(t){const e=await Promise.all(Array.from(t)),r=e.filter(ms),n=e.filter(xe);return n.length>0?Z(new ut(n.map(({error:i})=>i))):R(r.map(i=>i.value))}function Vx(t){return async e=>{const r=await e;return r.ok?t.success(r.value):t.failure(r.error)}}function An(t){return async e=>t(await e)}function vv(t){return async e=>t(await e)}function YN(t,e){return new Promise(r=>{var c,u;let n=0;const i=(c=e==null?void 0:e.maxRetries)!=null?c:3,o=(u=e==null?void 0:e.delayMs)!=null?u:()=>1e3,s=async()=>{const l=await t();l.ok?r(l):n++<i?setTimeout(s,o(n)):r(l)};s()})}const It={all:Yx,use:qx};function Yx(t){var i=[];try{const e=ce(i,new DisposableStack);const{success:r,failure:n}=gv(t);r.forEach(u=>e.use(u.value));if(n.length>0)return x(new ut(n.map(u=>u.error)));return P(e.move())}catch(o){var s=o,c=!0}finally{ue(i,s,c)}}function qx(t){return e=>{if(!e.ok)return e;if(t.disposed){var r=[];try{const s=ce(r,e.value)}catch(n){var i=n,o=!0}finally{ue(r,i,o)}}else t.use(e.value);return e}}const gl={all:Xx,use:Zx};async function Xx(t){var i=[];try{const e=ce(i,new AsyncDisposableStack,!0);const{success:r,failure:n}=gv(t);r.forEach(l=>e.use(l.value));if(n.length>0)return x(new ut(n.map(l=>l.error)));return P(e.move())}catch(o){var s=o,c=!0}finally{var u=ue(i,s,c);u&&await u}}function Zx(t){return async e=>{if(!e.ok)return e;if(t.disposed){var r=[];try{const c=ce(r,e.value,!0)}catch(n){var i=n,o=!0}finally{var s=ue(r,i,o);s&&await s}}else t.use(e.value);return e}}const Xr=[];function Qx(t){Xr.push(t)}function eR(t){if(Zr()===t){Xr.pop();return}const e=Xr.indexOf(t);e!==-1&&Xr.splice(e,1)}function Zr(){var t;return(t=Xr[Xr.length-1])!=null?t:null}function tr(){return crypto.randomUUID()}var Oi,dr;class mv{constructor(){g(this,Oi,tr());g(this,dr,0)}next(){return a(this,dr)===Number.MAX_SAFE_INTEGER?(v(this,dr,0),v(this,Oi,tr())):ga(this,dr)._++,"".concat(a(this,Oi),"-").concat(a(this,dr).toString(16))}}Oi=new WeakMap,dr=new WeakMap;const yv=new mv;var we,Ut,Pi,qe,dt;class vl{constructor(e,r){g(this,qe);g(this,we,!0);S(this,"status");S(this,"message");S(this,"endTime");S(this,"id");S(this,"name");S(this,"startTime");S(this,"links");S(this,"events");S(this,"attributes");g(this,Ut);g(this,Pi);var n,i,o;this.id=yv.next(),this.name=e,this.links=(i=(n=r.links)==null?void 0:n.map(s=>({id:s.id})))!=null?i:[],this.attributes={...r.attributes},this.events=[],this.startTime=(o=r.timestamp)!=null?o:performance.now(),v(this,Ut,r.tracer),v(this,Pi,r.parent?{id:r.parent.id}:null)}get isRecording(){return a(this,we)}setAttribute(e,r){if(!a(this,we))return m(this,qe,dt).call(this);this.attributes[e]=r}setAttributes(e){if(!a(this,we))return m(this,qe,dt).call(this);Object.assign(this.attributes,e)}setStatus(e,r){if(!a(this,we))return m(this,qe,dt).call(this);this.status=e,this.message=r}recordError(e,r){if(!a(this,we))return m(this,qe,dt).call(this);this.events.push({name:e.name,kind:"error",attributes:{message:e.message,stack:e.stack},timestamp:r!=null?r:performance.now()})}recordEvent(e,r={},n){if(!a(this,we))return m(this,qe,dt).call(this);typeof r=="number"&&(n=r,r={}),this.events.push({name:e,kind:"event",attributes:r,timestamp:n!=null?n:performance.now()})}link(e,r){if(!a(this,we))return m(this,qe,dt).call(this);this.links.push({id:e.id,attributes:r})}startSpan(e,r){a(this,we)||m(this,qe,dt).call(this);const n={...r,parent:this,tracer:a(this,Ut)};return a(this,Ut).startSpan("".concat(this.name,".").concat(e),n)}runInSpan(e,r,n){return this.run(r,this.startSpan(e,n))}run(e,r=this){const n=()=>{r.setStatus("ok"),r.end()},i=o=>{const s=Pe(o);r.recordError(s),r.setStatus("error",s.message),r.end()};try{const o=e(r);return o instanceof Promise?o.then(n,i):n(),o}catch(o){throw i(o),o}}end(e){var r;if(!a(this,we))return m(this,qe,dt).call(this);v(this,we,!1),(r=this.status)!=null||(this.status="unset"),this.endTime=e!=null?e:performance.now(),a(this,Ut).onSpanDidEnd(this)}[Symbol.dispose](){a(this,we)&&this.end()}toJSON(){var e;return{id:this.id,parentId:(e=a(this,Pi))==null?void 0:e.id,traceId:a(this,Ut).id,name:this.name,status:this.status,message:this.message,startTime:this.startTime,endTime:this.endTime,links:this.links,events:this.events,attributes:this.attributes}}toString(){const e=[];return e.push(this.name),this.status==="error"&&e.push("(error)"),this.message&&e.push(this.message),Object.keys(this.attributes).length&&e.push("|",ml(this.attributes)),e.push("(".concat(this.id,")")),e.join(" ")}}we=new WeakMap,Ut=new WeakMap,Pi=new WeakMap,qe=new WeakSet,dt=function(){E.warn("Span ".concat(this.name,"(").concat(this.id,") is not recording."),{delivery:!1})};function tR(t){return typeof t=="string"?t:JSON.stringify(t)}function ml(t){const e=Object.entries(t);return e.length===0?"":"attributes: "+e.map(([r,n])=>"".concat(r,"=").concat(tR(n))).join(", ")}var xi,pr,vt,Bt,Ri,Jc;const Gl=class Gl{constructor(e,r=null){g(this,Ri);g(this,xi,yv.next());g(this,pr);g(this,vt,new Set);g(this,Bt);v(this,pr,e),v(this,Bt,r)}get id(){return a(this,xi)}get observers(){return Array.from(a(this,vt))}get attributes(){var e;return(e=a(this,pr))!=null?e:{}}load(e){v(this,xi,e.id),v(this,pr,e.attributes)}addObserver(e){return a(this,vt).add(e),{[Symbol.dispose]:()=>{a(this,vt).delete(e)}}}removeObserver(e){return a(this,vt).delete(e)}startSpan(e,r){return m(this,Ri,Jc).call(this,e,r)}runInSpan(e,r,n){return m(this,Ri,Jc).call(this,e,n).run(r)}onSpanDidStart(e){Qx(e),a(this,Bt)&&a(this,Bt).onSpanDidStart(e),a(this,vt).forEach(r=>{if(r.onDidStart)try{r.onDidStart(e)}catch{}})}onSpanDidEnd(e){eR(e),a(this,Bt)&&a(this,Bt).onSpanDidEnd(e),a(this,vt).forEach(r=>{if(r.onDidEnd)try{r.onDidEnd(e)}catch{}})}startTrace(e){return new Gl(e,this)}};xi=new WeakMap,pr=new WeakMap,vt=new WeakMap,Bt=new WeakMap,Ri=new WeakSet,Jc=function(e,r){const n=new vl(e,{tracer:this,parent:null,...r,attributes:{...a(this,pr),...r==null?void 0:r.attributes}});return this.onSpanDidStart(n),n};let Hc=Gl;var an;const Cs=class Cs{constructor(){S(this,"name",Cs.name);g(this,an,E.createLogger("Trace"))}onDidStart(e){a(this,an).verbose("START ".concat(e),e.toJSON())}onDidEnd(e){const r=Number(e.endTime-e.startTime).toFixed(2)+"ms";if(e instanceof vl){const n=i=>!i.attributes||!Object.keys(i.attributes).length?i.name:"".concat(i.name,"(").concat(ml(i.attributes),")");for(const i of e.events){const o=i.kind==="error"?"ERROR":"EVENT",s=Number(i.timestamp-e.startTime).toFixed(2)+"ms";a(this,an).verbose("".concat(o," ").concat(n(i)," in ").concat(e," at ").concat(s," of ").concat(r))}}a(this,an).verbose("END ".concat(e," in ").concat(r),e.toJSON())}};an=new WeakMap,S(Cs,"name","ConsoleObserver");let fi=Cs;const As=class As{constructor(e={}){S(this,"name",As.name);S(this,"showDetails");var r;this.showDetails=(r=e.showDetails)!=null?r:!1}onDidStart(e){performance.mark("".concat(e.name," (").concat(e.id,")"),{startTime:e.startTime})}onDidEnd(e){performance.clearMarks("".concat(e.name," (").concat(e.id,")"));try{performance.measure(this.showDetails?e.toString():e.name,{start:e.startTime,end:e.endTime,detail:e.toJSON()})}catch{}e instanceof vl&&e.events.forEach(r=>{var n;performance.mark("".concat(e.name,"#").concat(r.name," ").concat(ml((n=r.attributes)!=null?n:{})),{startTime:r.timestamp})})}};S(As,"name","PerformanceObserver");let di=As;function bs(t){return function(e){return fl(e)?(e.ok?t.setStatus("ok"):(t.setStatus("error",e.error.message),t.recordError(e.error)),t.end(),e):Vx({success:()=>(t.setStatus("ok"),t.end(),e),failure:r=>(t.setStatus("error",r.message),t.recordError(r),t.end(),e)})(e)}}const Ss=rv(new Hc,{stableUniqueIdentifier:"@grammarly/util-tracing",serialize:t=>[{id:t.id,attributes:t.attributes,observers:t.observers.map(e=>e instanceof fi?{name:e.name}:e instanceof di?{name:e.name,showDetails:e.showDetails}:null)},[]],deserialize:(t,e)=>{e.load(t);for(const r of t.observers)r&&(r.name===fi.name?e.addObserver(new fi):r.name===di.name&&e.addObserver(new di({showDetails:r.showDetails})))}}),ra="0.1.4";function rR(t){return{name:"Inkwell",client:t.client,servicesEnvironment:t.servicesEnvironment,version:ra,capiSource:"connector"}}var nR=Object.defineProperty,iR=(t,e)=>(e=Symbol[t])?e:Symbol.for("Symbol."+t),rp=t=>{throw TypeError(t)},oR=(t,e,r)=>e in t?nR(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,sR=(t,e,r)=>oR(t,e+"",r),aR=(t,e,r)=>{if(e!=null){typeof e!="object"&&typeof e!="function"&&rp("Object expected");var n;n===void 0&&(n=e[iR("dispose")]),typeof n!="function"&&rp("Object not disposable"),t.push([r,n,e])}return e},cR=(t,e,r)=>{var n=typeof SuppressedError=="function"?SuppressedError:function(s,c,u,l){return l=Error(u),l.name="SuppressedError",l.error=s,l.suppressed=c,l},i=s=>e=r?new n(s,e,"An error was suppressed during disposal"):(r=!0,s),o=s=>{for(;s=t.pop();)try{var c=s[1]&&s[1].call(s[2]);if(s[0])return Promise.resolve(c).then(o,u=>(i(u),o()))}catch(u){i(u)}if(r)throw e};return o()};function uR(){var t=[];try{const n=aR(t,new DisposableStack),i=s=>{const c=new bv(s),u="filename"in s?" at ".concat(s.filename,":").concat(s.lineno,":").concat(s.colno):"";E.error("Uncaught error (".concat(s.type,")").concat(u,":"),c),E.verbose("Details:",{event:s})},o=new AbortController;return n.defer(()=>o.abort()),globalThis.addEventListener("unhandledrejection",i,{signal:o.signal}),globalThis.addEventListener("error",i,{signal:o.signal}),n.move()}catch(n){var e=n,r=!0}finally{cR(t,e,r)}}class bv extends ${constructor(e){super("Unhandled error",Pe("error"in e?e.error:e.reason)),sR(this,"event"),this.event=e}toJSON(){return{...super.toJSON(),type:this.event.type,filename:"filename"in this.event?this.event.filename:void 0,lineno:"filename"in this.event?this.event.lineno:void 0,colno:"filename"in this.event?this.event.colno:void 0}}}const F=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Ir="8.47.0",C=globalThis;function na(t,e,r){const n=r||C,i=n.__SENTRY__=n.__SENTRY__||{},o=i[Ir]=i[Ir]||{};return o[t]||(o[t]=e())}const Lr=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,lR="Sentry Logger ",Kc=["debug","info","warn","error","log","assert","trace"],_s={};function Ur(t){if(!("console"in C))return t();const e=C.console,r={},n=Object.keys(_s);n.forEach(i=>{const o=_s[i];r[i]=e[i],e[i]=o});try{return t()}finally{n.forEach(i=>{e[i]=r[i]})}}function fR(){let t=!1;const e={enable:()=>{t=!0},disable:()=>{t=!1},isEnabled:()=>t};return Lr?Kc.forEach(r=>{e[r]=(...n)=>{t&&Ur(()=>{C.console[r]("".concat(lR,"[").concat(r,"]:"),...n)})}}):Kc.forEach(r=>{e[r]=()=>{}}),e}const w=na("logger",fR),Sv=50,Pr="?",np=/\(error: (.*)\)/,ip=/captureMessage|captureException/;function _v(...t){const e=t.sort((r,n)=>r[0]-n[0]).map(r=>r[1]);return(r,n=0,i=0)=>{const o=[],s=r.split("\n");for(let c=n;c<s.length;c++){const u=s[c];if(u.length>1024)continue;const l=np.test(u)?u.replace(np,"$1"):u;if(!l.match(/\S*Error: /)){for(const f of e){const d=f(l);if(d){o.push(d);break}}if(o.length>=Sv+i)break}}return pR(o.slice(i))}}function dR(t){return Array.isArray(t)?_v(...t):t}function pR(t){if(!t.length)return[];const e=Array.from(t);return/sentryWrapped/.test(No(e).function||"")&&e.pop(),e.reverse(),ip.test(No(e).function||"")&&(e.pop(),ip.test(No(e).function||"")&&e.pop()),e.slice(0,Sv).map(r=>({...r,filename:r.filename||No(e).filename,function:r.function||Pr}))}function No(t){return t[t.length-1]||{}}const sc="<anonymous>";function rr(t){try{return!t||typeof t!="function"?sc:t.name||sc}catch{return sc}}function op(t){const e=t.exception;if(e){const r=[];try{return e.values.forEach(n=>{n.stacktrace.frames&&r.push(...n.stacktrace.frames)}),r}catch{return}}}const Xo={},sp={};function Br(t,e){Xo[t]=Xo[t]||[],Xo[t].push(e)}function zr(t,e){if(!sp[t]){sp[t]=!0;try{e()}catch(r){Lr&&w.error("Error while instrumenting ".concat(t),r)}}}function tt(t,e){const r=t&&Xo[t];if(r)for(const n of r)try{n(e)}catch(i){Lr&&w.error("Error while triggering instrumentation handler.\nType: ".concat(t,"\nName: ").concat(rr(n),"\nError:"),i)}}let ac=null;function hR(t){const e="error";Br(e,t),zr(e,gR)}function gR(){ac=C.onerror,C.onerror=function(t,e,r,n,i){return tt("error",{column:n,error:i,line:r,msg:t,url:e}),ac?ac.apply(this,arguments):!1},C.onerror.__SENTRY_INSTRUMENTED__=!0}let cc=null;function vR(t){const e="unhandledrejection";Br(e,t),zr(e,mR)}function mR(){cc=C.onunhandledrejection,C.onunhandledrejection=function(t){return tt("unhandledrejection",t),cc?cc.apply(this,arguments):!0},C.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}function ia(){return yl(C),C}function yl(t){const e=t.__SENTRY__=t.__SENTRY__||{};return e.version=e.version||Ir,e[Ir]=e[Ir]||{}}const Ev=Object.prototype.toString;function bl(t){switch(Ev.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return xr(t,Error)}}function Wn(t,e){return Ev.call(t)==="[object ".concat(e,"]")}function wv(t){return Wn(t,"ErrorEvent")}function ap(t){return Wn(t,"DOMError")}function yR(t){return Wn(t,"DOMException")}function Tt(t){return Wn(t,"String")}function Sl(t){return typeof t=="object"&&t!==null&&"__sentry_template_string__"in t&&"__sentry_template_values__"in t}function _l(t){return t===null||Sl(t)||typeof t!="object"&&typeof t!="function"}function Nn(t){return Wn(t,"Object")}function oa(t){return typeof Event<"u"&&xr(t,Event)}function bR(t){return typeof Element<"u"&&xr(t,Element)}function SR(t){return Wn(t,"RegExp")}function sa(t){return!!(t&&t.then&&typeof t.then=="function")}function _R(t){return Nn(t)&&"nativeEvent"in t&&"preventDefault"in t&&"stopPropagation"in t}function xr(t,e){try{return t instanceof e}catch{return!1}}function $v(t){return!!(typeof t=="object"&&t!==null&&(t.__isVue||t._isVue))}const El=C,ER=80;function kv(t,e={}){if(!t)return"<unknown>";try{let r=t;const n=5,i=[];let o=0,s=0;const c=" > ",u=c.length;let l;const f=Array.isArray(e)?e:e.keyAttrs,d=!Array.isArray(e)&&e.maxStringLength||ER;for(;r&&o++<n&&(l=wR(r,f),!(l==="html"||o>1&&s+i.length*u+l.length>=d));)i.push(l),s+=l.length,r=r.parentNode;return i.reverse().join(c)}catch{return"<unknown>"}}function wR(t,e){const r=t,n=[];if(!r||!r.tagName)return"";if(El.HTMLElement&&r instanceof HTMLElement&&r.dataset){if(r.dataset.sentryComponent)return r.dataset.sentryComponent;if(r.dataset.sentryElement)return r.dataset.sentryElement}n.push(r.tagName.toLowerCase());const i=e&&e.length?e.filter(s=>r.getAttribute(s)).map(s=>[s,r.getAttribute(s)]):null;if(i&&i.length)i.forEach(s=>{n.push("[".concat(s[0],'="').concat(s[1],'"]'))});else{r.id&&n.push("#".concat(r.id));const s=r.className;if(s&&Tt(s)){const c=s.split(/\s+/);for(const u of c)n.push(".".concat(u))}}const o=["aria-label","type","name","title","alt"];for(const s of o){const c=r.getAttribute(s);c&&n.push("[".concat(s,'="').concat(c,'"]'))}return n.join("")}function $R(){try{return El.document.location.href}catch{return""}}function kR(t){if(!El.HTMLElement)return null;let e=t;const r=5;for(let n=0;n<r;n++){if(!e)return null;if(e instanceof HTMLElement){if(e.dataset.sentryComponent)return e.dataset.sentryComponent;if(e.dataset.sentryElement)return e.dataset.sentryElement}e=e.parentNode}return null}function Qr(t,e=0){return typeof t!="string"||e===0||t.length<=e?t:"".concat(t.slice(0,e),"...")}function cp(t,e){if(!Array.isArray(t))return"";const r=[];for(let n=0;n<t.length;n++){const i=t[n];try{$v(i)?r.push("[VueViewModel]"):r.push(String(i))}catch{r.push("[value cannot be serialized]")}}return r.join(e)}function IR(t,e,r=!1){return Tt(t)?SR(e)?e.test(t):Tt(e)?r?t===e:t.includes(e):!1:!1}function aa(t,e=[],r=!1){return e.some(n=>IR(t,n,r))}function De(t,e,r){if(!(e in t))return;const n=t[e],i=r(n);typeof i=="function"&&Iv(i,n);try{t[e]=i}catch{Lr&&w.log('Failed to replace method "'.concat(e,'" in object'),t)}}function Rr(t,e,r){try{Object.defineProperty(t,e,{value:r,writable:!0,configurable:!0})}catch{Lr&&w.log('Failed to add non-enumerable property "'.concat(e,'" to object'),t)}}function Iv(t,e){try{const r=e.prototype||{};t.prototype=e.prototype=r,Rr(t,"__sentry_original__",e)}catch{}}function wl(t){return t.__sentry_original__}function Tv(t){if(bl(t))return{message:t.message,name:t.name,stack:t.stack,...lp(t)};if(oa(t)){const e={type:t.type,target:up(t.target),currentTarget:up(t.currentTarget),...lp(t)};return typeof CustomEvent<"u"&&xr(t,CustomEvent)&&(e.detail=t.detail),e}else return t}function up(t){try{return bR(t)?kv(t):Object.prototype.toString.call(t)}catch{return"<unknown>"}}function lp(t){if(typeof t=="object"&&t!==null){const e={};for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}else return{}}function TR(t,e=40){const r=Object.keys(Tv(t));r.sort();const n=r[0];if(!n)return"[object has no keys]";if(n.length>=e)return Qr(n,e);for(let i=r.length;i>0;i--){const o=r.slice(0,i).join(", ");if(!(o.length>e))return i===r.length?o:Qr(o,e)}return""}function Ge(t){return Vc(t,new Map)}function Vc(t,e){if(OR(t)){const r=e.get(t);if(r!==void 0)return r;const n={};e.set(t,n);for(const i of Object.getOwnPropertyNames(t))typeof t[i]<"u"&&(n[i]=Vc(t[i],e));return n}if(Array.isArray(t)){const r=e.get(t);if(r!==void 0)return r;const n=[];return e.set(t,n),t.forEach(i=>{n.push(Vc(i,e))}),n}return t}function OR(t){if(!Nn(t))return!1;try{const e=Object.getPrototypeOf(t).constructor.name;return!e||e==="Object"}catch{return!0}}const Ov=1e3;function so(){return Date.now()/Ov}function PR(){const{performance:t}=C;if(!t||!t.now)return so;const e=Date.now()-t.now(),r=t.timeOrigin==null?e:t.timeOrigin;return()=>(r+t.now())/Ov}const Ot=PR();(()=>{const{performance:t}=C;if(!t||!t.now)return;const e=3600*1e3,r=t.now(),n=Date.now(),i=t.timeOrigin?Math.abs(t.timeOrigin+r-n):e,o=i<e,s=t.timing&&t.timing.navigationStart,u=typeof s=="number"?Math.abs(s+r-n):e,l=u<e;return o||l?i<=u?t.timeOrigin:s:n})();function We(){const t=C,e=t.crypto||t.msCrypto;let r=()=>Math.random()*16;try{if(e&&e.randomUUID)return e.randomUUID().replace(/-/g,"");e&&e.getRandomValues&&(r=()=>{const n=new Uint8Array(1);return e.getRandomValues(n),n[0]})}catch{}return("10000000100040008000"+1e11).replace(/[018]/g,n=>(n^(r()&15)>>n/4).toString(16))}function Pv(t){return t.exception&&t.exception.values?t.exception.values[0]:void 0}function jt(t){const{message:e,event_id:r}=t;if(e)return e;const n=Pv(t);return n?n.type&&n.value?"".concat(n.type,": ").concat(n.value):n.type||n.value||r||"<unknown>":r||"<unknown>"}function Yc(t,e,r){const n=t.exception=t.exception||{},i=n.values=n.values||[],o=i[0]=i[0]||{};o.value||(o.value=e||""),o.type||(o.type="Error")}function jn(t,e){const r=Pv(t);if(!r)return;const n={type:"generic",handled:!0},i=r.mechanism;if(r.mechanism={...n,...i,...e},e&&"data"in e){const o={...i&&i.data,...e.data};r.mechanism.data=o}}function fp(t){if(xR(t))return!0;try{Rr(t,"__sentry_captured__",!0)}catch{}return!1}function xR(t){try{return t.__sentry_captured__}catch{}}var pt;(function(t){t[t.PENDING=0]="PENDING";const r=1;t[t.RESOLVED=r]="RESOLVED";const n=2;t[t.REJECTED=n]="REJECTED"})(pt||(pt={}));function Dr(t){return new Be(e=>{e(t)})}function Es(t){return new Be((e,r)=>{r(t)})}class Be{constructor(e){Be.prototype.__init.call(this),Be.prototype.__init2.call(this),Be.prototype.__init3.call(this),Be.prototype.__init4.call(this),this._state=pt.PENDING,this._handlers=[];try{e(this._resolve,this._reject)}catch(r){this._reject(r)}}then(e,r){return new Be((n,i)=>{this._handlers.push([!1,o=>{if(!e)n(o);else try{n(e(o))}catch(s){i(s)}},o=>{if(!r)i(o);else try{n(r(o))}catch(s){i(s)}}]),this._executeHandlers()})}catch(e){return this.then(r=>r,e)}finally(e){return new Be((r,n)=>{let i,o;return this.then(s=>{o=!1,i=s,e&&e()},s=>{o=!0,i=s,e&&e()}).then(()=>{if(o){n(i);return}r(i)})})}__init(){this._resolve=e=>{this._setResult(pt.RESOLVED,e)}}__init2(){this._reject=e=>{this._setResult(pt.REJECTED,e)}}__init3(){this._setResult=(e,r)=>{if(this._state===pt.PENDING){if(sa(r)){r.then(this._resolve,this._reject);return}this._state=e,this._value=r,this._executeHandlers()}}}__init4(){this._executeHandlers=()=>{if(this._state===pt.PENDING)return;const e=this._handlers.slice();this._handlers=[],e.forEach(r=>{r[0]||(this._state===pt.RESOLVED&&r[1](this._value),this._state===pt.REJECTED&&r[2](this._value),r[0]=!0)})}}}function RR(t){const e=Ot(),r={sid:We(),init:!0,timestamp:e,started:e,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>CR(r)};return t&&Mn(r,t),r}function Mn(t,e={}){if(e.user&&(!t.ipAddress&&e.user.ip_address&&(t.ipAddress=e.user.ip_address),!t.did&&!e.did&&(t.did=e.user.id||e.user.email||e.user.username)),t.timestamp=e.timestamp||Ot(),e.abnormal_mechanism&&(t.abnormal_mechanism=e.abnormal_mechanism),e.ignoreDuration&&(t.ignoreDuration=e.ignoreDuration),e.sid&&(t.sid=e.sid.length===32?e.sid:We()),e.init!==void 0&&(t.init=e.init),!t.did&&e.did&&(t.did="".concat(e.did)),typeof e.started=="number"&&(t.started=e.started),t.ignoreDuration)t.duration=void 0;else if(typeof e.duration=="number")t.duration=e.duration;else{const r=t.timestamp-t.started;t.duration=r>=0?r:0}e.release&&(t.release=e.release),e.environment&&(t.environment=e.environment),!t.ipAddress&&e.ipAddress&&(t.ipAddress=e.ipAddress),!t.userAgent&&e.userAgent&&(t.userAgent=e.userAgent),typeof e.errors=="number"&&(t.errors=e.errors),e.status&&(t.status=e.status)}function DR(t,e){let r={};t.status==="ok"&&(r={status:"exited"}),Mn(t,r)}function CR(t){return Ge({sid:"".concat(t.sid),init:t.init,started:new Date(t.started*1e3).toISOString(),timestamp:new Date(t.timestamp*1e3).toISOString(),status:t.status,errors:t.errors,did:typeof t.did=="number"||typeof t.did=="string"?"".concat(t.did):void 0,duration:t.duration,abnormal_mechanism:t.abnormal_mechanism,attrs:{release:t.release,environment:t.environment,ip_address:t.ipAddress,user_agent:t.userAgent}})}function dp(){return We()}function qc(){return We().substring(16)}function ca(t,e,r=2){if(!e||typeof e!="object"||r<=0)return e;if(t&&e&&Object.keys(e).length===0)return t;const n={...t};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=ca(n[i],e[i],r-1));return n}const Xc="_sentrySpan";function pp(t,e){e?Rr(t,Xc,e):delete t[Xc]}function hp(t){return t[Xc]}const AR=100;class $l{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:dp(),spanId:qc()}}clone(){const e=new $l;return e._breadcrumbs=[...this._breadcrumbs],e._tags={...this._tags},e._extra={...this._extra},e._contexts={...this._contexts},this._contexts.flags&&(e._contexts.flags={values:[...this._contexts.flags.values]}),e._user=this._user,e._level=this._level,e._session=this._session,e._transactionName=this._transactionName,e._fingerprint=this._fingerprint,e._eventProcessors=[...this._eventProcessors],e._requestSession=this._requestSession,e._attachments=[...this._attachments],e._sdkProcessingMetadata={...this._sdkProcessingMetadata},e._propagationContext={...this._propagationContext},e._client=this._client,e._lastEventId=this._lastEventId,pp(e,hp(this)),e}setClient(e){this._client=e}setLastEventId(e){this._lastEventId=e}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&Mn(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(e){return this._requestSession=e,this}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,r){return this._tags={...this._tags,[e]:r},this._notifyScopeListeners(),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,r){return this._extra={...this._extra,[e]:r},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,r){return r===null?delete this._contexts[e]:this._contexts[e]=r,this._notifyScopeListeners(),this}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;const r=typeof e=="function"?e(this):e,[n,i]=r instanceof Cr?[r.getScopeData(),r.getRequestSession()]:Nn(r)?[e,e.requestSession]:[],{tags:o,extra:s,user:c,contexts:u,level:l,fingerprint:f=[],propagationContext:d}=n||{};return this._tags={...this._tags,...o},this._extra={...this._extra,...s},this._contexts={...this._contexts,...u},c&&Object.keys(c).length&&(this._user=c),l&&(this._level=l),f.length&&(this._fingerprint=f),d&&(this._propagationContext=d),i&&(this._requestSession=i),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._session=void 0,pp(this,void 0),this._attachments=[],this.setPropagationContext({traceId:dp()}),this._notifyScopeListeners(),this}addBreadcrumb(e,r){const n=typeof r=="number"?r:AR;if(n<=0)return this;const i={timestamp:so(),...e},o=this._breadcrumbs;return o.push(i),this._breadcrumbs=o.length>n?o.slice(-n):o,this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:hp(this)}}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata=ca(this._sdkProcessingMetadata,e,2),this}setPropagationContext(e){return this._propagationContext={spanId:qc(),...e},this}getPropagationContext(){return this._propagationContext}captureException(e,r){const n=r&&r.event_id?r.event_id:We();if(!this._client)return w.warn("No client configured on scope - will not capture exception!"),n;const i=new Error("Sentry syntheticException");return this._client.captureException(e,{originalException:e,syntheticException:i,...r,event_id:n},this),n}captureMessage(e,r,n){const i=n&&n.event_id?n.event_id:We();if(!this._client)return w.warn("No client configured on scope - will not capture message!"),i;const o=new Error(e);return this._client.captureMessage(e,r,{originalException:e,syntheticException:o,...n,event_id:i},this),i}captureEvent(e,r){const n=r&&r.event_id?r.event_id:We();return this._client?(this._client.captureEvent(e,{...r,event_id:n},this),n):(w.warn("No client configured on scope - will not capture event!"),n)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(e=>{e(this)}),this._notifyingListeners=!1)}}const Cr=$l;function NR(){return na("defaultCurrentScope",()=>new Cr)}function jR(){return na("defaultIsolationScope",()=>new Cr)}class MR{constructor(e,r){let n;e?n=e:n=new Cr;let i;r?i=r:i=new Cr,this._stack=[{scope:n}],this._isolationScope=i}withScope(e){const r=this._pushScope();let n;try{n=e(r)}catch(i){throw this._popScope(),i}return sa(n)?n.then(i=>(this._popScope(),i),i=>{throw this._popScope(),i}):(this._popScope(),n)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const e=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:e}),e}_popScope(){return this._stack.length<=1?!1:!!this._stack.pop()}}function Fn(){const t=ia(),e=yl(t);return e.stack=e.stack||new MR(NR(),jR())}function FR(t){return Fn().withScope(t)}function LR(t,e){const r=Fn();return r.withScope(()=>(r.getStackTop().scope=t,e(t)))}function gp(t){return Fn().withScope(()=>t(Fn().getIsolationScope()))}function UR(){return{withIsolationScope:gp,withScope:FR,withSetScope:LR,withSetIsolationScope:(t,e)=>gp(e),getCurrentScope:()=>Fn().getScope(),getIsolationScope:()=>Fn().getIsolationScope()}}function kl(t){const e=yl(t);return e.acs?e.acs:UR()}function Dt(){const t=ia();return kl(t).getCurrentScope()}function ao(){const t=ia();return kl(t).getIsolationScope()}function BR(){return na("globalScope",()=>new Cr)}function zR(...t){const e=ia(),r=kl(e);if(t.length===2){const[n,i]=t;return n?r.withSetScope(n,i):r.withScope(i)}return r.withScope(t[0])}function ae(){return Dt().getClient()}function GR(t){const e=t.getPropagationContext(),{traceId:r,spanId:n,parentSpanId:i}=e;return Ge({trace_id:r,span_id:n,parent_span_id:i})}const WR="_sentryMetrics";function HR(t){const e=t[WR];if(!e)return;const r={};for(const[,[n,i]]of e)(r[n]||(r[n]=[])).push(Ge(i));return r}const JR="sentry.source",KR="sentry.sample_rate",VR="sentry.op",YR="sentry.origin",qR=0,XR=1,ZR="sentry-",QR=/^sentry-/;function eD(t){const e=tD(t);if(!e)return;const r=Object.entries(e).reduce((n,[i,o])=>{if(i.match(QR)){const s=i.slice(ZR.length);n[s]=o}return n},{});if(Object.keys(r).length>0)return r}function tD(t){if(!(!t||!Tt(t)&&!Array.isArray(t)))return Array.isArray(t)?t.reduce((e,r)=>{const n=vp(r);return Object.entries(n).forEach(([i,o])=>{e[i]=o}),e},{}):vp(t)}function vp(t){return t.split(",").map(e=>e.split("=").map(r=>decodeURIComponent(r.trim()))).reduce((e,[r,n])=>(r&&n&&(e[r]=n),e),{})}const rD=1;let mp=!1;function nD(t){const{spanId:e,traceId:r,isRemote:n}=t.spanContext(),i=n?e:Il(t).parent_span_id,o=n?qc():e;return Ge({parent_span_id:i,span_id:o,trace_id:r})}function yp(t){return typeof t=="number"?bp(t):Array.isArray(t)?t[0]+t[1]/1e9:t instanceof Date?bp(t.getTime()):Ot()}function bp(t){return t>9999999999?t/1e3:t}function Il(t){if(oD(t))return t.getSpanJSON();try{const{spanId:e,traceId:r}=t.spanContext();if(iD(t)){const{attributes:n,startTime:i,name:o,endTime:s,parentSpanId:c,status:u}=t;return Ge({span_id:e,trace_id:r,data:n,description:o,parent_span_id:c,start_timestamp:yp(i),timestamp:yp(s)||void 0,status:aD(u),op:n[VR],origin:n[YR],_metrics_summary:HR(t)})}return{span_id:e,trace_id:r}}catch{return{}}}function iD(t){const e=t;return!!e.attributes&&!!e.startTime&&!!e.name&&!!e.endTime&&!!e.status}function oD(t){return typeof t.getSpanJSON=="function"}function sD(t){const{traceFlags:e}=t.spanContext();return e===rD}function aD(t){if(!(!t||t.code===qR))return t.code===XR?"ok":t.message||"unknown_error"}const cD="_sentryRootSpan";function xv(t){return t[cD]||t}function uD(){mp||(Ur(()=>{console.warn("[Sentry] Deprecation warning: Returning null from `beforeSendSpan` will be disallowed from SDK version 9.0.0 onwards. The callback will only support mutating spans. To drop certain spans, configure the respective integrations directly.")}),mp=!0)}function lD(t){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const e=ae(),r=e&&e.getOptions();return!!r&&(r.enableTracing||"tracesSampleRate"in r||"tracesSampler"in r)}const Tl="production",fD="_frozenDsc";function Rv(t,e){const r=e.getOptions(),{publicKey:n}=e.getDsn()||{},i=Ge({environment:r.environment||Tl,release:r.release,public_key:n,trace_id:t});return e.emit("createDsc",i),i}function dD(t,e){const r=e.getPropagationContext();return r.dsc||Rv(r.traceId,t)}function pD(t){const e=ae();if(!e)return{};const r=xv(t),n=r[fD];if(n)return n;const i=r.spanContext().traceState,o=i&&i.get("sentry.dsc"),s=o&&eD(o);if(s)return s;const c=Rv(t.spanContext().traceId,e),u=Il(r),l=u.data||{},f=l[KR];f!=null&&(c.sample_rate="".concat(f));const d=l[JR],p=u.description;return d!=="url"&&p&&(c.transaction=p),lD()&&(c.sampled=String(sD(r))),e.emit("createDsc",c,r),c}function hD(t){if(typeof t=="boolean")return Number(t);const e=typeof t=="string"?parseFloat(t):t;if(typeof e!="number"||isNaN(e)||e<0||e>1){F&&w.warn("[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ".concat(JSON.stringify(t)," of type ").concat(JSON.stringify(typeof t),"."));return}return e}const gD=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function vD(t){return t==="http"||t==="https"}function ua(t,e=!1){const{host:r,path:n,pass:i,port:o,projectId:s,protocol:c,publicKey:u}=t;return"".concat(c,"://").concat(u).concat(e&&i?":".concat(i):"")+"@".concat(r).concat(o?":".concat(o):"","/").concat(n&&"".concat(n,"/")).concat(s)}function mD(t){const e=gD.exec(t);if(!e){Ur(()=>{console.error("Invalid Sentry Dsn: ".concat(t))});return}const[r,n,i="",o="",s="",c=""]=e.slice(1);let u="",l=c;const f=l.split("/");if(f.length>1&&(u=f.slice(0,-1).join("/"),l=f.pop()),l){const d=l.match(/^\d+/);d&&(l=d[0])}return Dv({host:o,pass:i,path:u,projectId:l,port:s,protocol:r,publicKey:n})}function Dv(t){return{protocol:t.protocol,publicKey:t.publicKey||"",pass:t.pass||"",host:t.host,port:t.port||"",path:t.path||"",projectId:t.projectId}}function yD(t){if(!Lr)return!0;const{port:e,projectId:r,protocol:n}=t;return["protocol","publicKey","host","projectId"].find(s=>t[s]?!1:(w.error("Invalid Sentry Dsn: ".concat(s," missing")),!0))?!1:r.match(/^\d+$/)?vD(n)?e&&isNaN(parseInt(e,10))?(w.error("Invalid Sentry Dsn: Invalid port ".concat(e)),!1):!0:(w.error("Invalid Sentry Dsn: Invalid protocol ".concat(n)),!1):(w.error("Invalid Sentry Dsn: Invalid projectId ".concat(r)),!1)}function bD(t){const e=typeof t=="string"?mD(t):Dv(t);if(!(!e||!yD(e)))return e}function SD(){const t=typeof WeakSet=="function",e=t?new WeakSet:[];function r(i){if(t)return e.has(i)?!0:(e.add(i),!1);for(let o=0;o<e.length;o++)if(e[o]===i)return!0;return e.push(i),!1}function n(i){if(t)e.delete(i);else for(let o=0;o<e.length;o++)if(e[o]===i){e.splice(o,1);break}}return[r,n]}function ht(t,e=100,r=1/0){try{return Zc("",t,e,r)}catch(n){return{ERROR:"**non-serializable** (".concat(n,")")}}}function Cv(t,e=3,r=100*1024){const n=ht(t,e);return $D(n)>r?Cv(t,e-1,r):n}function Zc(t,e,r=1/0,n=1/0,i=SD()){const[o,s]=i;if(e==null||["boolean","string"].includes(typeof e)||typeof e=="number"&&Number.isFinite(e))return e;const c=_D(t,e);if(!c.startsWith("[object "))return c;if(e.__sentry_skip_normalization__)return e;const u=typeof e.__sentry_override_normalization_depth__=="number"?e.__sentry_override_normalization_depth__:r;if(u===0)return c.replace("object ","");if(o(e))return"[Circular ~]";const l=e;if(l&&typeof l.toJSON=="function")try{const h=l.toJSON();return Zc("",h,u-1,n,i)}catch{}const f=Array.isArray(e)?[]:{};let d=0;const p=Tv(e);for(const h in p){if(!Object.prototype.hasOwnProperty.call(p,h))continue;if(d>=n){f[h]="[MaxProperties ~]";break}const y=p[h];f[h]=Zc(h,y,u-1,n,i),d++}return s(e),f}function _D(t,e){try{if(t==="domain"&&e&&typeof e=="object"&&e._events)return"[Domain]";if(t==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&e===global)return"[Global]";if(typeof window<"u"&&e===window)return"[Window]";if(typeof document<"u"&&e===document)return"[Document]";if($v(e))return"[VueViewModel]";if(_R(e))return"[SyntheticEvent]";if(typeof e=="number"&&!Number.isFinite(e))return"[".concat(e,"]");if(typeof e=="function")return"[Function: ".concat(rr(e),"]");if(typeof e=="symbol")return"[".concat(String(e),"]");if(typeof e=="bigint")return"[BigInt: ".concat(String(e),"]");const r=ED(e);return/^HTML(\w*)Element$/.test(r)?"[HTMLElement: ".concat(r,"]"):"[object ".concat(r,"]")}catch(r){return"**non-serializable** (".concat(r,")")}}function ED(t){const e=Object.getPrototypeOf(t);return e?e.constructor.name:"null prototype"}function wD(t){return~-encodeURI(t).split(/%..|./).length}function $D(t){return wD(JSON.stringify(t))}function co(t,e=[]){return[t,e]}function kD(t,e){const[r,n]=t;return[r,[...n,e]]}function Sp(t,e){const r=t[1];for(const n of r){const i=n[0].type;if(e(n,i))return!0}return!1}function Qc(t){return C.__SENTRY__&&C.__SENTRY__.encodePolyfill?C.__SENTRY__.encodePolyfill(t):new TextEncoder().encode(t)}function ID(t){const[e,r]=t;let n=JSON.stringify(e);function i(o){typeof n=="string"?n=typeof o=="string"?n+o:[Qc(n),o]:n.push(typeof o=="string"?Qc(o):o)}for(const o of r){const[s,c]=o;if(i("\n".concat(JSON.stringify(s),"\n")),typeof c=="string"||c instanceof Uint8Array)i(c);else{let u;try{u=JSON.stringify(c)}catch{u=JSON.stringify(ht(c))}i(u)}}return typeof n=="string"?n:TD(n)}function TD(t){const e=t.reduce((i,o)=>i+o.length,0),r=new Uint8Array(e);let n=0;for(const i of t)r.set(i,n),n+=i.length;return r}function OD(t){const e=typeof t.data=="string"?Qc(t.data):t.data;return[Ge({type:"attachment",length:e.length,filename:t.filename,content_type:t.contentType,attachment_type:t.attachmentType}),e]}const PD={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket",raw_security:"security"};function _p(t){return PD[t]}function Av(t){if(!t||!t.sdk)return;const{name:e,version:r}=t.sdk;return{name:e,version:r}}function xD(t,e,r,n){const i=t.sdkProcessingMetadata&&t.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:t.event_id,sent_at:new Date().toISOString(),...e&&{sdk:e},...!!r&&n&&{dsn:ua(n)},...i&&{trace:Ge({...i})}}}function RD(t,e){return e&&(t.sdk=t.sdk||{},t.sdk.name=t.sdk.name||e.name,t.sdk.version=t.sdk.version||e.version,t.sdk.integrations=[...t.sdk.integrations||[],...e.integrations||[]],t.sdk.packages=[...t.sdk.packages||[],...e.packages||[]]),t}function DD(t,e,r,n){const i=Av(r),o={sent_at:new Date().toISOString(),...i&&{sdk:i},...!!n&&e&&{dsn:ua(e)}},s="aggregates"in t?[{type:"sessions"},t]:[{type:"session"},t.toJSON()];return co(o,[s])}function CD(t,e,r,n){const i=Av(r),o=t.type&&t.type!=="replay_event"?t.type:"event";RD(t,r&&r.sdk);const s=xD(t,i,n,e);return delete t.sdkProcessingMetadata,co(s,[[{type:o},t]])}function eu(t,e,r,n=0){return new Be((i,o)=>{const s=t[n];if(e===null||typeof s!="function")i(e);else{const c=s({...e},r);F&&s.id&&c===null&&w.log('Event processor "'.concat(s.id,'" dropped event')),sa(c)?c.then(u=>eu(t,u,r,n+1).then(i)).then(null,o):eu(t,c,r,n+1).then(i).then(null,o)}})}let jo,Ep,Mo;function AD(t){const e=C._sentryDebugIds;if(!e)return{};const r=Object.keys(e);return Mo&&r.length===Ep||(Ep=r.length,Mo=r.reduce((n,i)=>{jo||(jo={});const o=jo[i];if(o)n[o[0]]=o[1];else{const s=t(i);for(let c=s.length-1;c>=0;c--){const u=s[c],l=u&&u.filename,f=e[i];if(l&&f){n[l]=f,jo[i]=[l,f];break}}}return n},{})),Mo}function ND(t,e){const{fingerprint:r,span:n,breadcrumbs:i,sdkProcessingMetadata:o}=e;jD(t,e),n&&LD(t,n),UD(t,r),MD(t,i),FD(t,o)}function wp(t,e){const{extra:r,tags:n,user:i,contexts:o,level:s,sdkProcessingMetadata:c,breadcrumbs:u,fingerprint:l,eventProcessors:f,attachments:d,propagationContext:p,transactionName:h,span:y}=e;Fo(t,"extra",r),Fo(t,"tags",n),Fo(t,"user",i),Fo(t,"contexts",o),t.sdkProcessingMetadata=ca(t.sdkProcessingMetadata,c,2),s&&(t.level=s),h&&(t.transactionName=h),y&&(t.span=y),u.length&&(t.breadcrumbs=[...t.breadcrumbs,...u]),l.length&&(t.fingerprint=[...t.fingerprint,...l]),f.length&&(t.eventProcessors=[...t.eventProcessors,...f]),d.length&&(t.attachments=[...t.attachments,...d]),t.propagationContext={...t.propagationContext,...p}}function Fo(t,e,r){t[e]=ca(t[e],r,1)}function jD(t,e){const{extra:r,tags:n,user:i,contexts:o,level:s,transactionName:c}=e,u=Ge(r);u&&Object.keys(u).length&&(t.extra={...u,...t.extra});const l=Ge(n);l&&Object.keys(l).length&&(t.tags={...l,...t.tags});const f=Ge(i);f&&Object.keys(f).length&&(t.user={...f,...t.user});const d=Ge(o);d&&Object.keys(d).length&&(t.contexts={...d,...t.contexts}),s&&(t.level=s),c&&t.type!=="transaction"&&(t.transaction=c)}function MD(t,e){const r=[...t.breadcrumbs||[],...e];t.breadcrumbs=r.length?r:void 0}function FD(t,e){t.sdkProcessingMetadata={...t.sdkProcessingMetadata,...e}}function LD(t,e){t.contexts={trace:nD(e),...t.contexts},t.sdkProcessingMetadata={dynamicSamplingContext:pD(e),...t.sdkProcessingMetadata};const r=xv(e),n=Il(r).description;n&&!t.transaction&&t.type==="transaction"&&(t.transaction=n)}function UD(t,e){t.fingerprint=t.fingerprint?Array.isArray(t.fingerprint)?t.fingerprint:[t.fingerprint]:[],e&&(t.fingerprint=t.fingerprint.concat(e)),t.fingerprint&&!t.fingerprint.length&&delete t.fingerprint}function BD(t,e,r,n,i,o){const{normalizeDepth:s=3,normalizeMaxBreadth:c=1e3}=t,u={...e,event_id:e.event_id||r.event_id||We(),timestamp:e.timestamp||so()},l=r.integrations||t.integrations.map(k=>k.name);zD(u,t),HD(u,l),i&&i.emit("applyFrameMetadata",e),e.type===void 0&&GD(u,t.stackParser);const f=KD(n,r.captureContext);r.mechanism&&jn(u,r.mechanism);const d=i?i.getEventProcessors():[],p=BR().getScopeData();if(o){const k=o.getScopeData();wp(p,k)}if(f){const k=f.getScopeData();wp(p,k)}const h=[...r.attachments||[],...p.attachments];h.length&&(r.attachments=h),ND(u,p);const y=[...d,...p.eventProcessors];return eu(y,u,r).then(k=>(k&&WD(k),typeof s=="number"&&s>0?JD(k,s,c):k))}function zD(t,e){const{environment:r,release:n,dist:i,maxValueLength:o=250}=e;t.environment=t.environment||r||Tl,!t.release&&n&&(t.release=n),!t.dist&&i&&(t.dist=i),t.message&&(t.message=Qr(t.message,o));const s=t.exception&&t.exception.values&&t.exception.values[0];s&&s.value&&(s.value=Qr(s.value,o));const c=t.request;c&&c.url&&(c.url=Qr(c.url,o))}function GD(t,e){const r=AD(e);try{t.exception.values.forEach(n=>{n.stacktrace.frames.forEach(i=>{r&&i.filename&&(i.debug_id=r[i.filename])})})}catch{}}function WD(t){const e={};try{t.exception.values.forEach(n=>{n.stacktrace.frames.forEach(i=>{i.debug_id&&(i.abs_path?e[i.abs_path]=i.debug_id:i.filename&&(e[i.filename]=i.debug_id),delete i.debug_id)})})}catch{}if(Object.keys(e).length===0)return;t.debug_meta=t.debug_meta||{},t.debug_meta.images=t.debug_meta.images||[];const r=t.debug_meta.images;Object.entries(e).forEach(([n,i])=>{r.push({type:"sourcemap",code_file:n,debug_id:i})})}function HD(t,e){e.length>0&&(t.sdk=t.sdk||{},t.sdk.integrations=[...t.sdk.integrations||[],...e])}function JD(t,e,r){if(!t)return null;const n={...t,...t.breadcrumbs&&{breadcrumbs:t.breadcrumbs.map(i=>({...i,...i.data&&{data:ht(i.data,e,r)}}))},...t.user&&{user:ht(t.user,e,r)},...t.contexts&&{contexts:ht(t.contexts,e,r)},...t.extra&&{extra:ht(t.extra,e,r)}};return t.contexts&&t.contexts.trace&&n.contexts&&(n.contexts.trace=t.contexts.trace,t.contexts.trace.data&&(n.contexts.trace.data=ht(t.contexts.trace.data,e,r))),t.spans&&(n.spans=t.spans.map(i=>({...i,...i.data&&{data:ht(i.data,e,r)}}))),t.contexts&&t.contexts.flags&&n.contexts&&(n.contexts.flags=ht(t.contexts.flags,3,r)),n}function KD(t,e){if(!e)return t;const r=t?t.clone():new Cr;return r.update(e),r}function VD(t,e){return Dt().captureException(t,void 0)}function Ol(t,e){return Dt().captureEvent(t,e)}function $p(t){const e=ae(),r=ao(),n=Dt(),{release:i,environment:o=Tl}=e&&e.getOptions()||{},{userAgent:s}=C.navigator||{},c=RR({release:i,environment:o,user:n.getUser()||r.getUser(),...s&&{userAgent:s},...t}),u=r.getSession();return u&&u.status==="ok"&&Mn(u,{status:"exited"}),Nv(),r.setSession(c),n.setSession(c),c}function Nv(){const t=ao(),e=Dt(),r=e.getSession()||t.getSession();r&&DR(r),jv(),t.setSession(),e.setSession()}function jv(){const t=ao(),e=Dt(),r=ae(),n=e.getSession()||t.getSession();n&&r&&r.captureSession(n)}function kp(t=!1){if(t){Nv();return}jv()}const YD="7";function qD(t){const e=t.protocol?"".concat(t.protocol,":"):"",r=t.port?":".concat(t.port):"";return"".concat(e,"//").concat(t.host).concat(r).concat(t.path?"/".concat(t.path):"","/api/")}function XD(t){return"".concat(qD(t)).concat(t.projectId,"/envelope/")}function ZD(t,e){const r={sentry_version:YD};return t.publicKey&&(r.sentry_key=t.publicKey),e&&(r.sentry_client="".concat(e.name,"/").concat(e.version)),new URLSearchParams(r).toString()}function QD(t,e,r){return e||"".concat(XD(t),"?").concat(ZD(t,r))}const Ip=[];function eC(t){const e={};return t.forEach(r=>{const{name:n}=r,i=e[n];i&&!i.isDefaultInstance&&r.isDefaultInstance||(e[n]=r)}),Object.values(e)}function tC(t){const e=t.defaultIntegrations||[],r=t.integrations;e.forEach(s=>{s.isDefaultInstance=!0});let n;if(Array.isArray(r))n=[...e,...r];else if(typeof r=="function"){const s=r(e);n=Array.isArray(s)?s:[s]}else n=e;const i=eC(n),o=i.findIndex(s=>s.name==="Debug");if(o>-1){const[s]=i.splice(o,1);i.push(s)}return i}function rC(t,e){const r={};return e.forEach(n=>{n&&Mv(t,n,r)}),r}function Tp(t,e){for(const r of e)r&&r.afterAllSetup&&r.afterAllSetup(t)}function Mv(t,e,r){if(r[e.name]){F&&w.log("Integration skipped because it was already installed: ".concat(e.name));return}if(r[e.name]=e,Ip.indexOf(e.name)===-1&&typeof e.setupOnce=="function"&&(e.setupOnce(),Ip.push(e.name)),e.setup&&typeof e.setup=="function"&&e.setup(t),typeof e.preprocessEvent=="function"){const n=e.preprocessEvent.bind(e);t.on("preprocessEvent",(i,o)=>n(i,o,t))}if(typeof e.processEvent=="function"){const n=e.processEvent.bind(e),i=Object.assign((o,s)=>n(o,s,t),{id:e.name});t.addEventProcessor(i)}F&&w.log("Integration installed: ".concat(e.name))}function nC(t,e,r){const n=[{type:"client_report"},{timestamp:so(),discarded_events:t}];return co(e?{dsn:e}:{},[n])}class ct extends Error{constructor(e,r="warn"){super(e),this.message=e,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=r}}const Op="Not capturing exception because it's already been captured.";class iC{constructor(e){if(this._options=e,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],e.dsn?this._dsn=bD(e.dsn):F&&w.warn("No DSN provided, client will not send events."),this._dsn){const i=QD(this._dsn,e.tunnel,e._metadata?e._metadata.sdk:void 0);this._transport=e.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...e.transportOptions,url:i})}const n=["enableTracing","tracesSampleRate","tracesSampler"].find(i=>i in e&&e[i]==null);n&&Ur(()=>{console.warn("[Sentry] Deprecation warning: `".concat(n,"` is set to undefined, which leads to tracing being enabled. In v9, a value of `undefined` will result in tracing being disabled."))})}captureException(e,r,n){const i=We();if(fp(e))return F&&w.log(Op),i;const o={event_id:i,...r};return this._process(this.eventFromException(e,o).then(s=>this._captureEvent(s,o,n))),o.event_id}captureMessage(e,r,n,i){const o={event_id:We(),...n},s=Sl(e)?e:String(e),c=_l(e)?this.eventFromMessage(s,r,o):this.eventFromException(e,o);return this._process(c.then(u=>this._captureEvent(u,o,i))),o.event_id}captureEvent(e,r,n){const i=We();if(r&&r.originalException&&fp(r.originalException))return F&&w.log(Op),i;const o={event_id:i,...r},c=(e.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(e,o,c||n)),o.event_id}captureSession(e){typeof e.release!="string"?F&&w.warn("Discarded session because of missing or non-string release"):(this.sendSession(e),Mn(e,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(e){const r=this._transport;return r?(this.emit("flush"),this._isClientDoneProcessing(e).then(n=>r.flush(e).then(i=>n&&i))):Dr(!0)}close(e){return this.flush(e).then(r=>(this.getOptions().enabled=!1,this.emit("close"),r))}getEventProcessors(){return this._eventProcessors}addEventProcessor(e){this._eventProcessors.push(e)}init(){(this._isEnabled()||this._options.integrations.some(({name:e})=>e.startsWith("Spotlight")))&&this._setupIntegrations()}getIntegrationByName(e){return this._integrations[e]}addIntegration(e){const r=this._integrations[e.name];Mv(this,e,this._integrations),r||Tp(this,[e])}sendEvent(e,r={}){this.emit("beforeSendEvent",e,r);let n=CD(e,this._dsn,this._options._metadata,this._options.tunnel);for(const o of r.attachments||[])n=kD(n,OD(o));const i=this.sendEnvelope(n);i&&i.then(o=>this.emit("afterSendEvent",e,o),null)}sendSession(e){const r=DD(e,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(r)}recordDroppedEvent(e,r,n){if(this._options.sendClientReports){const i=typeof n=="number"?n:1,o="".concat(e,":").concat(r);F&&w.log('Recording outcome: "'.concat(o,'"').concat(i>1?" (".concat(i," times)"):"")),this._outcomes[o]=(this._outcomes[o]||0)+i}}on(e,r){const n=this._hooks[e]=this._hooks[e]||[];return n.push(r),()=>{const i=n.indexOf(r);i>-1&&n.splice(i,1)}}emit(e,...r){const n=this._hooks[e];n&&n.forEach(i=>i(...r))}sendEnvelope(e){return this.emit("beforeEnvelope",e),this._isEnabled()&&this._transport?this._transport.send(e).then(null,r=>(F&&w.error("Error while sending envelope:",r),r)):(F&&w.error("Transport disabled"),Dr({}))}_setupIntegrations(){const{integrations:e}=this._options;this._integrations=rC(this,e),Tp(this,e)}_updateSessionFromEvent(e,r){let n=!1,i=!1;const o=r.exception&&r.exception.values;if(o){i=!0;for(const u of o){const l=u.mechanism;if(l&&l.handled===!1){n=!0;break}}}const s=e.status==="ok";(s&&e.errors===0||s&&n)&&(Mn(e,{...n&&{status:"crashed"},errors:e.errors||Number(i||n)}),this.captureSession(e))}_isClientDoneProcessing(e){return new Be(r=>{let n=0;const i=1,o=setInterval(()=>{this._numProcessing==0?(clearInterval(o),r(!0)):(n+=i,e&&n>=e&&(clearInterval(o),r(!1)))},i)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(e,r,n=Dt(),i=ao()){const o=this.getOptions(),s=Object.keys(this._integrations);return!r.integrations&&s.length>0&&(r.integrations=s),this.emit("preprocessEvent",e,r),e.type||i.setLastEventId(e.event_id||r.event_id),BD(o,e,r,n,this,i).then(c=>{if(c===null)return c;c.contexts={trace:GR(n),...c.contexts};const u=dD(this,n);return c.sdkProcessingMetadata={dynamicSamplingContext:u,...c.sdkProcessingMetadata},c})}_captureEvent(e,r={},n){return this._processEvent(e,r,n).then(i=>i.event_id,i=>{if(F){const o=i;o.logLevel==="log"?w.log(o.message):w.warn(o)}})}_processEvent(e,r,n){const i=this.getOptions(),{sampleRate:o}=i,s=Lv(e),c=Fv(e),u=e.type||"error",l="before send for type `".concat(u,"`"),f=typeof o>"u"?void 0:hD(o);if(c&&typeof f=="number"&&Math.random()>f)return this.recordDroppedEvent("sample_rate","error",e),Es(new ct("Discarding event because it's not included in the random sample (sampling rate = ".concat(o,")"),"log"));const d=u==="replay_event"?"replay":u,h=(e.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(e,r,n,h).then(y=>{if(y===null)throw this.recordDroppedEvent("event_processor",d,e),new ct("An event processor returned `null`, will not send event.","log");if(r.data&&r.data.__sentry__===!0)return y;const k=sC(this,i,y,r);return oC(k,l)}).then(y=>{if(y===null){if(this.recordDroppedEvent("before_send",d,e),s){const O=1+(e.spans||[]).length;this.recordDroppedEvent("before_send","span",O)}throw new ct("".concat(l," returned `null`, will not send event."),"log")}const _=n&&n.getSession();if(!s&&_&&this._updateSessionFromEvent(_,y),s){const I=y.sdkProcessingMetadata&&y.sdkProcessingMetadata.spanCountBeforeProcessing||0,O=y.spans?y.spans.length:0,Q=I-O;Q>0&&this.recordDroppedEvent("before_send","span",Q)}const k=y.transaction_info;if(s&&k&&y.transaction!==e.transaction){const I="custom";y.transaction_info={...k,source:I}}return this.sendEvent(y,r),y}).then(null,y=>{throw y instanceof ct?y:(this.captureException(y,{data:{__sentry__:!0},originalException:y}),new ct("Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: ".concat(y)))})}_process(e){this._numProcessing++,e.then(r=>(this._numProcessing--,r),r=>(this._numProcessing--,r))}_clearOutcomes(){const e=this._outcomes;return this._outcomes={},Object.entries(e).map(([r,n])=>{const[i,o]=r.split(":");return{reason:i,category:o,quantity:n}})}_flushOutcomes(){F&&w.log("Flushing outcomes...");const e=this._clearOutcomes();if(e.length===0){F&&w.log("No outcomes to send");return}if(!this._dsn){F&&w.log("No dsn provided, will not send outcomes");return}F&&w.log("Sending outcomes:",e);const r=nC(e,this._options.tunnel&&ua(this._dsn));this.sendEnvelope(r)}}function oC(t,e){const r="".concat(e," must return `null` or a valid event.");if(sa(t))return t.then(n=>{if(!Nn(n)&&n!==null)throw new ct(r);return n},n=>{throw new ct("".concat(e," rejected with ").concat(n))});if(!Nn(t)&&t!==null)throw new ct(r);return t}function sC(t,e,r,n){const{beforeSend:i,beforeSendTransaction:o,beforeSendSpan:s}=e;if(Fv(r)&&i)return i(r,n);if(Lv(r)){if(r.spans&&s){const c=[];for(const u of r.spans){const l=s(u);l?c.push(l):(uD(),t.recordDroppedEvent("before_send","span"))}r.spans=c}if(o){if(r.spans){const c=r.spans.length;r.sdkProcessingMetadata={...r.sdkProcessingMetadata,spanCountBeforeProcessing:c}}return o(r,n)}}return r}function Fv(t){return t.type===void 0}function Lv(t){return t.type==="transaction"}function aC(t,e){e.debug===!0&&(F?w.enable():Ur(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})),Dt().update(e.initialScope);const n=new t(e);return cC(n),n.init(),n}function cC(t){Dt().setClient(t)}function uC(t){const e=[];function r(){return t===void 0||e.length<t}function n(s){return e.splice(e.indexOf(s),1)[0]||Promise.resolve(void 0)}function i(s){if(!r())return Es(new ct("Not adding Promise because buffer limit was reached."));const c=s();return e.indexOf(c)===-1&&e.push(c),c.then(()=>n(c)).then(null,()=>n(c).then(null,()=>{})),c}function o(s){return new Be((c,u)=>{let l=e.length;if(!l)return c(!0);const f=setTimeout(()=>{s&&s>0&&c(!1)},s);e.forEach(d=>{Dr(d).then(()=>{--l||(clearTimeout(f),c(!0))},u)})})}return{$:e,add:i,drain:o}}const lC=60*1e3;function fC(t,e=Date.now()){const r=parseInt("".concat(t),10);if(!isNaN(r))return r*1e3;const n=Date.parse("".concat(t));return isNaN(n)?lC:n-e}function dC(t,e){return t[e]||t.all||0}function pC(t,e,r=Date.now()){return dC(t,e)>r}function hC(t,{statusCode:e,headers:r},n=Date.now()){const i={...t},o=r&&r["x-sentry-rate-limits"],s=r&&r["retry-after"];if(o)for(const c of o.trim().split(",")){const[u,l,,,f]=c.split(":",5),d=parseInt(u,10),p=(isNaN(d)?60:d)*1e3;if(!l)i.all=n+p;else for(const h of l.split(";"))h==="metric_bucket"?(!f||f.split(";").includes("custom"))&&(i[h]=n+p):i[h]=n+p}else s?i.all=n+fC(s,n):e===429&&(i.all=n+60*1e3);return i}const gC=64;function vC(t,e,r=uC(t.bufferSize||gC)){let n={};const i=s=>r.drain(s);function o(s){const c=[];if(Sp(s,(d,p)=>{const h=_p(p);if(pC(n,h)){const y=Pp(d,p);t.recordDroppedEvent("ratelimit_backoff",h,y)}else c.push(d)}),c.length===0)return Dr({});const u=co(s[0],c),l=d=>{Sp(u,(p,h)=>{const y=Pp(p,h);t.recordDroppedEvent(d,_p(h),y)})},f=()=>e({body:ID(u)}).then(d=>(d.statusCode!==void 0&&(d.statusCode<200||d.statusCode>=300)&&F&&w.warn("Sentry responded with status code ".concat(d.statusCode," to sent event.")),n=hC(n,d),d),d=>{throw l("network_error"),d});return r.add(f).then(d=>d,d=>{if(d instanceof ct)return F&&w.error("Skipped sending event because buffer is full."),l("queue_overflow"),Dr({});throw d})}return{send:o,flush:i}}function Pp(t,e){if(!(e!=="event"&&e!=="transaction"))return Array.isArray(t)?t[1]:void 0}function mC(t,e,r=[e],n="npm"){const i=t._metadata||{};i.sdk||(i.sdk={name:"sentry.javascript.".concat(e),packages:r.map(o=>({name:"".concat(n,":@sentry/").concat(o),version:Ir})),version:Ir}),t._metadata=i}const yC=100;function Ar(t,e){const r=ae(),n=ao();if(!r)return;const{beforeBreadcrumb:i=null,maxBreadcrumbs:o=yC}=r.getOptions();if(o<=0)return;const c={timestamp:so(),...t},u=i?Ur(()=>i(c,e)):c;u!==null&&(r.emit&&r.emit("beforeAddBreadcrumb",u,e),n.addBreadcrumb(u,o))}let xp;const bC="FunctionToString",Rp=new WeakMap,SC=()=>({name:bC,setupOnce(){xp=Function.prototype.toString;try{Function.prototype.toString=function(...t){const e=wl(this),r=Rp.has(ae())&&e!==void 0?e:this;return xp.apply(r,t)}}catch{}},setup(t){Rp.set(t,!0)}}),_C=SC,EC=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,"undefined is not an object (evaluating 'a.L')",'can\'t redefine non-configurable property "solana"',"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler",/^Non-Error promise rejection captured with value: Object Not Found Matching Id:\d+, MethodName:simulateEvent, ParamCount:\d+$/],wC="InboundFilters",$C=(t={})=>({name:wC,processEvent(e,r,n){const i=n.getOptions(),o=IC(t,i);return TC(e,o)?null:e}}),kC=$C;function IC(t={},e={}){return{allowUrls:[...t.allowUrls||[],...e.allowUrls||[]],denyUrls:[...t.denyUrls||[],...e.denyUrls||[]],ignoreErrors:[...t.ignoreErrors||[],...e.ignoreErrors||[],...t.disableErrorDefaults?[]:EC],ignoreTransactions:[...t.ignoreTransactions||[],...e.ignoreTransactions||[]],ignoreInternal:t.ignoreInternal!==void 0?t.ignoreInternal:!0}}function TC(t,e){return e.ignoreInternal&&CC(t)?(F&&w.warn("Event dropped due to being internal Sentry Error.\nEvent: ".concat(jt(t))),!0):OC(t,e.ignoreErrors)?(F&&w.warn("Event dropped due to being matched by `ignoreErrors` option.\nEvent: ".concat(jt(t))),!0):NC(t)?(F&&w.warn("Event dropped due to not having an error message, error type or stacktrace.\nEvent: ".concat(jt(t))),!0):PC(t,e.ignoreTransactions)?(F&&w.warn("Event dropped due to being matched by `ignoreTransactions` option.\nEvent: ".concat(jt(t))),!0):xC(t,e.denyUrls)?(F&&w.warn("Event dropped due to being matched by `denyUrls` option.\nEvent: ".concat(jt(t),".\nUrl: ").concat(ws(t))),!0):RC(t,e.allowUrls)?!1:(F&&w.warn("Event dropped due to not being matched by `allowUrls` option.\nEvent: ".concat(jt(t),".\nUrl: ").concat(ws(t))),!0)}function OC(t,e){return t.type||!e||!e.length?!1:DC(t).some(r=>aa(r,e))}function PC(t,e){if(t.type!=="transaction"||!e||!e.length)return!1;const r=t.transaction;return r?aa(r,e):!1}function xC(t,e){if(!e||!e.length)return!1;const r=ws(t);return r?aa(r,e):!1}function RC(t,e){if(!e||!e.length)return!0;const r=ws(t);return r?aa(r,e):!0}function DC(t){const e=[];t.message&&e.push(t.message);let r;try{r=t.exception.values[t.exception.values.length-1]}catch{}return r&&r.value&&(e.push(r.value),r.type&&e.push("".concat(r.type,": ").concat(r.value))),e}function CC(t){try{return t.exception.values[0].type==="SentryError"}catch{}return!1}function AC(t=[]){for(let e=t.length-1;e>=0;e--){const r=t[e];if(r&&r.filename!=="<anonymous>"&&r.filename!=="[native code]")return r.filename||null}return null}function ws(t){try{let e;try{e=t.exception.values[0].stacktrace.frames}catch{}return e?AC(e):null}catch{return F&&w.error("Cannot extract url for event ".concat(jt(t))),null}}function NC(t){return t.type||!t.exception||!t.exception.values||t.exception.values.length===0?!1:!t.message&&!t.exception.values.some(e=>e.stacktrace||e.type&&e.type!=="Error"||e.value)}function jC(t,e,r=250,n,i,o,s){if(!o.exception||!o.exception.values||!s||!xr(s.originalException,Error))return;const c=o.exception.values.length>0?o.exception.values[o.exception.values.length-1]:void 0;c&&(o.exception.values=MC(tu(t,e,i,s.originalException,n,o.exception.values,c,0),r))}function tu(t,e,r,n,i,o,s,c){if(o.length>=r+1)return o;let u=[...o];if(xr(n[i],Error)){Dp(s,c);const l=t(e,n[i]),f=u.length;Cp(l,i,f,c),u=tu(t,e,r,n[i],i,[l,...u],l,f)}return Array.isArray(n.errors)&&n.errors.forEach((l,f)=>{if(xr(l,Error)){Dp(s,c);const d=t(e,l),p=u.length;Cp(d,"errors[".concat(f,"]"),p,c),u=tu(t,e,r,l,i,[d,...u],d,p)}}),u}function Dp(t,e){t.mechanism=t.mechanism||{type:"generic",handled:!0},t.mechanism={...t.mechanism,...t.type==="AggregateError"&&{is_exception_group:!0},exception_id:e}}function Cp(t,e,r,n){t.mechanism=t.mechanism||{type:"generic",handled:!0},t.mechanism={...t.mechanism,type:"chained",source:e,exception_id:r,parent_id:n}}function MC(t,e){return t.map(r=>(r.value&&(r.value=Qr(r.value,e)),r))}function uc(t){if(!t)return{};const e=t.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!e)return{};const r=e[6]||"",n=e[8]||"";return{host:e[4],path:e[5],protocol:e[2],search:r,hash:n,relative:e[5]+r+n}}function FC(t){const e="console";Br(e,t),zr(e,LC)}function LC(){"console"in C&&Kc.forEach(function(t){t in C.console&&De(C.console,t,function(e){return _s[t]=e,function(...r){tt("console",{args:r,level:t});const i=_s[t];i&&i.apply(C.console,r)}})})}function UC(t){return t==="warn"?"warning":["fatal","error","warning","log","info","debug"].includes(t)?t:"log"}const BC="Dedupe",zC=()=>{let t;return{name:BC,processEvent(e){if(e.type)return e;try{if(WC(e,t))return F&&w.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return t=e}}},GC=zC;function WC(t,e){return e?!!(HC(t,e)||JC(t,e)):!1}function HC(t,e){const r=t.message,n=e.message;return!(!r&&!n||r&&!n||!r&&n||r!==n||!Bv(t,e)||!Uv(t,e))}function JC(t,e){const r=Ap(e),n=Ap(t);return!(!r||!n||r.type!==n.type||r.value!==n.value||!Bv(t,e)||!Uv(t,e))}function Uv(t,e){let r=op(t),n=op(e);if(!r&&!n)return!0;if(r&&!n||!r&&n||(r=r,n=n,n.length!==r.length))return!1;for(let i=0;i<n.length;i++){const o=n[i],s=r[i];if(o.filename!==s.filename||o.lineno!==s.lineno||o.colno!==s.colno||o.function!==s.function)return!1}return!0}function Bv(t,e){let r=t.fingerprint,n=e.fingerprint;if(!r&&!n)return!0;if(r&&!n||!r&&n)return!1;r=r,n=n;try{return r.join("")===n.join("")}catch{return!1}}function Ap(t){return t.exception&&t.exception.values&&t.exception.values[0]}function zv(t){if(t!==void 0)return t>=400&&t<500?"warning":t>=500?"error":void 0}const ru=C;function Gv(){if(!("fetch"in ru))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}function nu(t){return t&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(t.toString())}function KC(){if(typeof EdgeRuntime=="string")return!0;if(!Gv())return!1;if(nu(ru.fetch))return!0;let t=!1;const e=ru.document;if(e&&typeof e.createElement=="function")try{const r=e.createElement("iframe");r.hidden=!0,e.head.appendChild(r),r.contentWindow&&r.contentWindow.fetch&&(t=nu(r.contentWindow.fetch)),e.head.removeChild(r)}catch(r){Lr&&w.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",r)}return t}function VC(t,e){const r="fetch";Br(r,t),zr(r,()=>YC(void 0,e))}function YC(t,e=!1){e&&!KC()||De(C,"fetch",function(r){return function(...n){const i=new Error,{method:o,url:s}=qC(n),c={args:n,fetchData:{method:o,url:s},startTimestamp:Ot()*1e3,virtualError:i};return tt("fetch",{...c}),r.apply(C,n).then(async u=>(tt("fetch",{...c,endTimestamp:Ot()*1e3,response:u}),u),u=>{throw tt("fetch",{...c,endTimestamp:Ot()*1e3,error:u}),bl(u)&&u.stack===void 0&&(u.stack=i.stack,Rr(u,"framesToPop",1)),u})}})}function iu(t,e){return!!t&&typeof t=="object"&&!!t[e]}function Np(t){return typeof t=="string"?t:t?iu(t,"url")?t.url:t.toString?t.toString():"":""}function qC(t){if(t.length===0)return{method:"GET",url:""};if(t.length===2){const[r,n]=t;return{url:Np(r),method:iu(n,"method")?String(n.method).toUpperCase():"GET"}}const e=t[0];return{url:Np(e),method:iu(e,"method")?String(e.method).toUpperCase():"GET"}}function XC(){return"npm"}const Lo=C;function ZC(){const t=Lo.chrome,e=t&&t.app&&t.app.runtime,r="history"in Lo&&!!Lo.history.pushState&&!!Lo.history.replaceState;return!e&&r}const L=C;let ou=0;function Wv(){return ou>0}function QC(){ou++,setTimeout(()=>{ou--})}function Ln(t,e={}){function r(i){return typeof i=="function"}if(!r(t))return t;try{const i=t.__sentry_wrapped__;if(i)return typeof i=="function"?i:t;if(wl(t))return t}catch{return t}const n=function(...i){try{const o=i.map(s=>Ln(s,e));return t.apply(this,o)}catch(o){throw QC(),zR(s=>{s.addEventProcessor(c=>(e.mechanism&&(Yc(c,void 0),jn(c,e.mechanism)),c.extra={...c.extra,arguments:i},c)),VD(o)}),o}};try{for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}catch{}Iv(n,t),Rr(t,"__sentry_wrapped__",n);try{Object.getOwnPropertyDescriptor(n,"name").configurable&&Object.defineProperty(n,"name",{get(){return t.name}})}catch{}return n}const uo=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function Pl(t,e){const r=xl(t,e),n={type:i0(e),value:o0(e)};return r.length&&(n.stacktrace={frames:r}),n.type===void 0&&n.value===""&&(n.value="Unrecoverable error caught"),n}function e0(t,e,r,n){const i=ae(),o=i&&i.getOptions().normalizeDepth,s=l0(e),c={__serialized__:Cv(e,o)};if(s)return{exception:{values:[Pl(t,s)]},extra:c};const u={exception:{values:[{type:oa(e)?e.constructor.name:n?"UnhandledRejection":"Error",value:c0(e,{isUnhandledRejection:n})}]},extra:c};if(r){const l=xl(t,r);l.length&&(u.exception.values[0].stacktrace={frames:l})}return u}function lc(t,e){return{exception:{values:[Pl(t,e)]}}}function xl(t,e){const r=e.stacktrace||e.stack||"",n=r0(e),i=n0(e);try{return t(r,n,i)}catch{}return[]}const t0=/Minified React error #\d+;/i;function r0(t){return t&&t0.test(t.message)?1:0}function n0(t){return typeof t.framesToPop=="number"?t.framesToPop:0}function Hv(t){return typeof WebAssembly<"u"&&typeof WebAssembly.Exception<"u"?t instanceof WebAssembly.Exception:!1}function i0(t){const e=t&&t.name;return!e&&Hv(t)?t.message&&Array.isArray(t.message)&&t.message.length==2?t.message[0]:"WebAssembly.Exception":e}function o0(t){const e=t&&t.message;return e?e.error&&typeof e.error.message=="string"?e.error.message:Hv(t)&&Array.isArray(t.message)&&t.message.length==2?t.message[1]:e:"No error message"}function s0(t,e,r,n){const i=r&&r.syntheticException||void 0,o=Rl(t,e,i,n);return jn(o),o.level="error",r&&r.event_id&&(o.event_id=r.event_id),Dr(o)}function a0(t,e,r="info",n,i){const o=n&&n.syntheticException||void 0,s=su(t,e,o,i);return s.level=r,n&&n.event_id&&(s.event_id=n.event_id),Dr(s)}function Rl(t,e,r,n,i){let o;if(wv(e)&&e.error)return lc(t,e.error);if(ap(e)||yR(e)){const s=e;if("stack"in e)o=lc(t,e);else{const c=s.name||(ap(s)?"DOMError":"DOMException"),u=s.message?"".concat(c,": ").concat(s.message):c;o=su(t,u,r,n),Yc(o,u)}return"code"in s&&(o.tags={...o.tags,"DOMException.code":"".concat(s.code)}),o}return bl(e)?lc(t,e):Nn(e)||oa(e)?(o=e0(t,e,r,i),jn(o,{synthetic:!0}),o):(o=su(t,e,r,n),Yc(o,"".concat(e)),jn(o,{synthetic:!0}),o)}function su(t,e,r,n){const i={};if(n&&r){const o=xl(t,r);o.length&&(i.exception={values:[{value:e,stacktrace:{frames:o}}]}),jn(i,{synthetic:!0})}if(Sl(e)){const{__sentry_template_string__:o,__sentry_template_values__:s}=e;return i.logentry={message:o,params:s},i}return i.message=e,i}function c0(t,{isUnhandledRejection:e}){const r=TR(t),n=e?"promise rejection":"exception";if(wv(t))return"Event `ErrorEvent` captured as ".concat(n," with message `").concat(t.message,"`");if(oa(t)){const i=u0(t);return"Event `".concat(i,"` (type=").concat(t.type,") captured as ").concat(n)}return"Object captured as ".concat(n," with keys: ").concat(r)}function u0(t){try{const e=Object.getPrototypeOf(t);return e?e.constructor.name:void 0}catch{}}function l0(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e)){const r=t[e];if(r instanceof Error)return r}}function f0(t,{metadata:e,tunnel:r,dsn:n}){const i={event_id:t.event_id,sent_at:new Date().toISOString(),...e&&e.sdk&&{sdk:{name:e.sdk.name,version:e.sdk.version}},...!!r&&!!n&&{dsn:ua(n)}},o=d0(t);return co(i,[o])}function d0(t){return[{type:"user_report"},t]}class p0 extends iC{constructor(e){const r={parentSpanIsAlwaysRootSpan:!0,...e},n=L.SENTRY_SDK_SOURCE||XC();mC(r,"browser",["browser"],n),super(r),r.sendClientReports&&L.document&&L.document.addEventListener("visibilitychange",()=>{L.document.visibilityState==="hidden"&&this._flushOutcomes()})}eventFromException(e,r){return s0(this._options.stackParser,e,r,this._options.attachStacktrace)}eventFromMessage(e,r="info",n){return a0(this._options.stackParser,e,r,n,this._options.attachStacktrace)}captureUserFeedback(e){if(!this._isEnabled()){uo&&w.warn("SDK not enabled, will not capture user feedback.");return}const r=f0(e,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this.sendEnvelope(r)}_prepareEvent(e,r,n){return e.platform=e.platform||"javascript",super._prepareEvent(e,r,n)}}const h0=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,ge=C,g0=1e3;let jp,au,cu;function v0(t){const e="dom";Br(e,t),zr(e,m0)}function m0(){if(!ge.document)return;const t=tt.bind(null,"dom"),e=Mp(t,!0);ge.document.addEventListener("click",e,!1),ge.document.addEventListener("keypress",e,!1),["EventTarget","Node"].forEach(r=>{const i=ge[r],o=i&&i.prototype;!o||!o.hasOwnProperty||!o.hasOwnProperty("addEventListener")||(De(o,"addEventListener",function(s){return function(c,u,l){if(c==="click"||c=="keypress")try{const f=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},d=f[c]=f[c]||{refCount:0};if(!d.handler){const p=Mp(t);d.handler=p,s.call(this,c,p,l)}d.refCount++}catch{}return s.call(this,c,u,l)}}),De(o,"removeEventListener",function(s){return function(c,u,l){if(c==="click"||c=="keypress")try{const f=this.__sentry_instrumentation_handlers__||{},d=f[c];d&&(d.refCount--,d.refCount<=0&&(s.call(this,c,d.handler,l),d.handler=void 0,delete f[c]),Object.keys(f).length===0&&delete this.__sentry_instrumentation_handlers__)}catch{}return s.call(this,c,u,l)}}))})}function y0(t){if(t.type!==au)return!1;try{if(!t.target||t.target._sentryId!==cu)return!1}catch{}return!0}function b0(t,e){return t!=="keypress"?!1:!e||!e.tagName?!0:!(e.tagName==="INPUT"||e.tagName==="TEXTAREA"||e.isContentEditable)}function Mp(t,e=!1){return r=>{if(!r||r._sentryCaptured)return;const n=S0(r);if(b0(r.type,n))return;Rr(r,"_sentryCaptured",!0),n&&!n._sentryId&&Rr(n,"_sentryId",We());const i=r.type==="keypress"?"input":r.type;y0(r)||(t({event:r,name:i,global:e}),au=r.type,cu=n?n._sentryId:void 0),clearTimeout(jp),jp=ge.setTimeout(()=>{cu=void 0,au=void 0},g0)}}function S0(t){try{return t.target}catch{return null}}let Uo;function Jv(t){const e="history";Br(e,t),zr(e,_0)}function _0(){if(!ZC())return;const t=ge.onpopstate;ge.onpopstate=function(...r){const n=ge.location.href,i=Uo;if(Uo=n,tt("history",{from:i,to:n}),t)try{return t.apply(this,r)}catch{}};function e(r){return function(...n){const i=n.length>2?n[2]:void 0;if(i){const o=Uo,s=String(i);Uo=s,tt("history",{from:o,to:s})}return r.apply(this,n)}}De(ge.history,"pushState",e),De(ge.history,"replaceState",e)}const Zo={};function E0(t){const e=Zo[t];if(e)return e;let r=ge[t];if(nu(r))return Zo[t]=r.bind(ge);const n=ge.document;if(n&&typeof n.createElement=="function")try{const i=n.createElement("iframe");i.hidden=!0,n.head.appendChild(i);const o=i.contentWindow;o&&o[t]&&(r=o[t]),n.head.removeChild(i)}catch(i){h0&&w.warn("Could not create sandbox iframe for ".concat(t," check, bailing to window.").concat(t,": "),i)}return r&&(Zo[t]=r.bind(ge))}function Fp(t){Zo[t]=void 0}const ri="__sentry_xhr_v3__";function w0(t){const e="xhr";Br(e,t),zr(e,$0)}function $0(){if(!ge.XMLHttpRequest)return;const t=XMLHttpRequest.prototype;t.open=new Proxy(t.open,{apply(e,r,n){const i=new Error,o=Ot()*1e3,s=Tt(n[0])?n[0].toUpperCase():void 0,c=k0(n[1]);if(!s||!c)return e.apply(r,n);r[ri]={method:s,url:c,request_headers:{}},s==="POST"&&c.match(/sentry_key/)&&(r.__sentry_own_request__=!0);const u=()=>{const l=r[ri];if(l&&r.readyState===4){try{l.status_code=r.status}catch{}const f={endTimestamp:Ot()*1e3,startTimestamp:o,xhr:r,virtualError:i};tt("xhr",f)}};return"onreadystatechange"in r&&typeof r.onreadystatechange=="function"?r.onreadystatechange=new Proxy(r.onreadystatechange,{apply(l,f,d){return u(),l.apply(f,d)}}):r.addEventListener("readystatechange",u),r.setRequestHeader=new Proxy(r.setRequestHeader,{apply(l,f,d){const[p,h]=d,y=f[ri];return y&&Tt(p)&&Tt(h)&&(y.request_headers[p.toLowerCase()]=h),l.apply(f,d)}}),e.apply(r,n)}}),t.send=new Proxy(t.send,{apply(e,r,n){const i=r[ri];if(!i)return e.apply(r,n);n[0]!==void 0&&(i.body=n[0]);const o={startTimestamp:Ot()*1e3,xhr:r};return tt("xhr",o),e.apply(r,n)}})}function k0(t){if(Tt(t))return t;try{return t.toString()}catch{}}function I0(t,e=E0("fetch")){let r=0,n=0;function i(o){const s=o.body.length;r+=s,n++;const c={body:o.body,method:"POST",referrerPolicy:"origin",headers:t.headers,keepalive:r<=6e4&&n<15,...t.fetchOptions};if(!e)return Fp("fetch"),Es("No fetch implementation available");try{return e(t.url,c).then(u=>(r-=s,n--,{statusCode:u.status,headers:{"x-sentry-rate-limits":u.headers.get("X-Sentry-Rate-Limits"),"retry-after":u.headers.get("Retry-After")}}))}catch(u){return Fp("fetch"),r-=s,n--,Es(u)}}return vC(t,i)}const T0=30,O0=50;function uu(t,e,r,n){const i={filename:t,function:e==="<anonymous>"?Pr:e,in_app:!0};return r!==void 0&&(i.lineno=r),n!==void 0&&(i.colno=n),i}const P0=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,x0=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,R0=/\((\S*)(?::(\d+))(?::(\d+))\)/,D0=t=>{const e=P0.exec(t);if(e){const[,n,i,o]=e;return uu(n,Pr,+i,+o)}const r=x0.exec(t);if(r){if(r[2]&&r[2].indexOf("eval")===0){const s=R0.exec(r[2]);s&&(r[2]=s[1],r[3]=s[2],r[4]=s[3])}const[i,o]=Vv(r[1]||Pr,r[2]);return uu(o,i,r[3]?+r[3]:void 0,r[4]?+r[4]:void 0)}},C0=[T0,D0],A0=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,N0=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,j0=t=>{const e=A0.exec(t);if(e){if(e[3]&&e[3].indexOf(" > eval")>-1){const o=N0.exec(e[3]);o&&(e[1]=e[1]||"eval",e[3]=o[1],e[4]=o[2],e[5]="")}let n=e[3],i=e[1]||Pr;return[i,n]=Vv(i,n),uu(n,i,e[4]?+e[4]:void 0,e[5]?+e[5]:void 0)}},M0=[O0,j0],F0=[C0,M0],Kv=_v(...F0),Vv=(t,e)=>{const r=t.indexOf("safari-extension")!==-1,n=t.indexOf("safari-web-extension")!==-1;return r||n?[t.indexOf("@")!==-1?t.split("@")[0]:Pr,r?"safari-extension:".concat(e):"safari-web-extension:".concat(e)]:[t,e]},Bo=1024,L0="Breadcrumbs",U0=(t={})=>{const e={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...t};return{name:L0,setup(r){e.console&&FC(W0(r)),e.dom&&v0(G0(r,e.dom)),e.xhr&&w0(H0(r)),e.fetch&&VC(J0(r)),e.history&&Jv(K0(r)),e.sentry&&r.on("beforeSendEvent",z0(r))}}},B0=U0;function z0(t){return function(r){ae()===t&&Ar({category:"sentry.".concat(r.type==="transaction"?"transaction":"event"),event_id:r.event_id,level:r.level,message:jt(r)},{event:r})}}function G0(t,e){return function(n){if(ae()!==t)return;let i,o,s=typeof e=="object"?e.serializeAttribute:void 0,c=typeof e=="object"&&typeof e.maxStringLength=="number"?e.maxStringLength:void 0;c&&c>Bo&&(uo&&w.warn("`dom.maxStringLength` cannot exceed ".concat(Bo,", but a value of ").concat(c," was configured. Sentry will use ").concat(Bo," instead.")),c=Bo),typeof s=="string"&&(s=[s]);try{const l=n.event,f=V0(l)?l.target:l;i=kv(f,{keyAttrs:s,maxStringLength:c}),o=kR(f)}catch{i="<unknown>"}if(i.length===0)return;const u={category:"ui.".concat(n.name),message:i};o&&(u.data={"ui.component_name":o}),Ar(u,{event:n.event,name:n.name,global:n.global})}}function W0(t){return function(r){if(ae()!==t)return;const n={category:"console",data:{arguments:r.args,logger:"console"},level:UC(r.level),message:cp(r.args," ")};if(r.level==="assert")if(r.args[0]===!1)n.message="Assertion failed: ".concat(cp(r.args.slice(1)," ")||"console.assert"),n.data.arguments=r.args.slice(1);else return;Ar(n,{input:r.args,level:r.level})}}function H0(t){return function(r){if(ae()!==t)return;const{startTimestamp:n,endTimestamp:i}=r,o=r.xhr[ri];if(!n||!i||!o)return;const{method:s,url:c,status_code:u,body:l}=o,f={method:s,url:c,status_code:u},d={xhr:r.xhr,input:l,startTimestamp:n,endTimestamp:i},p=zv(u);Ar({category:"xhr",data:f,type:"http",level:p},d)}}function J0(t){return function(r){if(ae()!==t)return;const{startTimestamp:n,endTimestamp:i}=r;if(i&&!(r.fetchData.url.match(/sentry_key/)&&r.fetchData.method==="POST"))if(r.error){const o=r.fetchData,s={data:r.error,input:r.args,startTimestamp:n,endTimestamp:i};Ar({category:"fetch",data:o,level:"error",type:"http"},s)}else{const o=r.response,s={...r.fetchData,status_code:o&&o.status},c={input:r.args,response:o,startTimestamp:n,endTimestamp:i},u=zv(s.status_code);Ar({category:"fetch",data:s,type:"http",level:u},c)}}}function K0(t){return function(r){if(ae()!==t)return;let n=r.from,i=r.to;const o=uc(L.location.href);let s=n?uc(n):void 0;const c=uc(i);(!s||!s.path)&&(s=o),o.protocol===c.protocol&&o.host===c.host&&(i=c.relative),o.protocol===s.protocol&&o.host===s.host&&(n=s.relative),Ar({category:"navigation",data:{from:n,to:i}})}}function V0(t){return!!t&&!!t.target}const Y0=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],q0="BrowserApiErrors",X0=(t={})=>{const e={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...t};return{name:q0,setupOnce(){e.setTimeout&&De(L,"setTimeout",Lp),e.setInterval&&De(L,"setInterval",Lp),e.requestAnimationFrame&&De(L,"requestAnimationFrame",Q0),e.XMLHttpRequest&&"XMLHttpRequest"in L&&De(XMLHttpRequest.prototype,"send",eA);const r=e.eventTarget;r&&(Array.isArray(r)?r:Y0).forEach(tA)}}},Z0=X0;function Lp(t){return function(...e){const r=e[0];return e[0]=Ln(r,{mechanism:{data:{function:rr(t)},handled:!1,type:"instrument"}}),t.apply(this,e)}}function Q0(t){return function(e){return t.apply(this,[Ln(e,{mechanism:{data:{function:"requestAnimationFrame",handler:rr(t)},handled:!1,type:"instrument"}})])}}function eA(t){return function(...e){const r=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(i=>{i in r&&typeof r[i]=="function"&&De(r,i,function(o){const s={mechanism:{data:{function:i,handler:rr(o)},handled:!1,type:"instrument"}},c=wl(o);return c&&(s.mechanism.data.handler=rr(c)),Ln(o,s)})}),t.apply(this,e)}}function tA(t){const r=L[t],n=r&&r.prototype;!n||!n.hasOwnProperty||!n.hasOwnProperty("addEventListener")||(De(n,"addEventListener",function(i){return function(o,s,c){try{rA(s)&&(s.handleEvent=Ln(s.handleEvent,{mechanism:{data:{function:"handleEvent",handler:rr(s),target:t},handled:!1,type:"instrument"}}))}catch{}return i.apply(this,[o,Ln(s,{mechanism:{data:{function:"addEventListener",handler:rr(s),target:t},handled:!1,type:"instrument"}}),c])}}),De(n,"removeEventListener",function(i){return function(o,s,c){try{const u=s.__sentry_wrapped__;u&&i.call(this,o,u,c)}catch{}return i.call(this,o,s,c)}}))}function rA(t){return typeof t.handleEvent=="function"}const nA=()=>({name:"BrowserSession",setupOnce(){if(typeof L.document>"u"){uo&&w.warn("Using the `browserSessionIntegration` in non-browser environments is not supported.");return}$p({ignoreDuration:!0}),kp(),Jv(({from:t,to:e})=>{t!==void 0&&t!==e&&($p({ignoreDuration:!0}),kp())})}}),iA="GlobalHandlers",oA=(t={})=>{const e={onerror:!0,onunhandledrejection:!0,...t};return{name:iA,setupOnce(){Error.stackTraceLimit=50},setup(r){e.onerror&&(aA(r),Up("onerror")),e.onunhandledrejection&&(cA(r),Up("onunhandledrejection"))}}},sA=oA;function aA(t){hR(e=>{const{stackParser:r,attachStacktrace:n}=Yv();if(ae()!==t||Wv())return;const{msg:i,url:o,line:s,column:c,error:u}=e,l=fA(Rl(r,u||i,void 0,n,!1),o,s,c);l.level="error",Ol(l,{originalException:u,mechanism:{handled:!1,type:"onerror"}})})}function cA(t){vR(e=>{const{stackParser:r,attachStacktrace:n}=Yv();if(ae()!==t||Wv())return;const i=uA(e),o=_l(i)?lA(i):Rl(r,i,void 0,n,!0);o.level="error",Ol(o,{originalException:i,mechanism:{handled:!1,type:"onunhandledrejection"}})})}function uA(t){if(_l(t))return t;try{if("reason"in t)return t.reason;if("detail"in t&&"reason"in t.detail)return t.detail.reason}catch{}return t}function lA(t){return{exception:{values:[{type:"UnhandledRejection",value:"Non-Error promise rejection captured with value: ".concat(String(t))}]}}}function fA(t,e,r,n){const i=t.exception=t.exception||{},o=i.values=i.values||[],s=o[0]=o[0]||{},c=s.stacktrace=s.stacktrace||{},u=c.frames=c.frames||[],l=n,f=r,d=Tt(e)&&e.length>0?e:$R();return u.length===0&&u.push({colno:l,filename:d,function:Pr,in_app:!0,lineno:f}),t}function Up(t){uo&&w.log("Global Handler attached: ".concat(t))}function Yv(){const t=ae();return t&&t.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}const dA=()=>({name:"HttpContext",preprocessEvent(t){if(!L.navigator&&!L.location&&!L.document)return;const e=t.request&&t.request.url||L.location&&L.location.href,{referrer:r}=L.document||{},{userAgent:n}=L.navigator||{},i={...t.request&&t.request.headers,...r&&{Referer:r},...n&&{"User-Agent":n}},o={...t.request,...e&&{url:e},headers:i};t.request=o}}),pA="cause",hA=5,gA="LinkedErrors",vA=(t={})=>{const e=t.limit||hA,r=t.key||pA;return{name:gA,preprocessEvent(n,i,o){const s=o.getOptions();jC(Pl,s.stackParser,s.maxValueLength,r,e,n,i)}}},mA=vA;function yA(t){const e=[kC(),_C(),Z0(),B0(),sA(),mA(),GC(),dA()];return t.autoSessionTracking!==!1&&e.push(nA()),e}function bA(t={}){const e={defaultIntegrations:yA(t),release:typeof __SENTRY_RELEASE__=="string"?__SENTRY_RELEASE__:L.SENTRY_RELEASE&&L.SENTRY_RELEASE.id?L.SENTRY_RELEASE.id:void 0,autoSessionTracking:!0,sendClientReports:!0};return t.defaultIntegrations==null&&delete t.defaultIntegrations,{...e,...t}}function SA(){const t=typeof L.window<"u"&&L;if(!t)return!1;const e=t.chrome?"chrome":"browser",r=t[e],n=r&&r.runtime&&r.runtime.id,i=L.location&&L.location.href||"",o=["chrome-extension:","moz-extension:","ms-browser-extension:","safari-web-extension:"],s=!!n&&L===L.top&&o.some(u=>i.startsWith("".concat(u,"//"))),c=typeof t.nw<"u";return!!n&&!s&&!c}function _A(t={}){const e=bA(t);if(!e.skipBrowserExtensionCheck&&SA()){Ur(()=>{console.error("[Sentry] You cannot run Sentry this way in a browser extension, check: https://docs.sentry.io/platforms/javascript/best-practices/browser-extensions/")});return}uo&&(Gv()||w.warn("No Fetch API detected. The Sentry SDK requires a Fetch API compatible environment to send events. Please add a Fetch API polyfill."));const r={...e,stackParser:dR(e.stackParser||Kv),integrations:tC(e),transport:e.transport||I0};return aC(p0,r)}class EA{constructor(e){_A({dsn:e.dsn,environment:e.servicesEnvironment,release:e.version,integrations:[],defaultIntegrations:[],skipBrowserExtensionCheck:!0,sampleRate:.1,enabled:!oo,sendClientReports:!1})}write(e){var r;if(e.level!=="error")return;const n=e.args.at(0);Ol({level:"error",exception:{values:qv(n)?lu(n):[{type:"Error",value:e.text,stacktrace:{frames:[]}}]},logger:(r=e.logger)!=null?r:void 0})}}function lu(t,e={nextId:1}){const r=e.nextId++,n=new Set(["name","message","stack","cause"]),i=[{type:t.name,value:t.message,stacktrace:{frames:typeof t.stack=="string"?Kv(t.stack):[]},mechanism:{type:"generic",handled:!(t instanceof bv),is_exception_group:t instanceof ut,exception_id:r,parent_id:e.parentId,source:!(t instanceof $)||t instanceof ut?void 0:JSON.stringify(t,(o,s)=>n.has(o)?void 0:s)}}];if(t instanceof ut)for(const o of t.errors)i.push(...lu(o,{...e,parentId:r}));return qv(t.cause)&&i.push(...lu(t.cause,{...e,parentId:r})),i}function qv(t){return t!==null&&typeof t=="object"&&"message"in t&&typeof t.message=="string"}var wA=(t,e)=>(e=Symbol[t])?e:Symbol.for("Symbol."+t),Bp=t=>{throw TypeError(t)},$A=(t,e,r)=>{if(e!=null){typeof e!="object"&&typeof e!="function"&&Bp("Object expected");var n;n===void 0&&(n=e[wA("dispose")]),typeof n!="function"&&Bp("Object not disposable"),t.push([r,n,e])}return e},kA=(t,e,r)=>{var n=typeof SuppressedError=="function"?SuppressedError:function(s,c,u,l){return l=Error(u),l.name="SuppressedError",l.error=s,l.suppressed=c,l},i=s=>e=r?new n(s,e,"An error was suppressed during disposal"):(r=!0,s),o=s=>{for(;s=t.pop();)try{var c=s[1]&&s[1].call(s[2]);if(s[0])return Promise.resolve(c).then(o,u=>(i(u),o()))}catch(u){i(u)}if(r)throw e};return o()};function IA(t,e=!1){var r=[];try{const o=$A(r,new DisposableStack);return o.use(TA(t)),o.use(OA(t)),o.move()}catch(o){var n=o,i=!0}finally{kA(r,n,i)}}function Xv(t){let e=null;const r=[];return b(t,oe(async n=>(console.error("Failed to get writer",n),P({write:()=>{}}))),D(n=>{e=n;for(const i of r)n.write(i);r.length=0})),{write:n=>{e?e.write(n):r.push(n)}}}function TA(t){return E.addWriter(Xv(b(t,D(e=>e.client),oe(async e=>(E.error("Failed to get client",e),P("unknown"))),D(e=>new gi({application:"Inkwell",environment:"production",version:ra,client:e,sessionId:tr(),logsPerMinute:50,logsPerSecond:20})))))}function OA(t){return E.addWriter(Xv(b(t,D(e=>new EA({dsn:"https://4cfa7f803fd5030e6ba1d12edfb46f10@o565714.ingest.us.sentry.io/4508502134489088",version:ra,servicesEnvironment:e.servicesEnvironment})))))}var cn;class PA{constructor(e){g(this,cn);v(this,cn,e)}[Symbol.dispose](){a(this,cn)&&a(this,cn)[Symbol.asyncDispose]().then(()=>{},e=>E.error("Unexpected error in DetachedDisposable.dispose",e))}}cn=new WeakMap;function Zv(t){if(!t)return;if(Symbol.iterator in t){const r=new DisposableStack;for(const n of t)r.use(zp(n));return r.dispose()}const e=zp(t);if(e)return e[Symbol.dispose]()}async function la(t){if(t){if(Symbol.iterator in t){const e=new AsyncDisposableStack;for(const r of t)e.use(xA(r));return await e.disposeAsync()}if(da(t))return t[Symbol.asyncDispose]();if(fa(t))return t[Symbol.dispose]()}}function zp(t){if(fa(t))return t;if(da(t))return new PA(t)}function xA(t){if(fa(t)||da(t))return t}function lt(t){const e=new DisposableStack;return e.defer(t),e}function qN(t){const e=new AsyncDisposableStack;return e.defer(t),e}function fa(t){return Symbol.dispose in t}function da(t){return Symbol.asyncDispose in t}function RA(t){return fa(t)||da(t)}const fc=E.createLogger("FeMetricWriter");var hr,zt,un,Di,ln,or,em,tm,rm;class Qv{constructor(e,r){g(this,or);g(this,hr);g(this,zt,new Map);g(this,un,[]);g(this,Di,[]);g(this,ln,null);v(this,hr,Object.entries({...e,inkwell_app_name:r.name,inkwell_app_version:r.version,inkwell_client:r.client}).map(([n,i])=>({key:n,value:i})))}write(e){switch(e.kind){case"counter":{fc.verbose("Metric inkwell_".concat(e.name," incrementing by ").concat(e.value));const r=AA(e);a(this,zt).has(r)?a(this,zt).get(r).increment(e.value):a(this,zt).set(r,new CA(e));break}case"timer":fc.verbose("Metric inkwell_".concat(e.name," completed in ").concat(Number(e.value).toFixed(2),"s")),a(this,un).push(e);break;case"histogram":fc.verbose("Metric inkwell_".concat(e.name," recorded ").concat(e.value)),a(this,Di).push(e);break;default:throw new et(e)}m(this,or,em).call(this)}}hr=new WeakMap,zt=new WeakMap,un=new WeakMap,Di=new WeakMap,ln=new WeakMap,or=new WeakSet,em=function(){if(a(this,ln)!==null)return;v(this,ln,setTimeout(()=>{v(this,ln,null),m(this,or,tm).call(this)},7500))},tm=function(){const e=[];for(const r of a(this,zt).values())e.push(dc(r.toMetric(),a(this,hr)));for(const r of a(this,un))e.push(dc(r,a(this,hr)));for(const r of a(this,Di))e.push(dc(r,a(this,hr)));e.length!==0&&(a(this,zt).clear(),a(this,un).length=0,m(this,or,rm).call(this,e))},rm=function(e){const r=JSON.stringify(e);NA(async()=>{await fetch("https://inkwell.femetrics.grammarly.io/batch/import",{body:r,method:"POST",mode:"no-cors",cache:"no-store",headers:{"Content-Type":"application/json"},keepalive:!0})}).catch(n=>{})};const DA={timer:"summary",counter:"counter",histogram:"histogram_strikes_back"};function dc(t,e){return{name:"inkwell_"+t.name,type:DA[t.kind],value:t.value,labels:Object.entries(t.labels).map(([r,n])=>({key:r,value:n})).concat(e),report_interval:"1m"}}var Ci,fn;class CA{constructor(e){g(this,Ci);g(this,fn);v(this,Ci,e),v(this,fn,e.value)}increment(e=1){v(this,fn,a(this,fn)+e)}toMetric(){return{...a(this,Ci),value:a(this,fn)}}}Ci=new WeakMap,fn=new WeakMap;function AA(t){return"".concat(t.name,":").concat(JSON.stringify(t.labels,Object.keys(t.labels).sort()))}function NA(t,e=3){return new Promise((r,n)=>{let i=0;const o=()=>{t().then(r).catch(s=>{i++<e?setTimeout(o,2**i*1e3):n(s)})};o()})}var Ai,Ni,ji;class pc{constructor(e,r){g(this,Ai,!1);g(this,Ni);g(this,ji);v(this,Ni,e),v(this,ji,r)}close(e=null,r){a(this,Ai)||(v(this,Ai,!0),a(this,ji).call(this,e!=null?e:null,{...a(this,Ni),...r}))}[Symbol.dispose](){this.close()}}Ai=new WeakMap,Ni=new WeakMap,ji=new WeakMap;var mt,yt,dn;class jA{constructor(e,r){g(this,mt);g(this,yt);g(this,dn,new pc({},()=>{}));v(this,mt,e),v(this,yt,r),a(this,dn).close()}count(e,r={}){var i,o,s;if(((i=r.sampler)==null?void 0:i.shouldSelect())===!1)return a(this,dn);const n={kind:"counter",name:"".concat(a(this,mt),"_").concat(e,"_total"),labels:(o=r.labels)!=null?o:{},value:(s=r.incrementBy)!=null?s:1};return a(this,yt).write(n),new pc(r,(c,u)=>{var l,f,d,p;c!==null?a(this,yt).write({kind:"counter",name:"".concat(a(this,mt),"_").concat(e,"_failure_total"),value:(l=u.incrementBy)!=null?l:1,labels:(f=u.labels)!=null?f:{}}):a(this,yt).write({kind:"counter",name:"".concat(a(this,mt),"_").concat(e,"_success_total"),value:(d=u.incrementBy)!=null?d:1,labels:(p=u.labels)!=null?p:{}})})}duration(e,r={}){var s;if(((s=r.sampler)==null?void 0:s.shouldSelect())===!1)return a(this,dn);const n=this.count(e,r),i=performance.now(),o=new pc(r,(c,u)=>{var l,f;if(c===null){n.close(void 0,u);const d={kind:"timer",name:"".concat(a(this,mt),"_").concat(e,"_duration_seconds"),value:(l=u.durationInSeconds)!=null?l:(performance.now()-i)/1e3,labels:(f=u.labels)!=null?f:{}};a(this,yt).write(d)}else n.close(c,u)});return r.durationInSeconds!==void 0&&o.close(),o}histogram(e,r){var n,i;((n=r==null?void 0:r.sampler)==null?void 0:n.shouldSelect())!==!1&&a(this,yt).write({kind:"histogram",name:"".concat(a(this,mt),"_").concat(e),value:r.value,labels:(i=r.labels)!=null?i:{}})}}mt=new WeakMap,yt=new WeakMap,dn=new WeakMap;function MA(){try{const t=Reflect.get(navigator,"deviceMemory");if(t)return t.toString()}catch{}return"unknown"}function nm(t){return new Qv({env:"prod",memory_info:MA(),inkwell_execution_realm:t.realm},{name:"Inkwell",client:t.client,version:ra})}function FA(t){const e=new jA("web_client",UA(t)),r=LA(e);return{monitoring:e,[Symbol.dispose]:()=>Zv(r)}}function LA(t){return E.addWriter({write:e=>{switch(e.level){case"error":t.count("error_log");break;case"warn":t.count("warn_log");break;case"info":t.count("info_log");break;case"verbose":break;default:throw new et(e.level)}}})}function UA(t){let e=null;const r=[];return b(t,D(n=>{e=nm(n);for(const i of r)e.write(i)})),{write:n=>{e?e.write(n):r.push(n)}}}function im(t){return typeof t=="function"?{next:e=>t(e),error:()=>{},complete:()=>{}}:{next:e=>{var r;return(r=t.next)==null?void 0:r.call(t,e)},error:e=>{var r;return(r=t.error)==null?void 0:r.call(t,e)},complete:()=>{var e;return(e=t.complete)==null?void 0:e.call(t)}}}var pn,Oe,hn;class BA{constructor(){g(this,pn,[]);g(this,Oe,null);g(this,hn,!1)}next(e){a(this,Oe)?a(this,Oe).next(e):a(this,pn).push(e)}complete(){var e;(e=a(this,Oe))==null||e.complete(),v(this,Oe,null),v(this,hn,!0)}error(e){var r;(r=a(this,Oe))==null||r.error(e),v(this,Oe,null),v(this,hn,!0)}subscribe(e){var n=[];try{if(a(this,hn))return E.warn("Cannot subscribe to closed SingleConsumerBufferedEmitter"),lt(()=>{});if(a(this,Oe))return E.error("SingleConsumerBufferedEmitter supports only one subscriber."),lt(()=>{});const r=ce(n,new DisposableStack);v(this,Oe,im(e));r.defer(()=>v(this,Oe,null));a(this,pn).forEach(c=>{var u;return(u=a(this,Oe))==null?void 0:u.next(c)});a(this,pn).length=0;return r.move()}catch(i){var o=i,s=!0}finally{ue(n,o,s)}}[Symbol.dispose](){this.complete()}}pn=new WeakMap,Oe=new WeakMap,hn=new WeakMap;var fu=function(t,e){return fu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},fu(t,e)};function Hn(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");fu(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function zA(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function c(f){try{l(n.next(f))}catch(d){s(d)}}function u(f){try{l(n.throw(f))}catch(d){s(d)}}function l(f){f.done?o(f.value):i(f.value).then(c,u)}l((n=n.apply(t,e||[])).next())})}function om(t,e){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(l){return function(f){return u([l,f])}}function u(l){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,l[0]&&(r=0)),r;)try{if(n=1,i&&(o=l[0]&2?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){r.label=l[1];break}if(l[0]===6&&r.label<o[1]){r.label=o[1],o=l;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(l);break}o[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(f){l=[6,f],i=0}finally{n=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function Un(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function du(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(c){s={error:c}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return o}function pu(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return t.concat(o||Array.prototype.slice.call(e))}function en(t){return this instanceof en?(this.v=t,this):new en(t)}function GA(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,o=[];return i={},c("next"),c("throw"),c("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(h){return function(y){return Promise.resolve(y).then(h,d)}}function c(h,y){n[h]&&(i[h]=function(_){return new Promise(function(k,I){o.push([h,_,k,I])>1||u(h,_)})},y&&(i[h]=y(i[h])))}function u(h,y){try{l(n[h](y))}catch(_){p(o[0][3],_)}}function l(h){h.value instanceof en?Promise.resolve(h.value.v).then(f,d):p(o[0][2],h)}function f(h){u("next",h)}function d(h){u("throw",h)}function p(h,y){h(y),o.shift(),o.length&&u(o[0][0],o[0][1])}}function WA(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof Un=="function"?Un(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(o){r[o]=t[o]&&function(s){return new Promise(function(c,u){s=t[o](s),i(c,u,s.done,s.value)})}}function i(o,s,c,u){Promise.resolve(u).then(function(l){o({value:l,done:c})},s)}}function te(t){return typeof t=="function"}function Dl(t){var e=function(n){Error.call(n),n.stack=new Error().stack},r=t(e);return r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,r}var hc=Dl(function(t){return function(r){t(this),this.message=r?r.length+" errors occurred during unsubscription:\n"+r.map(function(n,i){return i+1+") "+n.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=r}});function hu(t,e){if(t){var r=t.indexOf(e);0<=r&&t.splice(r,1)}}var pa=function(){function t(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return t.prototype.unsubscribe=function(){var e,r,n,i,o;if(!this.closed){this.closed=!0;var s=this._parentage;if(s)if(this._parentage=null,Array.isArray(s))try{for(var c=Un(s),u=c.next();!u.done;u=c.next()){var l=u.value;l.remove(this)}}catch(_){e={error:_}}finally{try{u&&!u.done&&(r=c.return)&&r.call(c)}finally{if(e)throw e.error}}else s.remove(this);var f=this.initialTeardown;if(te(f))try{f()}catch(_){o=_ instanceof hc?_.errors:[_]}var d=this._finalizers;if(d){this._finalizers=null;try{for(var p=Un(d),h=p.next();!h.done;h=p.next()){var y=h.value;try{Gp(y)}catch(_){o=o!=null?o:[],_ instanceof hc?o=pu(pu([],du(o)),du(_.errors)):o.push(_)}}}catch(_){n={error:_}}finally{try{h&&!h.done&&(i=p.return)&&i.call(p)}finally{if(n)throw n.error}}}if(o)throw new hc(o)}},t.prototype.add=function(e){var r;if(e&&e!==this)if(this.closed)Gp(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(r=this._finalizers)!==null&&r!==void 0?r:[]).push(e)}},t.prototype._hasParent=function(e){var r=this._parentage;return r===e||Array.isArray(r)&&r.includes(e)},t.prototype._addParent=function(e){var r=this._parentage;this._parentage=Array.isArray(r)?(r.push(e),r):r?[r,e]:e},t.prototype._removeParent=function(e){var r=this._parentage;r===e?this._parentage=null:Array.isArray(r)&&hu(r,e)},t.prototype.remove=function(e){var r=this._finalizers;r&&hu(r,e),e instanceof t&&e._removeParent(this)},t.EMPTY=function(){var e=new t;return e.closed=!0,e}(),t}(),sm=pa.EMPTY;function am(t){return t instanceof pa||t&&"closed"in t&&te(t.remove)&&te(t.add)&&te(t.unsubscribe)}function Gp(t){te(t)?t():t.unsubscribe()}var cm={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},um={setTimeout:function(t,e){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];return setTimeout.apply(void 0,pu([t,e],du(r)))},clearTimeout:function(t){var e=um.delegate;return((e==null?void 0:e.clearTimeout)||clearTimeout)(t)},delegate:void 0};function lm(t){um.setTimeout(function(){throw t})}function Wp(){}function Qo(t){t()}var Cl=function(t){Hn(e,t);function e(r){var n=t.call(this)||this;return n.isStopped=!1,r?(n.destination=r,am(r)&&r.add(n)):n.destination=VA,n}return e.create=function(r,n,i){return new $s(r,n,i)},e.prototype.next=function(r){this.isStopped||this._next(r)},e.prototype.error=function(r){this.isStopped||(this.isStopped=!0,this._error(r))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this),this.destination=null)},e.prototype._next=function(r){this.destination.next(r)},e.prototype._error=function(r){try{this.destination.error(r)}finally{this.unsubscribe()}},e.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e}(pa),HA=Function.prototype.bind;function gc(t,e){return HA.call(t,e)}var JA=function(){function t(e){this.partialObserver=e}return t.prototype.next=function(e){var r=this.partialObserver;if(r.next)try{r.next(e)}catch(n){zo(n)}},t.prototype.error=function(e){var r=this.partialObserver;if(r.error)try{r.error(e)}catch(n){zo(n)}else zo(e)},t.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(r){zo(r)}},t}(),$s=function(t){Hn(e,t);function e(r,n,i){var o=t.call(this)||this,s;if(te(r)||!r)s={next:r!=null?r:void 0,error:n!=null?n:void 0,complete:i!=null?i:void 0};else{var c;o&&cm.useDeprecatedNextContext?(c=Object.create(r),c.unsubscribe=function(){return o.unsubscribe()},s={next:r.next&&gc(r.next,c),error:r.error&&gc(r.error,c),complete:r.complete&&gc(r.complete,c)}):s=r}return o.destination=new JA(s),o}return e}(Cl);function zo(t){lm(t)}function KA(t){throw t}var VA={closed:!0,next:Wp,error:KA,complete:Wp},Al=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function YA(t){return t}function qA(t){return t.length===0?YA:t.length===1?t[0]:function(r){return t.reduce(function(n,i){return i(n)},r)}}var nr=function(){function t(e){e&&(this._subscribe=e)}return t.prototype.lift=function(e){var r=new t;return r.source=this,r.operator=e,r},t.prototype.subscribe=function(e,r,n){var i=this,o=ZA(e)?e:new $s(e,r,n);return Qo(function(){var s=i,c=s.operator,u=s.source;o.add(c?c.call(o,u):u?i._subscribe(o):i._trySubscribe(o))}),o},t.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(r){e.error(r)}},t.prototype.forEach=function(e,r){var n=this;return r=Hp(r),new r(function(i,o){var s=new $s({next:function(c){try{e(c)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});n.subscribe(s)})},t.prototype._subscribe=function(e){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(e)},t.prototype[Al]=function(){return this},t.prototype.pipe=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return qA(e)(this)},t.prototype.toPromise=function(e){var r=this;return e=Hp(e),new e(function(n,i){var o;r.subscribe(function(s){return o=s},function(s){return i(s)},function(){return n(o)})})},t.create=function(e){return new t(e)},t}();function Hp(t){var e;return(e=t!=null?t:cm.Promise)!==null&&e!==void 0?e:Promise}function XA(t){return t&&te(t.next)&&te(t.error)&&te(t.complete)}function ZA(t){return t&&t instanceof Cl||XA(t)&&am(t)}function QA(t){return te(t==null?void 0:t.lift)}function Nl(t){return function(e){if(QA(e))return e.lift(function(r){try{return t(r,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}function ks(t,e,r,n,i){return new e1(t,e,r,n,i)}var e1=function(t){Hn(e,t);function e(r,n,i,o,s,c){var u=t.call(this,r)||this;return u.onFinalize=s,u.shouldUnsubscribe=c,u._next=n?function(l){try{n(l)}catch(f){r.error(f)}}:t.prototype._next,u._error=o?function(l){try{o(l)}catch(f){r.error(f)}finally{this.unsubscribe()}}:t.prototype._error,u._complete=i?function(){try{i()}catch(l){r.error(l)}finally{this.unsubscribe()}}:t.prototype._complete,u}return e.prototype.unsubscribe=function(){var r;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;t.prototype.unsubscribe.call(this),!n&&((r=this.onFinalize)===null||r===void 0||r.call(this))}},e}(Cl),t1=Dl(function(t){return function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),jl=function(t){Hn(e,t);function e(){var r=t.call(this)||this;return r.closed=!1,r.currentObservers=null,r.observers=[],r.isStopped=!1,r.hasError=!1,r.thrownError=null,r}return e.prototype.lift=function(r){var n=new Jp(this,this);return n.operator=r,n},e.prototype._throwIfClosed=function(){if(this.closed)throw new t1},e.prototype.next=function(r){var n=this;Qo(function(){var i,o;if(n._throwIfClosed(),!n.isStopped){n.currentObservers||(n.currentObservers=Array.from(n.observers));try{for(var s=Un(n.currentObservers),c=s.next();!c.done;c=s.next()){var u=c.value;u.next(r)}}catch(l){i={error:l}}finally{try{c&&!c.done&&(o=s.return)&&o.call(s)}finally{if(i)throw i.error}}}})},e.prototype.error=function(r){var n=this;Qo(function(){if(n._throwIfClosed(),!n.isStopped){n.hasError=n.isStopped=!0,n.thrownError=r;for(var i=n.observers;i.length;)i.shift().error(r)}})},e.prototype.complete=function(){var r=this;Qo(function(){if(r._throwIfClosed(),!r.isStopped){r.isStopped=!0;for(var n=r.observers;n.length;)n.shift().complete()}})},e.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(e.prototype,"observed",{get:function(){var r;return((r=this.observers)===null||r===void 0?void 0:r.length)>0},enumerable:!1,configurable:!0}),e.prototype._trySubscribe=function(r){return this._throwIfClosed(),t.prototype._trySubscribe.call(this,r)},e.prototype._subscribe=function(r){return this._throwIfClosed(),this._checkFinalizedStatuses(r),this._innerSubscribe(r)},e.prototype._innerSubscribe=function(r){var n=this,i=this,o=i.hasError,s=i.isStopped,c=i.observers;return o||s?sm:(this.currentObservers=null,c.push(r),new pa(function(){n.currentObservers=null,hu(c,r)}))},e.prototype._checkFinalizedStatuses=function(r){var n=this,i=n.hasError,o=n.thrownError,s=n.isStopped;i?r.error(o):s&&r.complete()},e.prototype.asObservable=function(){var r=new nr;return r.source=this,r},e.create=function(r,n){return new Jp(r,n)},e}(nr),Jp=function(t){Hn(e,t);function e(r,n){var i=t.call(this)||this;return i.destination=r,i.source=n,i}return e.prototype.next=function(r){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.next)===null||i===void 0||i.call(n,r)},e.prototype.error=function(r){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.error)===null||i===void 0||i.call(n,r)},e.prototype.complete=function(){var r,n;(n=(r=this.destination)===null||r===void 0?void 0:r.complete)===null||n===void 0||n.call(r)},e.prototype._subscribe=function(r){var n,i;return(i=(n=this.source)===null||n===void 0?void 0:n.subscribe(r))!==null&&i!==void 0?i:sm},e}(jl),r1=function(t){Hn(e,t);function e(r){var n=t.call(this)||this;return n._value=r,n}return Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),e.prototype._subscribe=function(r){var n=t.prototype._subscribe.call(this,r);return!n.closed&&r.next(this._value),n},e.prototype.getValue=function(){var r=this,n=r.hasError,i=r.thrownError,o=r._value;if(n)throw i;return this._throwIfClosed(),o},e.prototype.next=function(r){t.prototype.next.call(this,this._value=r)},e}(jl),n1=function(t){return t&&typeof t.length=="number"&&typeof t!="function"};function i1(t){return te(t==null?void 0:t.then)}function o1(t){return te(t[Al])}function s1(t){return Symbol.asyncIterator&&te(t==null?void 0:t[Symbol.asyncIterator])}function a1(t){return new TypeError("You provided "+(t!==null&&typeof t=="object"?"an invalid object":"'"+t+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function c1(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var u1=c1();function l1(t){return te(t==null?void 0:t[u1])}function f1(t){return GA(this,arguments,function(){var r,n,i,o;return om(this,function(s){switch(s.label){case 0:r=t.getReader(),s.label=1;case 1:s.trys.push([1,,9,10]),s.label=2;case 2:return[4,en(r.read())];case 3:return n=s.sent(),i=n.value,o=n.done,o?[4,en(void 0)]:[3,5];case 4:return[2,s.sent()];case 5:return[4,en(i)];case 6:return[4,s.sent()];case 7:return s.sent(),[3,2];case 8:return[3,10];case 9:return r.releaseLock(),[7];case 10:return[2]}})})}function d1(t){return te(t==null?void 0:t.getReader)}function fm(t){if(t instanceof nr)return t;if(t!=null){if(o1(t))return p1(t);if(n1(t))return h1(t);if(i1(t))return g1(t);if(s1(t))return dm(t);if(l1(t))return v1(t);if(d1(t))return m1(t)}throw a1(t)}function p1(t){return new nr(function(e){var r=t[Al]();if(te(r.subscribe))return r.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function h1(t){return new nr(function(e){for(var r=0;r<t.length&&!e.closed;r++)e.next(t[r]);e.complete()})}function g1(t){return new nr(function(e){t.then(function(r){e.closed||(e.next(r),e.complete())},function(r){return e.error(r)}).then(null,lm)})}function v1(t){return new nr(function(e){var r,n;try{for(var i=Un(t),o=i.next();!o.done;o=i.next()){var s=o.value;if(e.next(s),e.closed)return}}catch(c){r={error:c}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}e.complete()})}function dm(t){return new nr(function(e){y1(t,e).catch(function(r){return e.error(r)})})}function m1(t){return dm(f1(t))}function y1(t,e){var r,n,i,o;return zA(this,void 0,void 0,function(){var s,c;return om(this,function(u){switch(u.label){case 0:u.trys.push([0,5,6,11]),r=WA(t),u.label=1;case 1:return[4,r.next()];case 2:if(n=u.sent(),!!n.done)return[3,4];if(s=n.value,e.next(s),e.closed)return[2];u.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return c=u.sent(),i={error:c},[3,11];case 6:return u.trys.push([6,,9,10]),n&&!n.done&&(o=r.return)?[4,o.call(r)]:[3,8];case 7:u.sent(),u.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return e.complete(),[2]}})})}function XN(t,e,r,n,i){n===void 0&&(n=0),i===void 0&&(i=!1);var o=e.schedule(function(){r(),i?t.add(this.schedule(null,n)):this.unsubscribe()},n);if(t.add(o),!i)return o}var b1=Dl(function(t){return function(){t(this),this.name="EmptyError",this.message="no elements in sequence"}});function S1(t,e){var r=typeof e=="object";return new Promise(function(n,i){var o=new $s({next:function(s){n(s),o.unsubscribe()},error:i,complete:function(){r?n(e.defaultValue):i(new b1)}});t.subscribe(o)})}function pm(t,e){return Nl(function(r,n){var i=0;r.subscribe(ks(n,function(o){n.next(t.call(e,o,i++))}))})}function _1(t,e,r,n,i,o,s,c){var u=[],l=0,f=0,d=!1,p=function(){d&&!u.length&&!l&&e.complete()},h=function(_){return l<n?y(_):u.push(_)},y=function(_){l++;var k=!1;fm(r(_,f++)).subscribe(ks(e,function(I){e.next(I)},function(){k=!0},void 0,function(){if(k)try{l--;for(var I=function(){var O=u.shift();s||y(O)};u.length&&l<n;)I();p()}catch(O){e.error(O)}}))};return t.subscribe(ks(e,h,function(){d=!0,p()})),function(){}}function hm(t,e,r){return r===void 0&&(r=1/0),te(e)?hm(function(n,i){return pm(function(o,s){return e(n,o,i,s)})(fm(t(n,i)))},r):(typeof e=="number"&&(r=e),Nl(function(n,i){return _1(n,i,t,r)}))}function E1(t,e){return Nl(function(r,n){var i=0;r.subscribe(ks(n,function(o){return t.call(e,o,i++)&&n.next(o)}))})}function w1(t){var n;const e=t.data.data,r=new Ml((n=e.errorMessage)!=null?n:"Unknown error");return Object.assign(r,e),r}class Ml extends ${}class $1 extends Ml{constructor(r){super("Unknown action: ".concat(r));S(this,"action");this.action=r}toJSON(){return{...super.toJSON(),action:this.action}}}class k1 extends Ml{constructor(r,n,i){super("Timeout waiting for response for ".concat(n,"()"));S(this,"id");S(this,"action");S(this,"data");this.id=r,this.action=n,this.data=i}toJSON(){return{...super.toJSON(),action:this.action,id:this.id,data:this.data}}}function gm(t){return e=>{const r=im(t!=null?t:{}),n=e.subscribe({next:i=>r.next(i),error:i=>r.error(Pe(i)),complete:()=>r.complete()});return{[Symbol.dispose]:()=>n.unsubscribe()}}}function I1(t){return t.data.status==="failure"}function mi(t){return{kind:"transferable",port:t}}function ZN(t){return{kind:"serializable",port:t}}var bt,Ns,W,$e,gn,Gt,Mi,Fi,gr,js,vm;class yi{constructor(e,r){g(this,js);g(this,bt,new DisposableStack);g(this,Ns,new mv);g(this,W);g(this,$e);g(this,gn);g(this,Gt);g(this,Mi);g(this,Fi,new jl);g(this,gr,new Map);var c,u,l,f,d;v(this,$e,e),v(this,gn,r.handler);const n=(c=r.logger)==null?void 0:c.name,i=(u=r.logger)==null?void 0:u.location;v(this,W,E.createLogger(["RPC",i,n].filter(Boolean).join("/"),(l=r.logger)==null?void 0:l.context)),v(this,Gt,(f=r.report)!=null?f:null),v(this,Mi,(d=r.allowClientsToDispose)!=null?d:!1);const o=new AbortController;a(this,bt).defer(()=>{a(this,W).verbose("RPC disposed."),o.abort(),a(this,gr).forEach(p=>p(x(new $r)))}),a(this,bt).use(b(a(this,Fi),hm(p=>m(this,js,vm).call(this,p)),gm({next:([p,h])=>{p.data.status==="failure"&&a(this,W).error("Outbound ".concat(p.action," error response:"),Pe(p.data.data));try{a(this,$e).kind==="transferable"?a(this,$e).port.postMessage(p,h!=null?h:[]):a(this,$e).port.postMessage(p)}catch(y){a(this,W).error("Unexpected error calling postMessage",Pe(y))}},error:p=>{a(this,W).error("Unexpected error responding to inbound RPC message",p)}}))),a(this,$e).port.addEventListener("message",p=>{switch(p.data.type){case"request":{a(this,Fi).next(p.data);break}case"response":{p.data.data.status==="failure"&&a(this,W).error("Inbound ".concat(p.data.action," error response:"),Pe(p.data.data.data));const h=a(this,gr).get(p.data.id);h?h(P(p.data)):(a(this,W).warn('Unexpected response with "'.concat(p.data.action,'" action.')),a(this,W).verbose("Unexpected response:",p.data));break}default:throw new et(p.data)}},{signal:o.signal});const s=a(this,$e).port;s instanceof MessagePort&&(s.addEventListener("messageerror",p=>a(this,W).error("MessagePort error:",Pe(p)),{signal:o.signal}),s.addEventListener("error",p=>a(this,W).error("MessagePort error:",Pe(p)),{signal:o.signal}),s.addEventListener("close",()=>a(this,W).verbose("MessagePort closed."),{signal:o.signal})),a(this,$e).port.start()}createClient(){const e=new Set(["then","toJSON"]);return new Proxy({},{get:(r,n)=>{if(e.has(n))return;const i=n;if(!e.has(n))return(o,s)=>{var _;if(a(this,bt).disposed)return Z(new $r);const c=a(this,Ns).next(),u=Promise.withResolvers(),l=performance.now();let f=!1;const d=setTimeout(()=>{f=!0,u.resolve(x(new k1(c,String(i),o)))},(_=s==null?void 0:s.timeout)!=null?_:5e3),p=()=>{a(this,gr).delete(c),clearTimeout(d)},h=k=>{var O,Q;if(p(),f){a(this,W).warn('RPC response for "'.concat(String(i),'" was received after timeout.'),{delivery:!1}),a(this,W).verbose("RPC response after timeout:",{action:i,request:o,response:k});return}if(xe(k)){u.resolve(k);return}const I=k.value;if(I1(I)){const re=w1(I);(O=a(this,Gt))==null||O.call(this,{kind:"outbound",action:i,durationInMs:performance.now()-l,error:re}),u.resolve(x(re))}else(Q=a(this,Gt))==null||Q.call(this,{kind:"outbound",action:i,durationInMs:performance.now()-l}),u.resolve(P(I.data.data))},y={id:c,type:"request",action:String(i),data:o};return a(this,gr).set(c,h),b(hl(()=>{var k;a(this,$e).kind==="transferable"?a(this,$e).port.postMessage(y,(k=s==null?void 0:s.transfer)!=null?k:[]):a(this,$e).port.postMessage(y)}),dl(ze(k=>{a(this,W).error("Failed to send request:",k),h(x(k))}))),u.promise}},has:(r,n)=>typeof n=="string"||n===Symbol.asyncDispose,set:()=>!1})}[Symbol.dispose](){return a(this,bt).dispose()}}bt=new WeakMap,Ns=new WeakMap,W=new WeakMap,$e=new WeakMap,gn=new WeakMap,Gt=new WeakMap,Mi=new WeakMap,Fi=new WeakMap,gr=new WeakMap,js=new WeakSet,vm=async function(e){var c,u;if(a(this,bt).disposed)return a(this,W).warn("Received request after RPC was disposed.",{delivery:!1}),a(this,W).verbose("Request after dispose:",e),[{id:e.id,type:"response",action:e.action,data:{status:"failure",data:new $r}},null];if(a(this,Mi)&&e.action===String(Symbol.asyncDispose)){a(this,W).verbose("Received dispose request. Disposing RPC.");try{return[{id:e.id,type:"response",action:e.action,data:{status:"success",data:null}},null]}finally{setTimeout(()=>a(this,bt).dispose(),0)}}const r=e.action,n=a(this,gn)[r];if(!n)return[{id:e.id,type:"response",action:e.action,data:{status:"failure",data:new $1(e.action)}},null];const i=[],o={transfer:a(this,$e).kind==="serializable"?void 0:(l,f)=>(i==null||i.push(...f),l)},s=performance.now();try{const l=await Reflect.apply(n,a(this,gn),[e.data,o]);return xe(l)?((c=a(this,Gt))==null||c.call(this,{kind:"inbound",action:e.action,durationInMs:performance.now()-s,error:l.error}),[{id:e.id,type:"response",action:e.action,data:{status:"failure",data:l.error}},i]):((u=a(this,Gt))==null||u.call(this,{kind:"inbound",action:e.action,durationInMs:performance.now()-s}),[{id:e.id,type:"response",action:e.action,data:{status:"success",data:l.value}},i])}catch(l){throw a(this,W).error("Unhandled error in RPC handler. An RPC handler MUST NOT throw.",Pe(l)),l}};function T1(t){return mm(t)}function QN(t){return mm(t)}function mm(t){const e=new Set(["then","toJSON"]);return new Proxy({},{get:(r,n)=>{if(!e.has(n))return async(...i)=>b(t,N(o=>Reflect.apply(Reflect.get(o,n),o,i)))},has:(r,n)=>typeof n=="string"&&!e.has(n),set:()=>!1})}function O1(t){const e=new BA;return E.verbose("Creating connect event source"),globalThis.addEventListener("connect",r=>{const n=r.ports[0];if(!n){E.warn("MessagePort missing on connect event",{delivery:!1});return}E.verbose("Received connect event",{port:n});const i=Promise.withResolvers(),o=new yi(mi(n),{logger:{location:"Background",name:"Window"},handler:{connect:(s,c)=>(t.resolve({windowId:s.windowId,groupId:s.groupId,client:s.client,realm:"background",servicesEnvironment:s.servicesEnvironment}),b(i.promise,N(u=>u.connect(s,c)))),disposeConnector:(s,c)=>b(i.promise,N(u=>u.disposeConnector(s,c)))}});e.next(s=>(i.resolve(P(s)),o))}),e}const ym="@grammarly/plugin-capi-suggestion",bm={"@grammarly/plugin-capi":"","@grammarly/plugin-document-session":"","@grammarly/plugin-suggestion":""},Sm={};var P1={name:ym,dependencies:bm,optionalDependencies:Sm},x1=Object.freeze({__proto__:null,default:P1,dependencies:bm,name:ym,optionalDependencies:Sm});const _m="@grammarly/plugin-capi",Em={},wm={"@grammarly/plugin-connector":"","@grammarly/plugin-document-group":"","@grammarly/plugin-document-session":""},$m={};var R1={name:_m,inkwell:Em,dependencies:wm,optionalDependencies:$m},D1=Object.freeze({__proto__:null,default:R1,dependencies:wm,inkwell:Em,name:_m,optionalDependencies:$m});const km="@grammarly/plugin-connector",Im="0.0.0",Tm={},Om={"@grammarly/plugin-monitoring":""},Pm={};var C1={name:km,version:Im,inkwell:Tm,dependencies:Om,optionalDependencies:Pm},A1=Object.freeze({__proto__:null,default:C1,dependencies:Om,inkwell:Tm,name:km,optionalDependencies:Pm,version:Im});const xm="@grammarly/plugin-document-group",Rm={},Dm={"@grammarly/plugin-connector":"","@grammarly/plugin-monitoring":"","@grammarly/plugin-window-management":""},Cm={};var N1={name:xm,inkwell:Rm,dependencies:Dm,optionalDependencies:Cm},j1=Object.freeze({__proto__:null,default:N1,dependencies:Dm,inkwell:Rm,name:xm,optionalDependencies:Cm});const Am="@grammarly/plugin-document-session",Nm={},jm={"@grammarly/plugin-connector":"","@grammarly/plugin-monitoring":"","@grammarly/plugin-document-group":"","@grammarly/plugin-ui":""},Mm={};var M1={name:Am,inkwell:Nm,dependencies:jm,optionalDependencies:Mm},F1=Object.freeze({__proto__:null,default:M1,dependencies:jm,inkwell:Nm,name:Am,optionalDependencies:Mm});const Fm="@grammarly/plugin-inline-assistant",Lm={"@grammarly/plugin-inline-card":"","@grammarly/plugin-document-session":"","@grammarly/plugin-capi-suggestion":""},Um={};var L1={name:Fm,dependencies:Lm,optionalDependencies:Um},U1=Object.freeze({__proto__:null,default:L1,dependencies:Lm,name:Fm,optionalDependencies:Um});const Bm="@grammarly/plugin-inline-card",zm={"@grammarly/plugin-capi-suggestion":"","@grammarly/plugin-document-session":"","@grammarly/plugin-document-group":"","@grammarly/plugin-inline-decorations":"","@grammarly/plugin-suggestion":"","@grammarly/plugin-ui":"","@grammarly/plugin-text-decoration":""},Gm={};var B1={name:Bm,dependencies:zm,optionalDependencies:Gm},z1=Object.freeze({__proto__:null,default:B1,dependencies:zm,name:Bm,optionalDependencies:Gm});const Wm="@grammarly/plugin-inline-decorations",Hm={},Jm={"@grammarly/plugin-capi":"","@grammarly/plugin-connector":"","@grammarly/plugin-document-group":"","@grammarly/plugin-document-session":"","@grammarly/plugin-capi-suggestion":"","@grammarly/plugin-text-decoration":"","@grammarly/plugin-ui":""},Km={};var G1={name:Wm,inkwell:Hm,dependencies:Jm,optionalDependencies:Km},W1=Object.freeze({__proto__:null,default:G1,dependencies:Jm,inkwell:Hm,name:Wm,optionalDependencies:Km});const Vm="@grammarly/plugin-monitoring",Ym={},qm={},Xm={};var H1={name:Vm,inkwell:Ym,dependencies:qm,optionalDependencies:Xm},J1=Object.freeze({__proto__:null,default:H1,dependencies:qm,inkwell:Ym,name:Vm,optionalDependencies:Xm});const Zm="@grammarly/plugin-suggestion",Qm={},ey={"@grammarly/plugin-document-session":""},ty={};var K1={name:Zm,inkwell:Qm,dependencies:ey,optionalDependencies:ty},V1=Object.freeze({__proto__:null,default:K1,dependencies:ey,inkwell:Qm,name:Zm,optionalDependencies:ty});const ry="@grammarly/plugin-text-decoration",ny={"@grammarly/plugin-document-session":"","@grammarly/plugin-monitoring":""},iy={};var Y1={name:ry,dependencies:ny,optionalDependencies:iy},q1=Object.freeze({__proto__:null,default:Y1,dependencies:ny,name:ry,optionalDependencies:iy});const oy="@grammarly/plugin-ui",sy={},ay={},cy={};var X1={name:oy,inkwell:sy,dependencies:ay,optionalDependencies:cy},Z1=Object.freeze({__proto__:null,default:X1,dependencies:ay,inkwell:sy,name:oy,optionalDependencies:cy});const uy="@grammarly/plugin-window-management",ly={},fy={};var Q1={name:uy,dependencies:ly,optionalDependencies:fy},eN=Object.freeze({__proto__:null,default:Q1,dependencies:ly,name:uy,optionalDependencies:fy});function Is(t=Symbol()){return t}function se(t){return typeof t=="string"?t:typeof t=="symbol"?t.toString():t.name}function Kp(t){return typeof t=="function"&&t.prototype!==void 0}class Vp extends ${constructor(r,n){super('The "'.concat(se(r),'" token does not exist.')+(n?" Context:\n".concat(String(n)):""));S(this,"token");this.token=r}}class Yp extends ${constructor(r,n){super('Unsupported lifetime "'.concat(r,'" for "').concat(se(n.token),'" provider.'));S(this,"lifetime");S(this,"provider");this.lifetime=r,this.provider=n}}class qp extends ${constructor(r){super('Lifetime is not specified for "'.concat(se(r.token),'" provider.'));S(this,"provider");this.provider=r}}class dy extends ${constructor(r,n,i){super('Incorrect number of dependencies provided for "'.concat(se(r.token),'". Expected ').concat(n,", got ").concat(i,"."));S(this,"provider");this.provider=r}}class tN extends ${constructor(r,n,i){const o=n.findIndex(s=>s===i);super('A circular dependency is detected during registration of "'.concat(se(r.token),'" (').concat(n.slice(0,o+1).map(s=>se(s)).join(" -> ")," -> ").concat(se(i),")."));S(this,"provider");this.provider=r}}class rN extends ${constructor(r,n){super('An error occurred while resolving "'.concat(se(r),'" token.'),n);S(this,"token");this.token=r}}function nN(t){return t!==null&&typeof t=="object"||typeof t=="function"}const ie={Transient:"Transient",Singleton:"Singleton",ContainerScoped:"ContainerScoped"},X={Class:"Class",Value:"Value",Token:"Token",Factory:"Factory"};function Zn(t){if("useClass"in t)return{type:X.Class,...t};if("useValue"in t)return{type:X.Value,...t};if("useToken"in t)return{type:X.Token,...t};if("useFactory"in t)return{type:X.Factory,...t};throw new et(t)}var it,Bn,py,hy;class Go{constructor(e,r){g(this,Bn);S(this,"provider");S(this,"options");g(this,it,null);this.provider=e,this.options=r}getInstance(){return a(this,it)!==null?a(this,it).value:this.provider.type===X.Value?this.provider.useValue:null}resolve(e,r){var n,i;return a(this,it)!==null?P(a(this,it).value):((i=(n=this.options).onResolution)==null||i.call(n),b(m(this,Bn,py).call(this,e,r),dl(o=>{var s,c;return(c=(s=this.options).onResolutionFailure)==null||c.call(s,o),new rN(this.provider.token,o)}),ee(o=>{var s,c;return(c=(s=this.options).onResolutionSuccess)==null||c.call(s),(this.options.lifetime===ie.ContainerScoped||this.options.lifetime===ie.Singleton)&&v(this,it,{value:o}),o})))}async[Symbol.asyncDispose](){var r,n;(r=Zr())==null||r.recordEvent("dispose",{token:se(this.provider.token)});const e=(n=a(this,it))==null?void 0:n.value;v(this,it,null),nN(e)&&RA(e)&&await la(e)}}it=new WeakMap,Bn=new WeakSet,py=function(e,r){var n;switch(this.provider.type){case X.Class:return m(this,Bn,hy).call(this,this.provider.useClass);case X.Value:return P(this.provider.useValue);case X.Factory:return(n=Zr())==null||n.recordEvent("construct",{token:se(this.provider.token),useFactory:String(this.provider.useFactory)}),this.provider.useFactory({resolve:i=>e.resolve(i,r)},r);case X.Token:return e.resolve(this.provider.useToken,r);default:return x(new et(this.provider))}},hy=function(e){var r;return(r=Zr())==null||r.recordEvent("construct",{token:se(this.provider.token),useClass:e.name}),e.length===0?hl(()=>new e):x(new dy(this.provider,e.length,0))};var ne;class iN{constructor(){g(this,ne,new Map)}add(e){const r=e.provider.token;let n=a(this,ne).get(r);n||(n=[],a(this,ne).set(r,n)),n.unshift(e)}remove(e){const r=a(this,ne).get(e.provider.token);if(!r)return;const n=r.indexOf(e);n!==-1&&r.splice(n,1)}get(e){const r=a(this,ne).get(e);return r==null?void 0:r[0]}has(e){return a(this,ne).has(e)&&a(this,ne).get(e).length>0}keys(){return a(this,ne).keys()}entries(){return a(this,ne).entries()}getAll(e){var r;return(r=a(this,ne).get(e))!=null?r:[]}setAll(e,r){a(this,ne).set(e,r)}removeAll(e){a(this,ne).delete(e)}async[Symbol.asyncDispose](){await la(Array.from(a(this,ne).values()).flat())}*[Symbol.iterator](){yield*a(this,ne)}}ne=new WeakMap;var le,Wt,St,Ne,Ms,K,vy,ni,my,es,yy,by;class gy{constructor(e="",r){g(this,K);g(this,le,new iN);g(this,Wt,new Map);g(this,St,new AsyncDisposableStack);S(this,"label");g(this,Ne,[]);g(this,Ms,oo);this.label=e,Array.isArray(r)?a(this,Ne).push(...r):r&&a(this,Ne).push(r),a(this,St).use(a(this,le)),a(this,St).defer(()=>{a(this,Ne).length=0,a(this,Wt).clear()})}get _isAbstract(){return!1}override(e,r){throw new Error("Overrides are only supported in test environments.")}findAllInstances(e){const r=[];if(Kp(e)){for(const[n,i]of a(this,le).entries())for(const o of i){const s=o.getInstance();s instanceof e&&r.push(s)}a(this,Wt).forEach(n=>{n instanceof e&&r.push(n)})}else{const n=new Set([e,...m(this,K,es).call(this,e)]);for(const i of n){for(const s of a(this,le).getAll(i)){const c=s.getInstance();c!==null&&r.push(c)}const o=a(this,Wt).get(i);o!==void 0&&r.push(o)}}for(const n of a(this,Ne))r.push(...n.findAllInstances(e));return r}register(e,r){return a(this,St).disposed?x(new $r):b(m(this,K,by).call(this,e,r),ee(n=>{if(n.override===!1&&a(this,le).has(e.token))return lt(wt);const i=new Go(Zn(e),n);return a(this,le).add(i),lt(()=>a(this,le).remove(i))}))}resolve(e,r){if(a(this,St).disposed)return x(new $r);const n=m(this,K,my).call(this,e);return n===null?x(new Vp(e,void 0)):n.resolve(this,r!=null?r:{})}toString(){const e=Array.from(a(this,le).entries()),r=i=>{const o=Zn(i.provider);switch(o.type){case X.Class:return"class ".concat(o.useClass.name);case X.Factory:return"factory";case X.Token:return se(o.useToken);case X.Value:return"value";default:throw new et(o)}},n=e.length>0?e.map(([i,o])=>" - ".concat(se(i))+" = ".concat(o.map(r).join(", "))).join("\n"):" - (empty)";return"".concat(this.label,"(").concat(a(this,Ne).length,"):\n").concat(n,"\n")+a(this,Ne).map(i=>i.toString()).join("")}[Symbol.asyncDispose](){return a(this,St).disposeAsync()}}le=new WeakMap,Wt=new WeakMap,St=new WeakMap,Ne=new WeakMap,Ms=new WeakMap,K=new WeakSet,vy=function(e){var r,n;return(n=(r=m(this,K,ni).call(this,e))==null?void 0:r.registration)!=null?n:null},ni=function(e){var n;const r=a(this,le).get(e);if(r!==void 0)return{container:this,registration:r};for(const i of a(this,Ne)){const o=m(n=i,K,ni).call(n,e);if(o!==null)return o}return null},my=function(e){var c;const r=m(this,K,ni).call(this,e);if(r===null)return Kp(e)?a(this,St).use(new Go({type:X.Class,token:e,useClass:e},{lifetime:ie.Transient})):null;const{container:n,registration:i}=r;if(n===this)return i;const o=a(n,le).getAll(e);return n._isAbstract&&a(this,le).setAll(e,o.map(u=>new Go(Zn(u.provider),u.options))),o.some(u=>u.options.lifetime===ie.ContainerScoped)&&a(this,le).setAll(e,o.map(u=>u.options.lifetime===ie.ContainerScoped?new Go(Zn(u.provider),u.options):u)),(c=a(this,le).get(e))!=null?c:i},es=function(e){const r=new Set(a(this,Ne).flatMap(i=>{var o;return m(o=i,K,es).call(o,e)})),n=m(this,K,ni).call(this,e);if(r.add(e),n){const{registration:i}=n;if("useToken"in i.provider&&i.provider.useToken&&!r.has(i.provider.useToken))for(const o of m(this,K,es).call(this,i.provider.useToken))r.add(o)}return Array.from(r)},yy=function(e){var r;if(a(this,Wt).has(e))return P(a(this,Wt).get(e));for(const n of a(this,Ne)){const i=m(r=n,K,yy).call(r,e);if(ms(i))return i}return x(new Vp(e))},by=function(e,r){var i,o;if(!a(this,Ms))return P(r!=null?r:{lifetime:ie.Transient});const n=Zn(e);switch(n.type){case X.Factory:{if(!r)return x(new qp(n));break}case X.Class:{if(!r)return x(new qp(n));const s=n.useClass;if(s.length!==0)return x(new dy(n,s.length,0));break}case X.Token:{const s=(i=r==null?void 0:r.lifetime)!=null?i:ie.Transient;if(s!==ie.Transient)return x(new Yp(s,e));const c=[n.token];let u=n;for(;u!==null;){if(c.includes(u.useToken))return x(new tN(e,c,u.useToken));c.push(u.useToken);const l=m(this,K,vy).call(this,u.useToken);l!==null&&"useToken"in l.provider?u=l.provider:u=null}break}case X.Value:{const s=(o=r==null?void 0:r.lifetime)!=null?o:ie.Transient;switch(s){case ie.Singleton:case ie.Transient:break;default:return x(new Yp(s,e))}}}return P(r!=null?r:{lifetime:ie.Transient})};class oN extends gy{constructor(e="",r=null){super(e,r!=null?r:void 0)}get _isAbstract(){return!0}resolve(e,r){return x(new $r)}}const sN=Is(Symbol("EnvConfig"));class Qn extends ${constructor(r){super("Invalid state.");S(this,"current");S(this,"expected");this.current=r.current,this.expected=r.expected}toJSON(){return{...super.toJSON(),current:this.current,expected:this.expected}}}let Hr=class extends ${constructor(r,n,i){super("Error ".concat(r?'in "'.concat(r,'" plugin '):"","was caught and suppressed during ").concat(i,"."),n);S(this,"plugin");this.plugin=r}};class aN extends ${constructor(r){super("Entity not found");S(this,"plugin");S(this,"entity");this.plugin=r.plugin,this.entity=r.entity}toJSON(){return{...super.toJSON(),plugin:this.plugin,entity:this.entity}}}class cN extends ${constructor(r){super("Entity already registered");S(this,"plugin");S(this,"entity");this.plugin=r.plugin,this.entity=r.entity}toJSON(){return{...super.toJSON(),plugin:this.plugin,entity:this.entity}}}class uN extends ${constructor(r,n,i){super("Execution scope already exists.");S(this,"scope");S(this,"associatedPlugin");S(this,"currentPlugin");this.scope=r,this.associatedPlugin=n,this.currentPlugin=i}toJSON(){return{...super.toJSON(),scope:this.scope,associatedPlugin:this.associatedPlugin,currentPlugin:this.currentPlugin}}}class gu extends ${constructor(r,n){super("Execution scope not found.");S(this,"scope");S(this,"scopeId");S(this,"kind","ExecutionScopeNotFoundError");this.scope=r,this.scopeId=n}toJSON(){return{...super.toJSON(),scope:this.scope,scopeId:this.scopeId}}}class lN extends ${constructor(r,n,i){super("Failed to resolve dependency.",i);S(this,"token");S(this,"pluginPackage");this.token=r,this.pluginPackage=n}toJSON(){return{...super.toJSON(),token:se(this.token),pluginPackage:this.pluginPackage}}}class fN extends ${constructor(r,n){super("Failed to activate plugin.",n);S(this,"plugin");this.plugin=r}toJSON(){return{...super.toJSON(),plugin:this.plugin}}}class dN extends ${constructor(r){super("Plugin not found.");S(this,"plugin");this.plugin=r}toJSON(){return{...super.toJSON(),plugin:this.plugin}}}class pN extends ${constructor(r){super("Plugin does not expose a valid API.");S(this,"plugin");this.plugin=r}toJSON(){return{...super.toJSON(),plugin:this.plugin}}}var Ht;class hN{constructor(){g(this,Ht,new Map)}add(e,r){const n=new Xp(e,r.token);return a(this,Ht).has(n.toString())?x(new cN(n)):(a(this,Ht).set(n.toString(),r),P(lt(()=>a(this,Ht).delete(n.toString()))))}get(e,r,n){const i=new Xp(e,r),o=a(this,Ht).get(i.toString());return o?"useFactory"in o?P(o.useFactory):n.resolve(o.useToken):x(new aN(i))}[Symbol.dispose](){a(this,Ht).clear()}}Ht=new WeakMap;class Xp{constructor(e,r){S(this,"plugin");S(this,"entity");this.plugin=e,this.entity=r}toString(){var e;return"".concat((e=this.plugin)!=null?e:"",":").concat(this.entity)}}const ir=[];function $t(){var t;return(t=ir[ir.length-1])!=null?t:null}function gN(){var t;return(t=ir[ir.length-2])!=null?t:null}function Sy(t){ir.push(t)}function vu(){ir.pop()}function Ye(t,e){try{return Sy(t),e()}finally{vu()}}function vN(){const t=$t();for(let e=ir.length-1;e>=0;e--){const r=ir[e];if(r!==t)return r}return null}const mN=Is(Symbol("CurrentExecutionScope"));var U,Li,Ui,q,ot,Xe,Jt,vr,Kt,vn,fe,Vt,Yt,mn,de,Bi,A,_t,V,_y,mu,Ey,ii,yu,wy;class yN{constructor(e,r,n=null){g(this,V);S(this,"id");S(this,"name");S(this,"owningPlugin");S(this,"initializationData");g(this,U);g(this,Li);g(this,Ui,null);g(this,q);g(this,ot);g(this,Xe);g(this,Jt);g(this,vr);g(this,Kt);g(this,vn);g(this,fe);g(this,Vt);g(this,Yt);g(this,mn);g(this,de);g(this,Bi);g(this,A,{kind:"created"});g(this,_t);S(this,"ancestors");var o,s;v(this,q,new AsyncDisposableStack),a(this,q).defer(()=>a(this,Jt).clear()),this.id=(s=(o=e.id)!=null?o:n==null?void 0:n.id)!=null?s:tr(),this.initializationData=e.data,this.name=e.name,v(this,U,E.createLogger("ExecutionScopeController|".concat(this.name,"|").concat(this.id))),v(this,Li,Date.now()),this.owningPlugin=e.plugin,this.ancestors=r?[{scopeName:r.name,scopeId:r.id,owningPlugin:e.plugin},...r.ancestors]:[],v(this,ot,e.executionScopeService),v(this,Xe,r),v(this,Jt,new Set),v(this,vr,a(this,q).use(new hN)),v(this,_t,n!==null),v(this,mn,e.realm),v(this,Bi,e.getExecutionScopeProxy),v(this,vn,a(this,q).use(Ss.startSpan("ExecutionScope",{attributes:{id:this.id,name:e.name}}))),v(this,Kt,a(this,q).use(new gy("ExecutionScope(".concat(e.name,")"),r?[e.definitionsContainer,a(r,Kt)]:[e.definitionsContainer]))),v(this,Vt,e.activationsInProgress),v(this,Yt,e),v(this,de,{onStart:Array.from(e.callbacks.onStart),onStop:Array.from(e.callbacks.onStop)}),a(this,de).onStart.forEach(c=>{a(this,U).verbose('onStart "'.concat(c.plugin,'" copied'))});const i=e.realm;v(this,fe,{id:this.id,name:e.name,hierarchy:r?[...a(r,fe).hierarchy,this.id]:[this.id],realm:i.kind==="background"?{kind:"background",registerEntity:c=>a(this,vr).add($t(),c)}:{kind:"foreground",connection:i.connection,resolveEntity:(c,{entity:u,disposable:l})=>{const f=$t(),d=new AbortController;return a(this,q).use(l),a(this,q).defer(()=>d.abort()),b(i.background.getEntity({plugin:f,entity:c,scopeId:this.id,scopeName:this.name}),D(({id:p,transport:h})=>({entity:new yi(h,{handler:u,logger:{location:"Foreground",name:"RemoteEntity/".concat(f,"/").concat(c),context:p}}).createClient(),connection:d.signal})))}},resolve:(c,u)=>a(this,Kt).resolve(c,u),createExecutionScopeController:(c,u)=>this.createExecutionScopeController(c,u),observeExecutionScope:c=>({onStart:u=>a(this,ot).registerOnStartCallback(c,u,{condition:l=>l.hierarchy.includes(this.id)}),onStop:u=>a(this,ot).registerOnStopCallback(c,u,{condition:l=>l.hierarchy.includes(this.id)})}),serialize:()=>this.serialize({childList:!0,ancestors:!0})}),a(this,q).defer(async()=>{await m(this,V,_y).call(this)})}get instantiationOrder(){var e;return(e=a(this,Ui))!=null?e:a(this,Li)}get realm(){return a(this,fe).realm}get isReviving(){return a(this,_t)}get isRunning(){return a(this,A).kind==="started"}resume(){a(this,_t)&&(v(this,_t,!1),a(this,A).kind==="started"&&m(this,V,ii).call(this))}start(){switch(a(this,A).kind){case"created":return m(this,V,Ey).call(this);case"starting":return b(a(this,A).task,D(()=>a(this,fe)));case"started":return R(a(this,fe));case"stopping":case"stopped":case"error":return Z(new Qn({current:"stopping",expected:"created"}));default:return Z(new et(a(this,A)))}}getContainerForTesting(){return x(new $("This method is available only in test mode."))}getParentForTesting(){return x(new $("This method is available only in test mode."))}getChildrenForTesting(){throw new $("This method is available only in test mode.")}register(e,r){return a(this,Kt).register(e,{lifetime:ie.Transient,...r})}serialize(e={childList:!1,ancestors:!0}){const r={id:this.id,scope:this.name,owningPlugin:this.owningPlugin,instantiationOrder:this.instantiationOrder,children:e.childList?Array.from(a(this,Jt)).map(n=>n.serialize({childList:!0,ancestors:!1})):[],shouldSynchronizeChildren:e.childList,initializationData:this.initializationData,isForkRoot:e.ancestors===!0};if(e.ancestors){let n=a(this,Xe),i=[r];for(;n;)i=[{...n.serialize({childList:!1,ancestors:!1}),children:i,shouldSynchronizeChildren:!1}],n=a(n,Xe);return i[0]}return r}createExecutionScopeController(e,r){return b(a(this,ot).createExecutionScopeController(e,r),ee(ze(n=>m(this,V,mu).call(this,n))))}createExecutionScopeFromSerialized(e){return b(a(this,ot).createExecutionScopeControllerFromSerialized(e),ee(ze(r=>m(this,V,mu).call(this,r))))}getExecutionScope(e){return a(this,ot).getExecutionScopeDefinition(e)}onStart(e,r){const n={...e,condition:i=>r.aborted?!1:e.condition(i)};switch(a(this,A).kind){case"created":a(this,de).onStart.push(n);break;case"started":a(this,de).onStart.push(n),b(a(this,Vt).waitUntilUnlocked(),N(()=>m(this,V,ii).call(this)));break;case"starting":a(this,de).onStart.push(n),b(a(this,A).task,N(()=>a(this,Vt).waitUntilUnlocked()),N(()=>m(this,V,ii).call(this)));break;case"error":case"stopping":case"stopped":a(this,U).warn('Ignoring onStart "'.concat(e.plugin,'" (status:').concat(a(this,A).kind,")"),{delivery:!1});break;default:throw new et(a(this,A))}}onStop(e,r){const n={...e,condition:i=>r.aborted?!1:e.condition(i)};switch(a(this,A).kind){case"created":case"starting":case"started":a(this,de).onStop.push(n);break;case"error":case"stopping":case"stopped":a(this,U).warn('Ignoring onStop "'.concat(e.plugin,'" (status:').concat(a(this,A).kind,")"),{delivery:!1});break;default:throw new et(a(this,A))}}use(e){return a(this,q).use(e)}registerEntity(e,r){return a(this,U).verbose('Registering entity provider "'.concat(r.token,'" in "').concat(this.name,'" scope for plugin "').concat(e,'".')),a(this,vr).add(e,r)}resolveEntity(e,r,n,i){return b(a(this,vr).get(e,r,a(this,fe)),ee(o=>{const s=new MessageChannel,c=Promise.withResolvers(),u=T1(kt(()=>c.promise)),l=tr(),f=o({entity:u,connection:n});a(this,q).use(f.disposable);const d=new yi(mi(s.port1),{handler:f.entity,logger:{location:"Background",name:"LocalEntity/".concat(e,"/").concat(r),context:"".concat(i,"|").concat(l)}});return a(this,q).use(d),c.resolve(d.createClient()),{id:l,transport:mi(s.port2)}}))}findExecutionScopeController(e,r){return a(this,ot).findExecutionScopeController(e,r)}entangle(e){if(a(this,mn).kind==="background"){var r=[];try{const s=ce(r,new DisposableStack);return b(a(this,mn).entangle(e),It.use(s),ee(()=>s.move()))}catch(n){var i=n,o=!0}finally{ue(r,i,o)}}else return x(new $("Foreground realm does not support entanglement."))}[Symbol.asyncDispose](){return a(this,q).disposeAsync()}}U=new WeakMap,Li=new WeakMap,Ui=new WeakMap,q=new WeakMap,ot=new WeakMap,Xe=new WeakMap,Jt=new WeakMap,vr=new WeakMap,Kt=new WeakMap,vn=new WeakMap,fe=new WeakMap,Vt=new WeakMap,Yt=new WeakMap,mn=new WeakMap,de=new WeakMap,Bi=new WeakMap,A=new WeakMap,_t=new WeakMap,V=new WeakSet,_y=function(){var e;switch(a(this,A).kind){case"created":return Z(new Qn({current:"created",expected:"started"}));case"starting":return b(a(this,A).task,N(()=>m(this,V,yu).call(this)));case"started":return m(this,V,yu).call(this);case"stopping":return a(this,A).task;case"stopped":return R();case"error":return Z((e=a(this,A).error)!=null?e:new Qn({current:"error",expected:"started"}));default:return Z(new et(a(this,A)))}},mu=function(e){a(this,Jt).add(e),a(this,q).use(e)},Ey=function(){if(a(this,A).kind!=="created")return Z(new Qn({current:a(this,A).kind,expected:"created"}));a(this,U).verbose('Starting "'.concat(this.name,'" scope(').concat(this.id,").")),v(this,Ui,Date.now());const e=Promise.withResolvers(),r=a(this,vn).startSpan("start");return v(this,A,{kind:"starting",task:kt(()=>e.promise)}),b(a(this,Kt).register({token:mN,useFactory:()=>{var i;const n=(i=gN())!=null?i:$t();return P(a(this,Bi).call(this,n,a(this,fe)))}},{lifetime:ie.Transient}),gl.use(a(this,q)),N(()=>a(this,Yt).onBeforeStart()),oe(n=>(a(this,U).error(new Hr(null,n,'starting of "'.concat(this.name,'" scope'))),R())),N(()=>a(this,Vt).waitUntilUnlocked()),N(()=>m(this,V,ii).call(this)),D(()=>(v(this,A,{kind:"started"}),e.resolve(),b(a(this,Yt).onAfterStart(),oe(n=>(a(this,U).error(new Hr(null,n,'starting of "'.concat(this.name,'" scope'))),R()))),a(this,U).verbose('"'.concat(this.name,'" scope(').concat(this.id,") has been started.")),a(this,Xe)?a(this,U).verbose('Adding "'.concat(this.name,'" scope to parent "').concat(a(this,Xe).name,'".')):a(this,U).verbose('"'.concat(this.name,'" scope is a root scope.')),a(this,fe))),bs(r),xt(ze(n=>{v(this,A,{kind:"error",error:n}),a(this,U).error('"'.concat(this.name,'" scope(').concat(this.id,") has failed to start."),n),e.reject(n)})))},ii=function(){if(a(this,_t)||a(this,de).onStart.length===0)return R();const e=a(this,de).onStart.slice();a(this,U).verbose("Executing onStart ".concat(e.length,' callback(s) for "').concat(this.name,"(").concat(this.id,')".')),a(this,de).onStart.length=0;const r=e.map(({plugin:n,callback:i,condition:o})=>o(a(this,fe))?(a(this,U).verbose('onStart from "'.concat(n,'" executing...: ').concat(i.toString())),b(i(a(this,fe)),An(ze(()=>a(this,U).verbose('onStart from "'.concat(n,'" finished.')))),D(s=>{s&&a(this,q).use(s)}),oe(s=>(a(this,U).error(new Hr(n,s,'onStart callback of "'.concat(this.name,'" scope'))),R())))):R());return b(vi(r),D(wt))},yu=function(){if(a(this,A).kind!=="started")return Z(new Qn({current:a(this,A).kind,expected:"started"}));const e=Promise.withResolvers(),r=a(this,vn).startSpan("stop");return v(this,A,{kind:"stopping",task:kt(()=>e.promise)}),a(this,Xe)&&(a(a(this,Xe),Jt).delete(this),a(this,U).verbose('Removing "'.concat(this.name,'" scope from parent "').concat(a(this,Xe).name,'".'))),b(a(this,Yt).onBeforeStop(),oe(n=>(a(this,U).error(new Hr(null,n,'stopping of "'.concat(this.name,'" scope'))),R())),N(()=>a(this,Vt).waitUntilUnlocked()),N(()=>m(this,V,wy).call(this)),D(()=>{v(this,A,{kind:"stopped"}),b(a(this,Yt).onAfterStop(),oe(n=>(a(this,U).error(new Hr(null,n,'stopping of "'.concat(this.name,'" scope'))),R()))),a(this,U).verbose('"'.concat(this.name,'" scope(').concat(this.id,") has been stopped.")),e.resolve()}),bs(r),xt(ze(n=>{v(this,A,{kind:"error",error:n}),e.reject(n)})))},wy=function(){if(a(this,_t)||!a(this,de).onStop.length)return R();const e=a(this,de).onStop.slice();a(this,U).verbose("Executing onStop ".concat(e.length," callback(s).")),a(this,de).onStart.length=0;const r=e.map(({plugin:n,callback:i,condition:o})=>o(a(this,fe))?(a(this,U).verbose('onStop from "'.concat(n,'" executing...: ').concat(i.toString())),b(i(a(this,fe)),oe(s=>(a(this,U).error(new Hr(n,s,'onStop callback of "'.concat(this.name,'" scope'))),R())))):R());return b(vi(r),D(wt))};function bN(t){return!0}function SN(t){var r;const e={staticBundles:vc((r=t.staticBundles)!=null?r:{}),dynamicBundles:vc(t.dynamicBundles),metadata:vc(t.metadata)};return{async load(n){return kt(async()=>{var o,s;const i=(s=(o=e.staticBundles)==null?void 0:o[n])!=null?s:e.dynamicBundles[n];if(!i)throw new Zp("@grammarly/plugin-".concat(n));return typeof i=="function"?await i():i})},loadMetadata(n){return hl(()=>{var s;const i=e.metadata[n];if(!i)throw new Zp("@grammarly/plugin-".concat(n,"/package.json"));const o=i.inkwell;if(!bN(o))throw new _N("Invalid inkwell metadata: ".concat(n));return{packageName:n.startsWith("@grammarly/plugin-")?n:"@grammarly/plugin-".concat(n),dependencies:Object.keys({...i.dependencies}).filter(c=>c.startsWith("@grammarly/plugin-")).map(c=>c.slice(18)),optionalDependencies:Object.keys({...i.optionalDependencies}).filter(c=>c.startsWith("@grammarly/plugin-")).map(c=>c.slice(18)),experiments:Object.fromEntries(Object.entries((s=o==null?void 0:o.experiments)!=null?s:{}).map(([c,{treatments:u}])=>[c,Object.keys(u)])),gates:Object.keys({...o==null?void 0:o.gates})}})}}}function vc(t){return Object.fromEntries(Object.entries(t).map(([e,r])=>{let n=e;if(n.endsWith("/package.json")&&(n=n.slice(0,-13)),n.endsWith("/src/index.ts")&&(n=n.slice(0,-13)),n=n.split("/").pop(),n.startsWith("plugin-"))n=n.slice(7);else throw new $("Invalid plugin module: ".concat(e));return[n,r]}))}class Zp extends ${constructor(r){super("Module not found: ".concat(r));S(this,"moduleId");this.moduleId=r}}class _N extends ${constructor(r){super("Invalid metadata: ".concat(r));S(this,"moduleId");this.moduleId=r}}function tj(t){for(const e of t)return e}function EN(t){return function*(e){for(const r of e)t(r)&&(yield r)}}function rj(t){return function*(e){for(const r of e){if(t<=0)break;yield r,t--}}}function nj(t){for(const e of t);}function ij(t){return function*(e){for(const r of e){if(!t(r))return;yield r}}}function Ts(t){return function*(e){for(const r of e)yield t(r)}}function oj(t){return function*(e){for(const r of e)yield*t(r)}}function*sj(t){const e=new Set;for(const r of t)e.has(r)||(e.add(r),yield r)}function aj(...t){return function*(e){yield*e;for(const r of t)yield*r}}function*cj(...t){for(const e of t)yield*e}function*uj(t,e){const r=t[Symbol.iterator](),n=e[Symbol.iterator]();for(;;){const i=r.next(),o=n.next();if(i.done||o.done)break;yield[i.value,o.value]}}function lj(t){return Array.isArray(t)?t:[...t]}function fj(t){return t instanceof Set?t:new Set(t)}function dj(t,e){const r=new Map;let n=0;for(const i of t){const o=e(i,n++),s=r.get(o);s?s.push(i):r.set(o,[i])}return r}async function wN(t={}){var i,o;var s=[];try{const e=ce(s,new DisposableStack);const r=(i=t.id)!=null?i:tr();const n=(o=t.otherId)!=null?o:tr();return await b(Qp(r),An(It.use(e)),N(f=>b(Qp(n),An(It.use(e)),D(d=>[f,d]))),D(([f,d])=>{const p=e.move();return b(d.held,oe(h=>h instanceof bu?R():Z(h)),N(()=>{var y;if(p.disposed)return R();(y=t.onConnection)==null||y.call(t);const h=new AbortController;return p.defer(()=>h.abort()),$y(d.id,h.signal)}),D(()=>{var h;p.disposed||(h=t.onConnectionLost)==null||h.call(t)}),oe(h=>(h instanceof ky||(t.onConnectionError?t.onConnectionError(h):E.error(h)),R()))),b(f.held,oe(h=>(t.onConnectionError?t.onConnectionError(h):E.error(h),R()))),{id:n,otherId:r,[Symbol.dispose]:()=>p.dispose()}}))}catch(c){var u=c,l=!0}finally{ue(s,u,l)}}async function $N(t,e={}){var n=[];try{const r=ce(n,new DisposableStack);return await b(kN(t.id),An(It.use(r)),D(c=>{const u=r.move(),l=new AbortController;return u.defer(()=>l.abort()),queueMicrotask(()=>{var f;u.disposed||(f=e.onConnection)==null||f.call(e)}),b($y(t.otherId,l.signal),D(()=>{var f;u.disposed||(f=e.onConnectionLost)==null||f.call(e)}),oe(f=>{var d;return u.disposed||(d=e.onConnectionError)==null||d.call(e,f),R()})),b(c.held,oe(f=>{var d;return u.disposed||(d=e.onConnectionError)==null||d.call(e,f),R()})),u}))}catch(i){var o=i,s=!0}finally{ue(n,o,s)}}function Qp(t){return Fl(t,{mode:"exclusive"})}function kN(t){return Fl(t,{mode:"exclusive",steal:!0})}function Fl(t,e){var c;const r=new DisposableStack,n=new AbortController,i=Promise.withResolvers(),o=Promise.withResolvers();(c=e.signal)==null||c.addEventListener("abort",()=>r.dispose(),{signal:n.signal});const s=b(kt(()=>navigator.locks.request(t,e,u=>u?(i.resolve(),o.promise):i.reject(new IN))),xt(u=>u.name==="AbortError"?new bu:u.name==="DOMException"&&/(steal|stolen)/i.test(u.message)?new bu:u));return r.defer(()=>{i.reject(new ky),o.resolve(),n.abort()}),b(kt(()=>i.promise),D(()=>({id:t,held:s,[Symbol.dispose]:()=>r.dispose()})))}function $y(t,e){return b(Fl(t,{mode:"exclusive",signal:e}),D(r=>Zv(r)))}class bu extends ${constructor(){super("Lock stolen");S(this,"kind","LockStolenError")}}class IN extends ${constructor(){super("Lock failed");S(this,"kind","LockFailedError")}}class ky extends ${constructor(){super("Lock disposed");S(this,"kind","LockDisposedError")}}function TN(t){return new Os("global",t)}var pe,je,mr,st,qt,yr,br,Sr,ve,ts,Kr,Su;const Wl=class Wl{constructor(e,r,n=null){g(this,ve);S(this,"name");g(this,pe);g(this,je);g(this,mr,new AsyncDisposableStack);g(this,st);g(this,qt,new Map);g(this,yr);g(this,br,new Set);g(this,Sr,new Set);this.name=e,v(this,st,E.createLogger("ExecutionScopeDefinition|".concat(this.name))),v(this,je,r),v(this,pe,n!=null?n:{scopeDefinitionMap:new Map([[this.name,{plugin:null,definition:this}]]),controllerMap:new Map,entangledRealms:new Set}),v(this,yr,new oN("ExecutionScopeDefinition(".concat(this.name,")"))),a(this,mr).use(a(this,yr)),a(this,mr).defer(()=>{a(this,br).clear(),a(this,Sr).clear(),a(this,qt).clear()})}create(e){return m(this,ve,ts).call(this,null,e)}createWithSerializedExecutionScopeData(e){return m(this,ve,ts).call(this,null,e)}getExecutionScopeDefinition(e){return m(this,ve,Kr).call(this,e).definition}getInstancesForTesting(){return x(new $("This method is only available in test mode"))}register(e,r){return a(this,yr).register(e,{lifetime:ie.Transient,...r})}onStart(e,{condition:r}={}){const n=$t();n===null&&a(this,st).warn("onStart callback is being registered outside of a plugin context: "+e.toString(),{delivery:!1});const i={plugin:n,callback:e,condition:r!=null?r:()=>!0};a(this,br).add(i),a(this,st).verbose('onStart "'.concat(n,'" added'));const o=new AbortController;for(const s of a(this,qt).values())a(this,st).verbose('onStart "'.concat(n,'" forwarded for instance "').concat(s.id,'"')),s.onStart(i,o.signal);return lt(()=>{o.abort(),a(this,br).delete(i)})}onStop(e,{condition:r}={}){const n=$t();n===null&&a(this,st).warn("onStop callback is being registered outside of a plugin context",{delivery:!1});const i={plugin:n,callback:e,condition:r!=null?r:()=>!0};a(this,Sr).add(i);const o=new AbortController;for(const s of a(this,qt).values())s.onStop(i,o.signal);return lt(()=>{o.abort(),a(this,Sr).delete(i)})}[Symbol.asyncDispose](){return a(this,mr).disposeAsync()}};pe=new WeakMap,je=new WeakMap,mr=new WeakMap,st=new WeakMap,qt=new WeakMap,yr=new WeakMap,br=new WeakMap,Sr=new WeakMap,ve=new WeakSet,ts=function(e=null,r){const n=$t(),i={id:r.id,data:"data"in r?r.data:r.initializationData},o="initializationData"in r?r:null,s=new yN({id:i.id,name:this.name,data:i.data,realm:a(this,je).background?{kind:"foreground",connection:a(this,je).connection,background:a(this,je).background}:{kind:"background",entangle:c=>{var l=[];try{const u=ce(l,new DisposableStack);a(this,pe).entangledRealms.add(c);u.defer(()=>a(this,pe).entangledRealms.delete(c));return P(u.move())}catch(f){var d=f,p=!0}finally{ue(l,d,p)}}},plugin:n,executionScopeService:{getExecutionScopeDefinition:c=>m(this,ve,Kr).call(this,c).definition,createExecutionScopeController:(c,u)=>m(this,ve,Su).call(this,c,s,u),createExecutionScopeControllerFromSerialized:c=>m(this,ve,Su).call(this,c.scope,s,c),registerOnStartCallback:(c,u,l)=>m(this,ve,Kr).call(this,c).definition.onStart(u,l),registerOnStopCallback:(c,u,l)=>m(this,ve,Kr).call(this,c).definition.onStop(u,l),findExecutionScopeController:(c,u)=>{const l=a(this,pe).controllerMap.get(u);return l?P(l):x(new gu(c,u))}},definitionsContainer:a(this,yr),activationsInProgress:a(this,je).activationsInProgress,getExecutionScopeProxy:a(this,je).getExecutionScopeProxy,onBeforeStart:()=>(a(this,pe).controllerMap.set(s.id,s),a(this,je).onBeforeStart(this.name)),onAfterStart:()=>{if(!e)return R();const c={scopeName:s.name,scopeId:s.id,owningPlugin:n,ancestors:s.ancestors,initializationData:s.initializationData};for(const u of a(this,pe).entangledRealms)b(u.onExecutionScopeStarted(c),xt(ze(l=>a(this,st).error("Failed to notify entangled realm about scope start",l))));return R()},onBeforeStop:()=>(a(this,qt).delete(s.id),a(this,pe).controllerMap.delete(s.id),a(this,je).onBeforeStop(this.name)),onAfterStop:()=>{const c={scopeName:s.name,scopeId:s.id};for(const u of a(this,pe).entangledRealms)b(u.onExecutionScopeStopped(c),xt(ze(l=>a(this,st).error("Failed to notify entangled realm about scope stop",l))));return R()},callbacks:{onStart:Array.from(a(this,br)),onStop:Array.from(a(this,Sr))}},e,o);return a(this,qt).set(s.id,s),a(this,mr).use(s)},Kr=function(e){const r=a(this,pe).scopeDefinitionMap.get(e);if(r)return r;const n=new Wl(e,a(this,je),a(this,pe));return a(this,pe).scopeDefinitionMap.set(e,{plugin:null,definition:n}),{plugin:null,definition:n}},Su=function(e,r=null,n){var c;const{plugin:i,definition:o}=m(this,ve,Kr).call(this,e),s=$t();if(e==="global"&&s!==null)return x(new $("Global scope cannot be associated with a plugin"));if(s!==null){if(i===null)a(this,pe).scopeDefinitionMap.set(e,{plugin:s,definition:o});else if(s!==null&&i!==s)return x(new uN(e,i,s))}return P(m(c=o,ve,ts).call(c,r,n))};let Os=Wl;var at;class Iy{constructor(){g(this,at,new r1(0));S(this,"isLocked",{subscribe:e=>b(a(this,at),pm(r=>r>0),gm(e)),getValue:()=>a(this,at).getValue()>0})}acquire(){return a(this,at).next(a(this,at).value+1),lt(()=>this.release())}release(){a(this,at).next(a(this,at).value-1)}waitUntilUnlocked(){return b(kt(()=>b(a(this,at),E1(e=>e===0),S1)),D(wt))}}at=new WeakMap;function Ct(t,e){return new Proxy(t,{get:(r,n)=>{const i=Reflect.get(e,n);if(i!==void 0)return typeof i=="function"?new Proxy(i,{get:(s,c)=>c==="toString"?Reflect.get(Reflect.get(s,c),"toString"):Reflect.get(s,c)}):i;const o=Reflect.get(r,n,r);return typeof o=="function"?function(...s){return Reflect.apply(o,r,s)}:o}})}function ON(t){return new PN(t)}var ke,_r,Me,zi,Fe,Xt,yn,bn,Zt,Ze,B,Ty,Oy,Py,xy,Ry,_u,Dy,Eu,wu,$u;class PN{constructor(e){g(this,B);g(this,ke,E.createLogger("ExecutionScopeReviver"));g(this,_r);g(this,Me);g(this,zi);g(this,Fe);g(this,Xt,new Iy);g(this,yn,new Map);g(this,bn);g(this,Zt);g(this,Ze);v(this,_r,new AsyncDisposableStack),v(this,Me,e);const r=new yi(mi(e.backgroundPort),{logger:{location:"Foreground",name:"RealmEntanglement"},handler:{onExecutionScopeStarted:c=>m(this,B,Ty).call(this,c),onExecutionScopeStopped:c=>m(this,B,xy).call(this,c)}});a(this,ke).verbose("Reviving execution scopes from:",a(this,Me).executionScopeData),v(this,bn,r.createClient());const n=a(this,_r).use(new Os("global",{...a(this,Me),background:a(this,bn)}));v(this,zi,n),v(this,Fe,a(this,_r).use(n.createWithSerializedExecutionScopeData(a(this,Me).executionScopeData))),a(this,Xt).acquire();let i=[{scopeName:"global",scopeId:e.executionScopeData.id}];const o=new Set(e.entangledScopes),s=new Set(["global",...o]);xN(a(this,Me).executionScopeData,(c,u)=>{if(c.isForkRoot&&(i=Array.from(u).reverse().map(l=>({scopeName:l.scope,scopeId:l.id})),i.push({scopeName:c.scope,scopeId:c.id})),o.has(c.scope))for(const l of u)s.add(l.scope)}),v(this,Zt,i),e.entangledScopes?v(this,Ze,{configured:o,allowed:s}):v(this,Ze,null)}getExecutionScopeDefinition(e){return a(this,zi).getExecutionScopeDefinition(e)}create(){return Ct(a(this,Fe),{start:()=>b(a(this,Fe).start(),N(e=>b(m(this,B,Ry).call(this,e),An(ze(()=>a(this,Xt).release())),D(()=>e))))})}registerReviver(e,r,n){return a(this,ke).verbose('Registering reviver for "'.concat(e,'" execution scope from "').concat(r,'" plugin.')),a(this,yn).set(n,{scope:e,plugin:r,reviver:n}),lt(()=>a(this,yn).delete(n))}[Symbol.asyncDispose](){return a(this,_r).disposeAsync()}}ke=new WeakMap,_r=new WeakMap,Me=new WeakMap,zi=new WeakMap,Fe=new WeakMap,Xt=new WeakMap,yn=new WeakMap,bn=new WeakMap,Zt=new WeakMap,Ze=new WeakMap,B=new WeakSet,Ty=async function(e){if(a(this,ke).verbose('Received broadcast for "'.concat(e.scopeName,"(").concat(e.scopeId,')" scope.')),!e.ancestors.at(0)||(await a(this,Xt).waitUntilUnlocked(),!m(this,B,$u).call(this,e,e.ancestors))||ms(a(this,Fe).findExecutionScopeController(e.scopeName,e.scopeId)))return P();const n=new Map,i=e.ancestors.filter((s,c)=>{const u=a(this,Fe).findExecutionScopeController(s.scopeName,s.scopeId);return ms(u)?(n.set(s.scopeId,u.value.serialize({childList:!1,ancestors:!1})),!1):(n.set(s.scopeId,{id:s.scopeId,owningPlugin:s.owningPlugin,scope:s.scopeName,instantiationOrder:Date.now()-c-1,children:[],shouldSynchronizeChildren:!1,isForkRoot:!1,initializationData:null}),!0)});if(i.length>0){const s=await b(a(this,bn).getExecutionScopeInitializationData({scopes:i}),D(c=>c.forEach(u=>{const l=n.get(u.scopeId);n.set(u.scopeId,{...l,initializationData:u.initializationData})})));if(xe(s))return a(this,ke).verbose('Could not find ancestors for "'.concat(e.scopeName,"(").concat(e.scopeId,')" scope. Failing the revival.')),s}const o=e.ancestors.reduce((s,c)=>({...n.get(c.scopeId),children:[s]}),{owningPlugin:e.owningPlugin,id:e.scopeId,scope:e.scopeName,instantiationOrder:Date.now(),children:[],shouldSynchronizeChildren:!(a(this,Ze)&&a(this,Ze).configured.has(e.scopeName)),initializationData:e.initializationData,isForkRoot:!1});return m(this,B,Oy).call(this,o)},Oy=async function(e){let r=e,n=e.children.at(0);for(;n;){if(xe(a(this,Fe).findExecutionScopeController(n.scope,n.id))){const i=await m(this,B,Py).call(this,r,n);if(xe(i))return i}r=n,n=n.children.at(0)}return P()},Py=async function(e,r){return a(this,ke).verbose('Reviving remote execution scope "'.concat(r.scope,"(").concat(r.id,')".')),await b(a(this,Fe).findExecutionScopeController(e.scope,e.id),pl(n=>b(m(this,B,wu).call(this,n,r),ee(i=>({parentController:n,revivedController:i})))),kr,N(async({parentController:n,revivedController:i})=>{var s=[];try{const o=ce(s,a(this,Xt).acquire());return await b(n.start(),D(f=>m(this,B,_u).call(this,i,f)),D(()=>i.controller.resume()))}catch(c){var u=c,l=!0}finally{ue(s,u,l)}}),oe(n=>n instanceof gu?R():Z(n)),xt(ze(n=>a(this,ke).error("Unexpected error on remote execution scope start",n))))},xy=async function(e){return await a(this,Xt).waitUntilUnlocked(),b(a(this,Fe).findExecutionScopeController(e.scopeName,e.scopeId),kr,N(r=>kt(()=>la(r))),oe(r=>r instanceof gu?R():Z(r)),xt(ze(r=>a(this,ke).error("Unexpected error on remote execution scope stop",r))))},Ry=function(e){return b(m(this,B,Eu).call(this,a(this,Fe),a(this,Me).executionScopeData.children),ee(r=>r.sort((n,i)=>n.data.instantiationOrder-i.data.instantiationOrder)),kr,N(async r=>{for(const n of r){const i=await m(this,B,_u).call(this,n,e);if(xe(i))return i}for(const{controller:n}of r)n.resume();return P()}))},_u=async function({owningPlugin:e,controller:r,data:n},i){return m(this,B,$u).call(this,{scopeName:r.name,scopeId:r.id},r.ancestors)?Kx(async o=>{e&&await o(e.activate()),await o(a(this,Me).activationsInProgress.waitUntilUnlocked());const s=m(this,B,Dy).call(this,n.scope,n.owningPlugin);return a(this,ke).verbose('Reviving "'.concat(n.scope,'" scope(').concat(n.id,").")),await o(s(r,i,n.initializationData)),P()}):(a(this,ke).verbose('Skipping revival of "'.concat(n.scope,"(").concat(n.id,')" scope as it is not entangled.')),P())},Dy=function(e,r){for(const n of a(this,yn).values())if(n.scope===e&&n.plugin===r)return n.reviver;return r&&a(this,ke).verbose('The "'.concat(r,'" plugin did not register a reviver for the "').concat(e,'" scope. Using the default reviver.')),n=>n.start()},Eu=function(e,r){const n=[];for(const i of r){const o=m(this,B,wu).call(this,e,i);if(xe(o))return o;const s=o.value;n.push(s);const c=m(this,B,Eu).call(this,s.controller,s.data.children);if(xe(c))return c;n.push(...c.value)}return P(n)},wu=function(e,r){const n=r.owningPlugin?a(this,Me).findPlugin(r.owningPlugin):P(null),i=e.createExecutionScopeFromSerialized(r);return Hx({data:P(r),owningPlugin:n,controller:i})},$u=function(e,r){if(!Array.from(r).reverse().slice(0,a(this,Zt).length).every(({scopeName:o,scopeId:s},c)=>{const u=a(this,Zt).at(c);return u?u.scopeName===o&&u.scopeId===s:!1}))return!1;if(r.length<a(this,Zt).length)return a(this,Zt).some(({scopeName:o,scopeId:s})=>e.scopeName===o&&e.scopeId===s);if(!a(this,Ze))return!0;if(a(this,Ze).configured.has(e.scopeName))for(const o of r)a(this,Ze).allowed.add(o.scopeName);return a(this,Ze).allowed.has(e.scopeName)?!0:(a(this,ke).verbose('Skipping "'.concat(e,'" scope revival due configured.'),a(this,Me).entangledScopes),!1)};function xN(t,e){const r=(n,i)=>{e(n,i);for(const o of n.children)r(o,[n,...i])};r(t,[])}var Er,j,Sn,Gi,_n,M,T,Cy,Ay,ku,Iu,oi,Ny,jy,En,My,Tu,Ou,Pu,wn,Fy,xu,Ly,Uy;class RN{constructor({context:e,...r}){g(this,T);g(this,Er);g(this,j);g(this,Sn,new AsyncDisposableStack);g(this,Gi,new Set);g(this,_n,new Set);g(this,M,{kind:"created"});g(this,En,null);g(this,wn,new Set);v(this,j,r);const n=()=>m(this,T,Iu).call(this,e.realm);v(this,Er,Ct(e,{get realm(){return n()},getPlugin:i=>(a(this,Gi).has(i)||a(this,_n).add(i),e.getPlugin(i)),getPlugins:i=>{if(Array.isArray(i))for(const o of i)a(this,Gi).has(o)||a(this,_n).add(o);return e.getPlugins(i)},getExecutionScopeDefinition:i=>Ye(a(this,j).name,()=>m(this,T,Cy).call(this,i,e.getExecutionScopeDefinition(i))),registerExecutionScopeReviver:(i,o)=>Ye(a(this,j).name,()=>e.registerExecutionScopeReviver(i,(s,c,u)=>o(m(this,T,ku).call(this,s.name,s),{resolve:m(this,T,Ou).call(this,c)},u)))}))}get debugName(){var e;return(e=a(this,j).metadata.packageName)!=null?e:a(this,j).name}getExecutionScopeProxy(e){return m(this,T,oi).call(this,e)}load(){switch(a(this,M).kind){case"created":return m(this,T,Ny).call(this);case"loading":return a(this,M).task;case"loaded":case"activating":case"activated":return R();case"error":return Z(a(this,M).error);default:throw new et(a(this,M))}}activate(){switch(a(this,M).kind){case"created":return b(this.load(),N(()=>this.activate()));case"loading":return b(a(this,M).task,N(()=>this.activate()));case"loaded":return m(this,T,jy).call(this,a(this,M).module);case"activating":return a(this,M).task;case"activated":return R();case"error":return Z(a(this,M).error)}}get plugin(){return m(this,T,Uy).call(this)}async[Symbol.asyncDispose](){return a(this,Sn).disposeAsync()}}Er=new WeakMap,j=new WeakMap,Sn=new WeakMap,Gi=new WeakMap,_n=new WeakMap,M=new WeakMap,T=new WeakSet,Cy=function(e,r){return Ct(r,{register:m(this,T,Tu).call(this,e,r,{warnOnLateRegistration:!1}),onStart:n=>Ye(a(this,j).name,()=>r.onStart(i=>n(m(this,T,oi).call(this,i)))),onStop:n=>Ye(a(this,j).name,()=>r.onStop(n))})},Ay=function(e){return Ct(e,{onStart:r=>Ye(a(this,j).name,()=>e.onStart(n=>r(m(this,T,oi).call(this,n)))),onStop:r=>Ye(a(this,j).name,()=>e.onStop(r))})},ku=function(e,r){return Ct(r,{start:()=>b(r.start(),D(n=>m(this,T,oi).call(this,n))),register:m(this,T,Tu).call(this,e,r,{warnOnLateRegistration:!1})})},Iu=function(e){return e.kind==="background"?Ct(e,{registerEntity:r=>Ye(a(this,j).name,()=>e.registerEntity(r))}):Ct(e,{resolveEntity:(r,n)=>Ye(a(this,j).name,()=>e.resolveEntity(r,n))})},oi=function(e){const r=()=>m(this,T,Iu).call(this,e.realm);return Ct(e,{resolve:m(this,T,Ou).call(this,e),observeExecutionScope:n=>Ye(a(this,j).name,()=>m(this,T,Ay).call(this,e.observeExecutionScope(n))),createExecutionScopeController:(n,i)=>Ye(a(this,j).name,()=>b(e.createExecutionScopeController(n,i),ee(o=>m(this,T,ku).call(this,n,o)))),get realm(){return r()}})},Ny=async function(){var n=[];try{const e=ce(n,Ss.startSpan("Plugin.load",{attributes:{name:a(this,j).name}}));const r=b(a(this,j).loader.load(a(this,j).name),bs(e),N(c=>typeof c.activate!="function"?(v(this,M,{kind:"error",module:c,error:new pN(this.debugName)}),Z(a(this,M).error)):(v(this,M,{kind:"loaded",module:c}),R())));v(this,M,{kind:"loading",task:r});return await r}catch(i){var o=i,s=!0}finally{ue(n,o,s)}},jy=async function(e){var s;var c=[];try{const r=ce(c,a(this,j).activation.acquire());(s=Zr())==null||s.recordEvent("activate",{plugin:this.debugName});const n=Ss.startSpan("Plugin.activate",{attributes:{name:a(this,j).name}});E.verbose("Activating plugin ".concat(this.debugName));m(this,T,Ly).call(this,e);const i=a(this,Sn).use(new AsyncDisposableStack);const o=b(e.activate(a(this,Er)),d=>fl(d)?kr(d):d,bs(n),D(d=>{i.use(d!=null?d:null),v(this,M,{kind:"activated",module:e,deactivate:i})}),xt(d=>(v(this,M,{kind:"error",module:e,error:d}),new fN(a(this,j).name,d))),N(()=>b(new Set(a(this,_n)),Ts(d=>a(this,Er).getPlugin(d)),EN(d=>!(xe(d)&&d.error instanceof dN&&a(this,j).metadata.optionalDependencies.includes(d.error.plugin))),Ts(d=>{var h;if(xe(d))return kr(d);const p=d.value;return p.isActivated?R():(E.verbose("Activating dependency ".concat((h=p.metadata.packageName)!=null?h:p.name," for ").concat(this.debugName)),p.activate())}),vi,D(wt),oe(d=>(E.error("Failed to activate dependencies for ".concat(this.debugName),d),R())))));v(this,M,{kind:"activating",module:e,task:o});a(this,Sn).defer(async()=>(await o,i.disposeAsync()));return await o}catch(u){var l=u,f=!0}finally{ue(c,l,f)}},En=new WeakMap,My=function(){var e,r;if(a(this,En))return a(this,En);switch(a(this,M).kind){case"loaded":case"activating":case"activated":return(r=a(this,En))!=null?r:v(this,En,new Map(Object.entries((e=a(this,M).module)!=null?e:{}).map(([n,i])=>[i,n.replace(/Token$/,"")])));default:return new Map}},Tu=function(e,r,n={warnOnLateRegistration:!0}){return(i,o)=>{var f,d;const s=m(this,T,My).call(this).get(i.token),c=s?m(this,T,Pu).call(this,s):void 0,u=a(this,j).name;(f=Zr())==null||f.recordEvent("register",{name:this.debugName,token:se(i.token),alias:c?se(c):void 0,scope:e});const l={lifetime:(d=o==null?void 0:o.lifetime)!=null?d:ie.Transient,onResolution(){var p;Sy(u),(p=o==null?void 0:o.onResolution)==null||p.call(o)},onResolutionSuccess(){var p;vu(),(p=o==null?void 0:o.onResolutionSuccess)==null||p.call(o)},onResolutionFailure(p){var h;vu(),(h=o==null?void 0:o.onResolutionFailure)==null||h.call(o,p)}};return It.all(c?[r.register(i,l),r.register({token:c,useToken:i.token})]:[r.register(i,l)])}},Ou=function(e){return(r,n)=>Ye(a(this,j).name,()=>b(e.resolve(r,n),dl(i=>new lN(r,this.debugName,i))))},Pu=function(e){return Is(Symbol.for("".concat(this.debugName,":provides/").concat(e)))},wn=new WeakMap,Fy=function(e){return a(this,wn).add(e),Is(Symbol.for("".concat(this.debugName,":consumes/").concat(e)))},xu=function(e,r="module"in a(this,M)?a(this,M).module:null){const n=m(this,T,Fy).call(this,e);if(!r)return n;const i=Reflect.get(r,"".concat(e,"Token"));return i?(a(this,Er).getExecutionScopeDefinition("global").register({token:i,useToken:n},{override:!1}),n):(E.verbose("No token in module"),n)},Ly=function(e){for(const r of a(this,wn))m(this,T,xu).call(this,r,e);a(this,wn).clear()},Uy=function(){const e=()=>a(this,M).kind==="activated",r=()=>a(this,M).kind==="loaded"||a(this,M).kind==="activating"||a(this,M).kind==="activated";return{name:a(this,j).name,provides:new Proxy(Object.create(null),{get:(i,o)=>{if(typeof o=="string")return m(this,T,Pu).call(this,o)}}),consumes:new Proxy(Object.create(null),{get:(i,o)=>{if(typeof o=="string")return m(this,T,xu).call(this,o)}}),get isActivated(){return e()},get isLoaded(){return r()},activate:()=>this.activate(),metadata:a(this,j).metadata}};var $n,Wi,Hi,Ji,kn;class DN{constructor(e,r,n){g(this,$n);g(this,Wi);g(this,Hi);g(this,Ji,new AsyncDisposableStack);g(this,kn,new Map);v(this,Wi,e),v(this,$n,r),v(this,Hi,n)}get(e){const r=a(this,kn).get(e);return r?P(r):b(a(this,$n).loadMetadata(e),ee(n=>{const i=a(this,Ji).use(new RN({name:e,metadata:n,loader:a(this,$n),context:a(this,Wi),activation:a(this,Hi)}));return a(this,kn).set(e,i),i}),pl(n=>b(ys(n.plugin.metadata.dependencies.map(i=>this.get(i))),ee(ze(()=>n.plugin.metadata.optionalDependencies.map(i=>this.get(i)))),ee(()=>n))))}activate(e){return b(this.get(e),kr,N(r=>r.activate()))}getPlugin(e){return b(this.get(e),ee(r=>r.plugin))}get all(){return Array.from(a(this,kn).values())}[Symbol.asyncDispose](){return a(this,Ji).disposeAsync()}}$n=new WeakMap,Wi=new WeakMap,Hi=new WeakMap,Ji=new WeakMap,kn=new WeakMap;function CN(t){return new AN(t)}var In,Tn,Ie,he,wr,Le,On,Ue,Et,Rt,By,zy,Ru;class AN{constructor(e){g(this,Rt);g(this,In,new AbortController);g(this,Tn,new AbortController);g(this,Ie);g(this,he);g(this,wr);g(this,Le);g(this,On);g(this,Ue);g(this,Et);S(this,"realm");S(this,"status",a(this,In).signal);var n;v(this,Ie,new AsyncDisposableStack),a(this,Ie).defer(()=>{a(this,In).abort(),E.verbose("PluginHost disposed.")}),v(this,he,e),v(this,wr,new Iy),v(this,Le,a(this,Ie).use(new DN(this,a(this,he).loader,a(this,wr))));const r={activationsInProgress:a(this,wr),connection:a(this,Tn).signal,onBeforeStart:i=>{var o,s;return b(new Set((s=(o=a(this,he).plugins[i])==null?void 0:o.onStart)!=null?s:[]),Ts(c=>a(this,Le).activate(c)),vi,D(wt))},onBeforeStop:i=>{var o,s;return b(new Set((s=(o=a(this,he).plugins[i])==null?void 0:o.onStop)!=null?s:[]),Ts(c=>a(this,Le).activate(c)),vi,D(wt))},getExecutionScopeProxy:(i,o)=>{if(!i)return o;const s=a(this,Le).get(i);return s.ok?s.value.getExecutionScopeProxy(o):o}};if((n=a(this,he).background)!=null&&n.executionScopeData)v(this,Et,a(this,Ie).use(ON({...r,entangledScopes:a(this,he).background.entangledScopes,backgroundPort:a(this,he).background.executionRealmData.port,findPlugin:i=>a(this,Le).getPlugin(i),executionScopeData:a(this,he).background.executionScopeData}))),v(this,On,a(this,Et)),v(this,Ue,a(this,Ie).use(a(this,Et).create()));else{const i=a(this,Ie).use(TN(r));v(this,Et,null),v(this,On,i),v(this,Ue,a(this,Ie).use(i.create({data:null})))}this.realm=a(this,Ue).realm}getPluginLoader(){return a(this,he).loader}getPlugin(e){return a(this,Le).getPlugin(e)}getPlugins(e){return e?ys(e.map(r=>a(this,Le).getPlugin(r))):P(a(this,Le).all.map(r=>r.plugin))}getExecutionScopeDefinition(e){return a(this,On).getExecutionScopeDefinition(e)}getGlobalExecutionScopeControllerForTesting(){return x(new $("This method is only available in tests."))}register(e,r){return a(this,Ue).register(e,r)}registerExecutionScopeReviver(e,r){return e==="global"?x(new $("The global scope is handled internally.")):a(this,Et)?P(a(this,Et).registerReviver(e,$t(),r)):(E.verbose('Cannot register reviver for "'.concat(e,'" scope: no reviver available.')),P(lt(wt)))}getResolutionMetadata(){const e=vN();return e?{plugin:e}:null}start(){return b(m(this,Rt,By).call(this),N(()=>a(this,Ue).start()))}async exposeOnPort(e,r=tr()){var u;var l=[];try{const n=ce(l,new DisposableStack);const i="bg-".concat(r);const o="fg-".concat(r);const s=(u=a(this,he).useWebLocks)!=null?u:!0;if(!s)return E.verbose("Skip Web Locks for ExecutionRealm(".concat(i,").")),b(m(this,Rt,zy).call(this,i,e),ee(()=>n.move()));E.verbose("ExecutionRealm(".concat(i,") created."));const c=new AbortController;return await b(wN({id:i,otherId:o,onConnection:()=>{E.verbose("ExecutionRealm(".concat(i,") connected."))},onConnectionLost:()=>{E.verbose("ExecutionRealm(".concat(i,") disconnected.")),c.abort()},onConnectionError:h=>{E.verbose("SynchronizationLock failed for ExecutionRealm(".concat(i,").")),E.error(h),c.abort()}}),An(It.use(n)),N(async h=>b(n.use(m(this,Rt,Ru).call(this,r,e,c.signal)),y=>a(this,Ue).entangle(y.createClient()),It.use(n),ee(()=>{const y=n.move();return c.signal.addEventListener("abort",()=>y.dispose(),{once:!0,signal:a(this,In).signal}),E.verbose("ExecutionRealm(".concat(i,") exposed on port.")),{lock:h,[Symbol.dispose]:()=>y.dispose()}}))))}catch(f){var d=f,p=!0}finally{ue(l,d,p)}}use(e){if(a(this,Ie).disposed)return void la(e);a(this,Ie).use(e)}[Symbol.asyncDispose](){return a(this,Ie).disposeAsync()}}In=new WeakMap,Tn=new WeakMap,Ie=new WeakMap,he=new WeakMap,wr=new WeakMap,Le=new WeakMap,On=new WeakMap,Ue=new WeakMap,Et=new WeakMap,Rt=new WeakSet,By=function(){var r;return((r=a(this,he).background)==null?void 0:r.executionRealmData.lock)?(E.verbose("Using synchronization lock."),b($N(a(this,he).background.executionRealmData.lock,{onConnection:()=>{E.verbose("ExecutionRealm connected.")},onConnectionLost:()=>{E.verbose("ExecutionRealm disconnected. Stopping the host."),a(this,Tn).abort("connection lost")},onConnectionError:n=>{E.verbose("ExecutionRealm failed to connect. Stopping the host."),E.error(new $("ExecutionRealm connection error",n)),a(this,Tn).abort("connection error")}}),vv(gl.use(a(this,Ie))),D(wt))):R()},zy=function(e,r){var s=[];try{const n=ce(s,new DisposableStack);const i=new AbortController;n.defer(()=>i.abort());const o=n.use(m(this,Rt,Ru).call(this,e,r,i.signal));return b(a(this,Ue).entangle(o.createClient()),It.use(n),ee(()=>n.move()))}catch(c){var u=c,l=!0}finally{ue(s,u,l)}},Ru=function(e,r,n){const i="bg-".concat(e),o="fg-".concat(e);return new yi(mi(r),{logger:{location:"Background",name:"RealmEntanglement",context:i},handler:{getEntity:async(s,c)=>n.aborted?Z(new $r("Cannot process getEntity() in untangled ExecutionRealm")):b(s.plugin?b(a(this,Le).getPlugin(s.plugin),kr,N(u=>u.activate())):R(),N(()=>a(this,wr).waitUntilUnlocked()),N(async()=>a(this,Ue).findExecutionScopeController(s.scopeName,s.scopeId)),N(async u=>u.resolveEntity(s.plugin,s.entity,n,o)),D(u=>c.transfer(u,[u.transport.port])),xt(u=>(E.error("Failed to get entity:",u),u))),getExecutionScopeInitializationData:async s=>ys(s.scopes.map(({scopeName:c,scopeId:u})=>b(a(this,Ue).findExecutionScopeController(c,u),ee(l=>({scopeName:c,scopeId:u,initializationData:l.serialize({childList:!1,ancestors:!1}).initializationData})))))}})};var eh=(t,e)=>(e=Symbol[t])?e:Symbol.for("Symbol."+t),th=t=>{throw TypeError(t)},rh=(t,e,r)=>{if(e!=null){typeof e!="object"&&typeof e!="function"&&th("Object expected");var n;r&&(n=e[eh("asyncDispose")]),n===void 0&&(n=e[eh("dispose")]),typeof n!="function"&&th("Object not disposable"),t.push([r,n,e])}else r&&t.push([r]);return e},NN=(t,e,r)=>{var n=typeof SuppressedError=="function"?SuppressedError:function(s,c,u,l){return l=Error(u),l.name="SuppressedError",l.error=s,l.suppressed=c,l},i=s=>e=r?new n(s,e,"An error was suppressed during disposal"):(r=!0,s),o=s=>{for(;s=t.pop();)try{var c=s[1]&&s[1].call(s[2]);if(s[0])return Promise.resolve(c).then(o,u=>(i(u),o()))}catch(u){i(u)}if(r)throw e};return o()};async function jN({metadata:t,monitoring:e,connectEventSource:r}){var n=[];try{E.verbose("Initializing background app",t);const c=rh(n,new AsyncDisposableStack,!0),u=rh(n,e.duration("background_app_launch")),l=["inline-decorations"],f=c.use(CN({plugins:{global:{onStart:l}},loader:SN({metadata:Object.assign({"../plugin-capi-suggestion/package.json":x1,"../plugin-capi/package.json":D1,"../plugin-connector/package.json":A1,"../plugin-document-group/package.json":j1,"../plugin-document-session/package.json":F1,"../plugin-inline-assistant/package.json":U1,"../plugin-inline-card/package.json":z1,"../plugin-inline-decorations/package.json":W1,"../plugin-monitoring/package.json":J1,"../plugin-suggestion/package.json":V1,"../plugin-text-decoration/package.json":q1,"../plugin-ui/package.json":Z1,"../plugin-window-management/package.json":eN}),dynamicBundles:Object.assign({"../plugin-capi-suggestion/src/index.ts":()=>import("./index-DfGR_rCK.js"),"../plugin-capi/src/index.ts":()=>import("./index-BldbTuRR.js"),"../plugin-connector/src/index.ts":()=>import("./index-D6ls8lv3.js"),"../plugin-document-group/src/index.ts":()=>import("./index-IEURydWV.js"),"../plugin-document-session/src/index.ts":()=>import("./index-DbXAHXfn.js"),"../plugin-inline-assistant/src/index.ts":()=>import("./index-BcjPWa75.js"),"../plugin-inline-card/src/index.ts":()=>import("./index-R4GM1KPr.js"),"../plugin-inline-decorations/src/index.ts":()=>import("./index-CncmaxA9.js"),"../plugin-monitoring/src/index.ts":()=>import("./index-rGqqgpZT.js"),"../plugin-suggestion/src/index.ts":()=>import("./index-DcjwB2Hh.js"),"../plugin-text-decoration/src/index.ts":()=>import("./index-BltmXkY3.js"),"../plugin-ui/src/index.ts":()=>import("./index-CWjEd7mS.js"),"../plugin-window-management/src/index.ts":()=>import("./index-DunHPFp_.js")})})})),d=b(ys([f.getPlugin("document-group"),f.getPlugin("window-management")]),pl(([p,h])=>It.all([f.register({token:sN,useValue:rR(t)}),f.register({token:Qv,useValue:nm(t)}),f.register({token:p.consumes.ConnectEventSource,useValue:r}),f.register({token:h.consumes.ExecutionRealmProvider,useValue:{getExecutionRealmData:y=>{const _=new MessageChannel;return b(f.exposeOnPort(_.port1,y),D(({lock:k})=>({lock:k,port:_.port2})))}}})])));return xe(d)?d:await b(f.start(),D(()=>c.move()))}catch(c){var i=c,o=!0}finally{var s=NN(n,i,o);s&&await s}}var MN=(t,e)=>(e=Symbol[t])?e:Symbol.for("Symbol."+t),Ps=t=>{throw TypeError(t)},Gy=(t,e,r)=>e.has(t)||Ps("Cannot "+r),Ae=(t,e,r)=>(Gy(t,e,"read from private field"),r?r.call(t):e.get(t)),mc=(t,e,r)=>e.has(t)?Ps("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),yc=(t,e,r,n)=>(Gy(t,e,"write to private field"),e.set(t,r),r),Wy=(t,e,r)=>{if(e!=null){typeof e!="object"&&typeof e!="function"&&Ps("Object expected");var n;n===void 0&&(n=e[MN("dispose")]),typeof n!="function"&&Ps("Object not disposable"),t.push([r,n,e])}return e},Hy=(t,e,r)=>{var n=typeof SuppressedError=="function"?SuppressedError:function(s,c,u,l){return l=Error(u),l.name="SuppressedError",l.error=s,l.suppressed=c,l},i=s=>e=r?new n(s,e,"An error was suppressed during disposal"):(r=!0,s),o=s=>{for(;s=t.pop();)try{var c=s[1]&&s[1].call(s[2]);if(s[0])return Promise.resolve(c).then(o,u=>(i(u),o()))}catch(u){i(u)}if(r)throw e};return o()},At,Nt,si;function FN(t){var e=[];try{const i=Wy(e,new DisposableStack),o=new AbortController;i.defer(()=>o.abort());const s=(c,u)=>{const l=()=>{const d=-Math.log(Math.random())*c;setTimeout(f,d)},f=()=>{o.signal.aborted||(u(),l())};l()};if(!globalThis.crossOriginIsolated){if("memory"in performance){E.info("Using performance.memory as ".concat(globalThis.origin," is not cross-origin isolated."),{delivery:!1});const c={totalJSHeapSize:new bc,usedJSHeapSize:new bc,jsHeapSizeLimit:new bc};let u=null,l=null;const f=1e3*60;s(f,()=>{const d=performance.memory;if(!d)return;c.totalJSHeapSize.update(d.totalJSHeapSize),c.usedJSHeapSize.update(d.usedJSHeapSize),c.jsHeapSizeLimit.update(d.jsHeapSizeLimit);const p=c.usedJSHeapSize.count,h=c.usedJSHeapSize.mean,y=c.totalJSHeapSize.mean,_=c.usedJSHeapSize.check(h);switch(xs(u)&&Ll(_)&&(l==null||l.close(),l=null),u=_,xs(_)&&(l!=null||(l=t.duration("memory_pressure"))),p){case 1:t.histogram("initial_total_js_heap_size",{value:y}),t.histogram("initial_used_js_heap_size",{value:h});break;case 10:t.histogram("10min_total_js_heap_size",{value:y}),t.histogram("10min_used_js_heap_size",{value:h});break;case 60:t.histogram("1hr_total_js_heap_size",{value:y}),t.histogram("1hr_used_js_heap_size",{value:h});break;case 24*60:t.histogram("1day_total_js_heap_size",{value:y}),t.histogram("1day_used_js_heap_size",{value:h});break;case 2*24*60:t.histogram("2day_total_js_heap_size",{value:y}),t.histogram("2day_used_js_heap_size",{value:h});break;case 3*24*60:t.histogram("3day_total_js_heap_size",{value:y}),t.histogram("3day_used_js_heap_size",{value:h});break;case 7*24*60:t.histogram("1week_total_js_heap_size",{value:y}),t.histogram("1week_used_js_heap_size",{value:h});break}})}}return i.move()}catch(i){var r=i,n=!0}finally{Hy(e,r,n)}}function LN(t){var e=[];try{const i=Wy(e,new DisposableStack);if(!globalThis.isSecureContext)return E.warn("PressureObserver is not supported in insecure context",{delivery:!1}),i.move();try{const o=new Map,s=new Map,c=new PressureObserver(u=>{var l;for(const f of u){const d=o.get(f.source),p=f.state;if(xs(d)&&Ll(p)){const h=s.get(f.source);h==null||h.close(),s.delete(f.source)}o.set(f.source,f.state),xs(p)&&s.set(f.source,(l=s.get(f.source))!=null?l:t.duration("".concat(f.source,"_pressure")))}});i.defer(()=>c.disconnect()),PressureObserver.knownSources.forEach(u=>{E.info("PressureObserver is setup for ".concat(u," pressure."),{delivery:!1}),c.observe(u,{samplePeriod:15*1e3})})}catch(o){o instanceof ReferenceError?E.warn("PressureObserver is not supported",{delivery:!1}):E.error("Failed to create PressureObserver",Pe(o))}return i.move()}catch(i){var r=i,n=!0}finally{Hy(e,r,n)}}class bc{constructor(){mc(this,At,0),mc(this,Nt,0),mc(this,si,0)}update(e){yc(this,Nt,Ae(this,Nt)+1);const r=e-Ae(this,At);yc(this,At,Ae(this,At)+r/Ae(this,Nt)),yc(this,si,Ae(this,si)+r*(e-Ae(this,At)))}get count(){return Ae(this,Nt)}get mean(){return Ae(this,At)}get variance(){return Ae(this,Nt)<1?NaN:Ae(this,si)/Ae(this,Nt)}getZScore(e){const{mean:r,variance:n}=this;return isNaN(r)||isNaN(n)?NaN:(e-Ae(this,At))/Math.sqrt(this.variance)}check(e){const r=this.getZScore(e);return isNaN(r)||r<=1?"normal":r<=2?"fair":r<=3?"serious":"critical"}}At=new WeakMap;Nt=new WeakMap;si=new WeakMap;function Ll(t){return t==="normal"||t==="fair"}function xs(t){return!Ll(t)}var nh=(t,e)=>(e=Symbol[t])?e:Symbol.for("Symbol."+t),ih=t=>{throw TypeError(t)},Sc=(t,e,r)=>{if(e!=null){typeof e!="object"&&typeof e!="function"&&ih("Object expected");var n;r&&(n=e[nh("asyncDispose")]),n===void 0&&(n=e[nh("dispose")]),typeof n!="function"&&ih("Object not disposable"),t.push([r,n,e])}else r&&t.push([r]);return e},UN=(t,e,r)=>{var n=typeof SuppressedError=="function"?SuppressedError:function(s,c,u,l){return l=Error(u),l.name="SuppressedError",l.error=s,l.suppressed=c,l},i=s=>e=r?new n(s,e,"An error was suppressed during disposal"):(r=!0,s),o=s=>{for(;s=t.pop();)try{var c=s[1]&&s[1].call(s[2]);if(s[0])return Promise.resolve(c).then(o,u=>(i(u),o()))}catch(u){i(u)}if(r)throw e};return o()};console.log("Worker started");BN().then(()=>E.info("Background app started")).catch(t=>E.error(t));async function BN(){var t=[];try{console.log("Starting background app");const i=Sc(t,Ss.startSpan("Background")),o=Sc(t,new AsyncDisposableStack,!0);o.use(uR());const s=Promise.withResolvers(),c=kt(()=>s.promise);o.use(IA(c));const u=O1(s),{monitoring:l}=o.use(FA(c)),f=Sc(t,l.duration("background_window_setup"));return o.use(FN(l)),o.use(LN(l)),await b(c,N(d=>jN({metadata:d,monitoring:l,connectEventSource:u})),vv(gl.use(o)),D(()=>o.move()))}catch(i){var e=i,r=!0}finally{var n=UN(t,e,r);n&&await n}}export{VN as $,R as A,r1 as B,$ as C,kr as D,sN as E,Qv as F,Z as G,hl as H,Kx as I,yi as J,Pe as K,ie as L,jA as M,T1 as N,xe as O,ZN as P,mN as Q,It as R,jl as S,Vx as T,et as U,Dl as V,XN as W,fm as X,nr as Y,pa as Z,KN as _,N as a,la as a0,oo as a1,Hn as a2,HN as a3,tr as a4,$r as a5,hm as a6,lt as a7,$s as a8,pu as a9,o1 as aA,n1 as aB,i1 as aC,s1 as aD,l1 as aE,d1 as aF,a1 as aG,GN as aH,$y as aI,tj as aJ,du as aa,qN as ab,WN as ac,rj as ad,nj as ae,aj as af,S1 as ag,YA as ah,te as ai,fj as aj,cj as ak,oj as al,QN as am,Wp as an,hv as ao,Ss as ap,mv as aq,dj as ar,sj as as,ij as at,YN as au,uj as av,dl as aw,hu as ax,u1 as ay,f1 as az,Ts as b,Is as c,EN as d,pl as e,x as f,vi as g,D as h,ys as i,ks as j,Zv as k,E as l,ee as m,xt as n,Nl as o,b as p,ze as q,gm as r,P as s,lj as t,kt as u,pm as v,wt as w,gl as x,E1 as y,BA as z};
//# sourceMappingURL=start-C5OgI2kj.js.map
